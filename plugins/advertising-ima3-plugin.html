---
title: "Publicidad con el complemento IMA3"
description: "Este tema cubre el uso del complemento IMA y cómo se puede implementar con Studio y mediante la codificación personalizada".

parent: "Plugins"
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>
    <p>
      El complemento IMA integra el reproductor Brightcove con los anuncios multimedia interactivos (IMA) de Google para HTML5 versión 3. Esto le permite solicitar y rastrear anuncios VAST, VPAID y VMAP para su reproductor. Para obtener detalles sobre Google IMA, consulte el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/">Uso de la versión 3 del SDK de IMA HTML5</a> documento.
    </p>
  </section>


  <section class="bcls-section">
    <h2 id="Player_sample">Muestra de jugador</h2>

    <p>
      El vídeo de ejemplo que aparece a continuación muestra el uso del complemento IMA. Reproduce el vídeo para ver un pre-roll, un midroll saltable a 5 segundos y, finalmente, un post roll.
    </p>
    <video-js data-account="1752604059001"
      data-player="H1Qvsb12"
      data-embed="default"
      controls=""
      data-video-id="4607357817001"
      data-playlist-id=""
      data-application-id=""
      width="600" height="340"
      playsinline></video-js>
    <script src="https://players.brightcove.net/1752604059001/H1Qvsb12_default/index.min.js"></script>
  </section>

  <section class="bcls-section">
    <h2 id="Testing_the_ad_server">Probar el servidor de anuncios</h2>

    <p>
      Lo primero que debe hacer es verificar la validez de la etiqueta de anuncio que planea utilizar. Asegúrese de haber copiado su URL y navegue hasta la siguiente página: <a target="_blank" rel="noopener noreferrer" href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector">Inspector de video suite</a> (al hacer clic en este enlace, la página se abrirá en una nueva ventana o pestaña).
    </p>

    <p>
      Pegue la URL de su etiqueta de anuncio en el <strong translate="No">Tipo de entrada</strong> campo de entrada de formulario. Hacer clic <strong translate="No">Anuncio de prueba</strong> y verá reproducir su (s) anuncio (s), con el video proporcionado por Google intercalado. Si la etiqueta de anuncio no funciona en este entorno de prueba, no funcionará con Brightcove Player.
    </p>

    <aside class="bcls-aside bcls-aside--information"> Nota: Su proveedor de anuncios puede alojar la etiqueta de anuncio VAST o puede copiar el XML y alojarlo en su propia URL.</aside>
  </section>

  <section class="bcls-section">
    <h2 id="Implement_using_Players_module_advertising_section">Implementar usando el módulo Players - Sección de publicidad</h2>

    <p>
      En esta sección del documento, utilizará Studio para implementar publicidad utilizando el <strong>Publicidad</strong> sección. En este caso, está limitado a las opciones que ofrece el formulario. Si desea personalizar la implementación utilizando algunas de las muchas opciones disponibles que NO se proporcionan en esta sección, utilice el <a href="#Implement_using_Players_module_plugins_section">Implementar usando el módulo Players - <strong>Complementos</strong> sección</a> , que brinda la oportunidad de ofrecer opciones a través de JSON.
    </p>

    <div id="player" class="video-cloud-only">
      <video-js data-account="20318290001" data-player="E16-WGGOe" data-embed="default" data-video-id="4043519495001" class="video-js" controls="" crossorigin="anonymous" width="640" height="360">&nbsp;</video-js>
      <script src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.min.js"></script>
    </div>

    <p>Para implementar el complemento IMA mediante el módulo de reproductores, siga estos pasos:</p>

    <ol class="bcls-tasklist">
      <li>Abre el <strong>JUGADORES</strong> módulo y cree un nuevo reproductor o localice el reproductor al que desea agregar funcionalidad publicitaria.</li>
      <li>Haz clic en el enlace del reproductor para abrir las propiedades del reproductor.</li>
      <li>Hacer clic <strong>Publicidad</strong> en el menú de navegación de la izquierda.</li>
      <li>Comprobar el <strong>Habilitar el lado del cliente (IMA)</strong> caja.</li>
      <li>Introducir el <strong translate="No">URL del servidor</strong> para el servidor de anuncios.</li>
      <li>
        Selecciona el <strong translate="No">Solicitar anuncios</strong> configuración.
        <ul>
          <li>
            <strong translate="No">En carga</strong> - Los anuncios se solicitan inmediatamente cuando se carga el reproductor (esta suele ser la mejor experiencia para DFP / VPAID).
          </li>
          <li><strong translate="No">En juego</strong> - La primera solicitud de anuncio se retrasa hasta que se inicia la reproducción.</li>
          <li>
            <strong translate="No">Bajo demanda</strong> - Todas las solicitudes de anuncios se iniciarán mediante programación mediante el <code translate="No">player.ima3.adrequest()</code> método. Este modo no admite anuncios previos o postroll.
          </li>
          <li>
            <strong translate="No">En el punto de referencia</strong> - Las solicitudes de anuncios se iniciarán en un punto de referencia de anuncios enviado. Ver el <a href="/advertising/displaying-ads-using-ad-cue-points.html">Visualización de anuncios mediante puntos de inserción de anuncios</a> documento para obtener detalles completos.
          </li>
        </ul>
      </li>
      <li>
        Seleccione el anuncio <strong translate="No">Modo VPAID</strong>. El modo VPAID se utiliza para habilitar la compatibilidad con VPAID 2 en anuncios IMA.
        <ul>
          <li><strong translate="No">Activado</strong> - Reproducir anuncios VPAID en un iframe con un dominio diferente</li>
          <li><strong translate="No">Inseguro</strong> - Reproducir anuncios VPAID en un iframe con el mismo dominio</li>
          <li><strong translate="No">Discapacitado</strong> - Los anuncios VPAID arrojan un error</li>
        </ul>
      </li>
      <li>
        Selecciona el <strong translate="No">Se acabó el tiempo</strong> valor. Esta es la cantidad máxima de tiempo de espera, en milisegundos, para que un anuncio se inicialice antes de la reproducción.
      </li>
      <li>
        Haz una elección para <strong>Tiempos de espera difíciles</strong>. Desmarcar esta opción podría resultar en un anuncio de carga lenta que interrumpe la reproducción de video.
      </li>
      <li>
        Selecciona el <strong>Número máximo de redireccionamientos</strong>. Esto especifica el número máximo de redireccionamientos antes de que se denieguen los redireccionamientos posteriores y se anule la carga de anuncios. El número de redireccionamientos afecta directamente a la latencia y, por lo tanto, a la experiencia del usuario.
      </li>
      <li>Para el <strong>Versión del complemento</strong> , se recomienda encarecidamente que utilice la última versión.</li>
      <li>
        Vea un ejemplo, formulario completo:
        <figure class="bcls-figure">
          <img class="bcls-image" alt="IMA3 properties in Studio" src="/assets/images/plugins/ima/studio-ima-plugin-props.png" />
        </figure>
      </li>
      <li>Haz clic en <strong>Guardar</strong>.</li>
      <li>Para publicar el reproductor, haga clic en <strong>Publicar e insertar &gt; Publicar cambios</strong>.</li>
      <li>Para cerrar el cuadro de diálogo abierto, haga clic en <strong>Cerrar</strong>.</li>
    </ol>

    <p>
      Cuando se guardan los cambios en las propiedades publicitarias, el complemento IMA se configurará como parte de la configuración del complemento. El JavaScript y CSS estarán ocultos ya que los agregó a través del <strong translate="No">Publicidad</strong> sección.
    </p>

    <p>
      El complemento IMA admite propiedades adicionales que no están disponibles en esta sección de la interfaz de usuario. Consulte la siguiente sección de este documento para conocer una forma de utilizar más opciones de configuración.
    </p>

    <aside class="bcls-aside bcls-aside--tip"> Nota: Es posible que desee construir dinámicamente el <code translate="No">serverUrl</code> en el cliente (lo que significa que el complemento IMA3 ya estaría inicializado), por ejemplo, después de un inicio de sesión de usuario. Puede hacer esto estableciendo ese valor en una cadena vacía en el <strong translate="No">opciones</strong> <code translate="No">{ "serverUrl": "" }</code> y luego asigne el valor mediante programación.</aside>
  </section>

  <section class="bcls-section">
    <h2 id="Implement_using_Players_module_plugins_section">Implementar usando el módulo Players - Sección de complementos</h2>

    <p>
      Si desea configurar el complemento IMA3 más allá de las opciones proporcionadas en el <strong>Publicidad</strong> sección, puede utilizar la <strong>Complementos</strong> sección, que proporciona una forma de proporcionar opciones a través de JSON.
    </p>

    <p>Para implementar el complemento IMA3, agregará el nombre de la función del complemento y las URL a los archivos JavaScript y CSS del complemento:</p>

    <ol class="bcls-tasklist-restart">
      <li>Abre el <strong>JUGADORES</strong> módulo y cree un nuevo reproductor o localice el reproductor al que desea agregar el complemento.</li>
      <li>Haz clic en el enlace del reproductor para abrir las propiedades del reproductor.</li>
      <li>Haz clic en <strong>Plugins</strong> en el menú de navegación izquierdo.</li>
      <li>Desde el <strong>Agregar un complemento</strong> desplegable, seleccione <strong>Complemento personalizado</strong>.
        <figure class="bcls-figure">
          <img class="bcls-image" alt="Select Plugin" src="/assets/images/plugins/ima/custom-plugin.png" />
        </figure></li>
      <li>Para el nombre del <strong>complemento,</strong> introduzca <code translate="No">ima3</code>.</li>
      <li>
        Para el <strong>JavaScript</strong> URL, ingrese:
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code></pre>
      </li>
      <li>
        Para el <strong>CSS</strong> URL, ingrese:
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code></pre>
      </li>
      <!-- ** choose one of the following two steps, delete the other ** -->
      <li>
        Ingrese las opciones de configuración en el <strong>Opciones (JSON)</strong> caja de texto.
        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000,
  "debug": true
}</code></pre>
      </li>
      <li>Haz clic en <strong>Guardar</strong>.</li>
      <li>Para publicar el reproductor, haga clic en <strong>Publicar e insertar &gt; Publicar cambios</strong>.</li>
      <li>Para cerrar el cuadro de diálogo abierto, haga clic en <strong>Cerrar</strong>.</li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="JSON_vs_JavaScript_notation">JSON vs notación JavaScript</h2>

    <p>
      Si examina el <strong translate="No">Opciones</strong> sección anterior, verá que la información de configuración se proporciona en formato JSON. Si está utilizando código para implementar su complemento IMA3, la notación para configurar las opciones con JavaScript es ligeramente diferente.
    </p>

    <p>Aquí puede ver opciones en formato JSON que puede usar en Studio:</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "requestMode": "onload",
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml?cust_params={mediainfo.ad_keys}",
  "timeout": 5000
}</code></pre>

    <p>Si está usando JavaScript para configurar sus opciones, el formato JSON funcionaría, pero también podría usar la sintaxis de JavaScript como se muestra aquí:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  requestMode: 'onload',
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap',
  timeout: 5000
}</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Options">Opciones</h2>

    <p>
      El complemento video.js IMA3 está construido sobre el <a href="https://github.com/brightcove/videojs-ads">marco de anuncios de video.js</a> y acepta todas las opciones que ofrece el marco publicitario. Eche un vistazo al marco de anuncios <a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">README</a> para obtener detalles sobre el conjunto actual de configuraciones anulables. Tanto las opciones específicas del complemento IMA como las opciones del marco publicitario se documentan aquí.
    </p>
    <p>Las opciones son:</p>
    <ul>
      <li><a href="#clickTrackingElement">clickTrackingElement</a></li>
      <li><a href="#debug">depurar</a></li>
      <li><a href="#debugContribAds">debugContribAds</a></li>
      <li><a href="#disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</a></li>
      <li><a href="#hardTimeouts">hardTimeouts</a></li>
      <li><a href="#ima3SdkSettings">ima3SdkSettings</a></li>
      <li><a href="#requestMode">requestMode</a></li>
      <li><a href="#serverUrl">serverUrl</a></li>
      <li><a href="#showVpaidControls">showVpaidControls</a></li>
      <li><a href="#timeout">tiempo de espera</a></li>
      <li><a href="#useMediaCuePoints">useMediaCuePoints</a></li>
      <li><a href="#usePlayerAutoplayHandling">usePlayerAutoplayHandling</a></li>
      <li><a href="#vpaidMode">vpaidMode</a></li>
    </ul>

    <h3 id="clickTrackingElement">clickTrackingElement</h3>

    <p>Tipo: <code translate="No">HTMLElement</code> Valor predeterminado: indefinido</p>

    <p>
      Si la tecnología publicitaria HTML se utiliza en <a href="https://developers.google.com/web/fundamentals/design-and-ux/input/touch">reproducción de anuncios personalizados</a> modo, esto especifica un elemento HTML alternativo que se utilizará para realizar un seguimiento de las pulsaciones de anuncios en dispositivos que no admiten eventos de entrada sobre el elemento de vídeo. Más detalles están disponibles en la documentación de parámetros para el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdDisplayContainer">AdDisplayContainer de IMA</a>. Si proporciona un elemento de seguimiento de clics, es su responsabilidad mostrarlo y ocultarlo en los momentos adecuados en las plataformas adecuadas. En la mayoría de los casos, es mejor dejar esta configuración sin definir y permitir que el complemento y el IMA administren la interacción con los anuncios.
    </p>

    <h3 id="debug">depurar</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>

    <p>
      Si la depuración se establece en verdadero, el marco de anuncios generará información adicional sobre su estado actual durante la reproducción. Esto puede resultar útil para diagnosticar problemas o comportamientos inesperados en la integración de un anuncio.
    </p>

    <p>Esta opción forma parte del marco publicitario y se configura de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  debug: true
});</code></pre>

    <p>La siguiente captura de pantalla muestra la amplia información que se muestra al activar la depuración.</p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug.png" />
    </figure>

    <h3 id="debugContribAds">debugContribAds</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>
    <p>Se usa para habilitar el registro de depuración para videojs-contrib-ads. Para ID3 <code translate="No">oncue</code> solicitudes para trabajar, la trama ID3 TXXX recibida debe contener datos JSON con los siguientes campos:</p>
    <ul>
      <li>Formato de etiqueta de señal de anuncio:
        <ul>
          <li>nombre: Obligatorio: debe ser la cadena <code translate="No">adCue</code></li>
          <li>id: Obligatorio: un valor único para identificar el anuncio dado que los tiempos son relativos en las transmisiones en vivo.</li>
          <li>serverUrl: Opcional: anule el <code translate="No">serverUrl</code> en la configuración de IMA3 solo para este anuncio</li>
          <li>duración: Opcional: adjunto como <code translate="No">breaklength</code> parámetro a la URL del servidor</li>
        </ul>
        Ejemplo: <code translate="No">{"name": "adCue", "id": 123}</code>
      </li>
      <li>Formato de etiqueta de cancelación de anuncios:
        <ul>
          <li>nombre: Obligatorio: debe ser el valor de la cadena <code translate="No">adCancel</code></li>
          <li>id: Obligatorio: un valor único para identificar la cancelación del anuncio dado que los tiempos son relativos en las transmisiones en vivo.</li>

        </ul>
        Ejemplo: <code translate="No">{"name": "adCancel", "id": 234}</code>
      </li>
    </ul>

    <h3 id="disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>

    <p>
      Esta propiedad es parte de la <code translate="No">ima3SdkSettings</code> objeto. Actúa como un captador y configurador para controlar si se deshabilita la reproducción personalizada en los navegadores iOS 10+. El comportamiento es el siguiente:
    </p>

    <ul>
      <li>
        Cuando es verdadero, los anuncios se reproducirán en línea si el video de contenido está en línea, lo que permite los anuncios que se pueden omitir. Sin embargo, el anuncio permanecerá en línea y no será compatible con la pantalla completa nativa de iOS.
      </li>
      <li>Cuando es falso, los anuncios se reproducirán en el mismo reproductor que su contenido.</li>
    </ul>

    <p>Ver el <a href="#skippable-ads">Anuncios que se pueden omitir en iOS</a> sección de este documento para ver un ejemplo del uso de esta configuración.</p>



    <h3 id="hardTimeouts">hardTimeouts</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">true</code></p>

    <p>
      Abandone los anuncios que terminan de cargarse después de que se agote el tiempo de espera. Esto evitará que los anuncios lentos de pre-roll se interrumpan después de la <code translate="No">timeout</code> ha transcurrido y el contenido de vídeo ha comenzado a reproducirse.
    </p>

    <p>Esta opción forma parte del marco publicitario y se configura de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  hardTimeouts: true
});</code></pre>

    <p>Configurar esta opción para <code translate="No">false</code> resultará en contenido flash antes de los anuncios.</p>

    <h3 id="ima3SdkSettings">ima3SdkSettings</h3>

    <p>Tipo: <code translate="No">object</code> Valor predeterminado: indefinido</p>

    <p>
      Si se proporcionan, las propiedades de este objeto se utilizan para establecer el nivel de página <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">Ima3SdkSettings</a> cuando el SDK de IMA haya terminado de cargarse. Se espera que las propiedades de este objeto sean el equivalente en caja de camello de los métodos setter en el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">SDK</a> objeto de configuración, menos el 'conjunto' prefijo. Por ejemplo, si proporcionó este objeto al inicializar el complemento:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    'numRedirects': 3,
    'ppid': 'publisher-provided-id'
  }
}</code></pre>

    <p>Luego, el complemento de IMA video.js ejecutaría un código similar a este cuando se cargó IMA:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">window.google.ima.ImaSdkSettings.setNumRedirects(3);
window.google.ima.ImaSdkSettings.setPpid('publisher-provided-id');</code></pre>

    <h3 id="requestMode">requestMode</h3>

    <p>Tipo: <code translate="No">string</code> Valor predeterminado: <code translate="No">onload</code></p>

    <p>Esta opción forma parte del marco publicitario que se configura de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  requestMode: 'onplay'
});</code></pre>

    <p>Hay cuatro valores posibles para esta opción:</p>

    <ul>
      <li>
        <code translate="No">onload</code>: Los anuncios se solicitan inmediatamente cuando se carga el reproductor. Normalmente, esta es la mejor experiencia para DFP / VPAID.
      </li>
      <li>
        <code translate="No">onplay</code>: La primera solicitud de anuncio se retrasa hasta que se inicia la reproducción. Esto es importante para las redes publicitarias que consideran que las solicitudes de anuncios son reproducciones, por lo que no querrá una solicitud de anuncios antes que una solicitud de reproducción. Esto hará que los anuncios traficados finalmente desaparezcan, o el cliente recibirá menos por los anuncios mostrados.
      </li>
      <li>
        <code translate="No">ondemand</code>: Los anuncios solo se reproducirán cuando se inicien con el <code translate="No">player.ima3.adrequest()</code> método manualmente. Este modo no admite anuncios previos o postroll.
      </li>
      <li>
        <code translate="No">oncue</code>: Esta opción se comporta de manera diferente dependiendo de si se usa con el <code translate="No">useMediaCuePoints</code> opción.
        <h4>Uso de puntos de referencia con Video Cloud</h4>

        <p>
          Puede crear puntos de referencia de anuncios para un vídeo en Studio y, a continuación, reproducir un anuncio cuando se active el punto de referencia. Para obtener detalles completos, consulte el <a href="/advertising/displaying-ads-using-ad-cue-points.html">Mostrar anuncios con puntos de inserción de anuncios</a> documento.
        </p>

        <h4>Usar puntos de referencia en una transmisión en vivo</h4>

        <p>
          Los anuncios se solicitan en función de los puntos de referencia ID3 en una transmisión en vivo. Para que este tipo de solicitud funcione correctamente, la trama ID3 TXXX recibida debe contener datos JSON con los siguientes campos:
        </p>

        <ul>
          <li><code translate="No">name</code>: Requerido; debe ser el valor de la cadena <code translate="No">adCue</code></li>
          <li><code translate="No">id</code>: Requerido; Un valor único para identificar el anuncio dado que los tiempos son relativos en las transmisiones en vivo.</li>
          <li><code translate="No">serverUrl</code>: Opcional; Se adjunta como parámetro de longitud de la pausa a la URL del servidor.</li>
          <li><code translate="No">duration</code>: Opcional; duración del anuncio</li>
        </ul>

        <p>Ejemplo:</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCue", "id": 123}</code></pre>

        <p>
          También puede cancelar los puntos de referencia ID3 en una transmisión en vivo creada por un <code translate="No">adCue</code> mediante el uso <code translate="No">adCancel</code>. Se debe utilizar el siguiente formato para el objeto enviado:
        </p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCancel", "id": 123}</code></pre>

        <p>Ambos <code translate="No">name</code> y <code translate="No">id</code> son requeridos.</p>

        <ul>
          <li>Las señales de anuncios Live ID3 no son compatibles con Android.</li>
          <li>Las señales de cancelación de anuncios Live ID3 no son compatibles con iOS.</li>
        </ul>
      </li>
    </ul>

    <h3 id="serverUrl">serverUrl</h3>

    <p>Tipo: <code translate="No">string</code> o <code translate="No">function</code></p>

    <p>Valor predeterminado (un anuncio genérico de Google):</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062%2Fiab_vast_samples&amp;ciu_szs=300x250%2C728x90&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]&amp;cust_params=iab_vast_samples%3Dlinear</code></pre>

    <p>
      Aquí, proporcionará la URL de su servidor de anuncios. Esta opción se puede configurar en Brightcove Studio como se muestra arriba. También puede establecer el valor en el código. A continuación se muestran dos ejemplos. (Recuerda, deberías <a href="#Testing_the_ad_server">probar la etiqueta de anuncio</a> en su servidor antes de intentar usarlo en el complemento).
    </p>

    <p>Si el valor es una cadena, representa la URL del servidor de anuncios desde donde se solicitan los anuncios y se puede configurar en el código de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  serverUrl: 'your ad server'
});</code></pre>

    <p>
      Si el valor es una función, el parámetro de función es un <code translate="No">callback</code> función que debe llamarse con la URL de su servidor como argumento. Esto proporciona soporte para procesos asincrónicos como la licitación de encabezado. En el siguiente ejemplo, verá información del <code translate="No">mediainfo</code> objeto que se utiliza para determinar qué URL de anuncios se deben utilizar en función de un ID de cuenta:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">// Initialize IMA plugin
myPlayer.ima3({
  serverUrl: function(callback) {
    if (myPlayer.mediainfo.id === '4034552795001') {
      callback('https://pubads.g.doubleclick.net/.../url1');
    } else {
      callback('https://pubads.g.doubleclick.net/.../url2');
    }
  },
  requestMode: 'onload',
  debug: true,
  debugContribAds: true
});</code></pre>

    <h3 id="showVpaidControls">showVpaidControls</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>

    <p>
      Ajustado a <code translate="No">true</code> para mostrar controles personalizados de Brightcove sobre anuncios VPAID. Es posible que funcionen o no según la implementación de VPAID, por lo que Brightcove sugiere probar esta función con sus anuncios antes de habilitarla en producción.
    </p>



    <h3 id="timeout">tiempo de espera</h3>

    <p>Tipo: <code translate="No">number</code> Valor predeterminado: <code translate="No">4000</code></p>

    <p>La cantidad máxima de tiempo, en milisegundos, que se debe esperar a que se reproduzcan los anuncios antes de que se omita una pausa publicitaria.</p>

    <p>Esta opción forma parte del marco publicitario que se configura de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  timeout: 5000
});</code></pre>

    <p>
      En las pruebas internas de Brightcove, se descubrió que cuatro segundos parecían ser lo suficientemente largos para adaptarse a una inicialización lenta en la mayoría de los casos, pero aún lo suficientemente cortos como para que las fallas en la inicialización no parecieran fallas del reproductor o del contenido del video.
    </p>

    <aside class="bcls-aside bcls-aside--tip"> Nota: Si establece el tiempo de espera en Studio y en la configuración del complemento en la página HTML usando JavaScript, la configuración de JavaScript tendrá prioridad.</aside>

    <h3 id="useMediaCuePoints">useMediaCuePoints</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>

    <p>Permite el uso de <strong translate="No">anuncio</strong> puntos de referencia (como se define en Studio) para activar la reproducción de un anuncio.</p>

    <p>Para que los puntos de referencia de anuncios de Video Cloud se utilicen para activar anuncios, se requiere lo siguiente en la configuración del complemento:</p>

    <ul>
      <li><code translate="No">useMediaCuePoints</code>: cierto</li>
      <li><code translate="No">requestMode</code>: La cuerda <code translate="No">oncue</code></li>
      <li><code translate="No">serverUrl</code>: Debe apuntar a un anuncio VAST válido</li>
    </ul>

    <p>
      Si utiliza Studio para configurar la publicidad, cuando seleccione <strong>En el punto de referencia</strong> la <code translate="No">useMediaCuePoints</code> y <code translate="No">requestMode</code> las opciones se establecerán correctamente para usted.
    </p>

    <h3 id="usePlayerAutoplayHandling">usePlayerAutoplayHandling</h3>

    <p>Tipo: <code translate="No">boolean</code> Valor predeterminado: <code translate="No">false</code></p>

    <p>
      Ajustado a <code translate="No">true</code> para utilizar el manejo de reproducción automática principal de Brightcove Player. De lo contrario, utiliza el manejo de reproducción automática predeterminado del complemento IMA3.
    </p>

    <h3 id="vpaidMode">vpaidMode</h3>

    <p>Tipo: <code translate="No">string</code> Valor predeterminado: <code translate="No">ENABLED</code></p>

    <p>Especifique el modo VPAID 2 en el SDK de IMA HTML5.</p>

    <p>Hay tres valores posibles para esta opción:</p>

    <ul>
      <li><code translate="No">ENABLED</code>: Reproduzca anuncios VPAID en un iframe con un dominio diferente.</li>
      <li><code translate="No">INSECURE</code>: Reproduzca anuncios VPAID en un iframe con el mismo dominio.</li>
      <li><code translate="No">DISABLED</code>: Los anuncios VPAID arrojan un error.</li>
    </ul>

    <p>Esta opción se configura de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  vpaidMode: 'DISABLED'
});</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Properties">Propiedades</h2>
    <p>Solo existe una propiedad para el complemento:</p>
    <ul>
      <li>html5: Esta es la única tecnología publicitaria que se puede cargar cuando se inicializa el complemento.</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Ad_macros_and_the_serverUrl">Macros de anuncios y serverUrl</h2>

    <p>
      Hay macros de anuncios disponibles para facilitar su trabajo al crear la URL del servidor de anuncios. Estas macros le permiten utilizar variables en la URL del servidor por las que el complemento IMA3 sustituirá los valores apropiados. Por ejemplo, la siguiente URL del servidor contiene algunas de las variables:
    </p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video={mediainfo.id}&amp;duration={player.duration}"}</code></pre>

    <p>Los complementos IMA3 se sustituirían por los valores apropiados, y la URL del servidor realmente utilizada aparecería de la siguiente manera:</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video=12340001&amp;duration=60"}</code></pre>

    <p>La siguiente es la lista completa de variables para las que se utilizarán valores sustituidos:</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%;">Macro</th>
          <th style="width: 60%;">Descripción</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{document.referrer}</td>
          <td>URL de la página de referencia. <aside class="bcls-aside bcls-aside--tip">
              <p>Dentro del iframe del reproductor, <code translate="no">{document.referrer}</code> es posible que no pueda determinar la URL del sitio de inserción, ya que el valor devuelto dependerá de la política de referencia establecida por el navegador y / o la implementación del sitio. En particular, Chrome ahora tiene el valor predeterminado <strong>origen-cuando-origen-cruzado</strong> política, lo que significa <code translate="no">{document.referrer}</code> dentro del marco del reproductor solo obtendrá el origen. Si necesitas que el referente esté disponible en el reproductor, puedes establecer una política menos restrictiva en el elemento iframe o pasar la <code translate="no">página URL</code> de otra forma, como un parámetro de consulta.</p>
              <p>Para obtener más información, consulte Mozilla <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">Política de referencia</a> documento.</p>
            </aside>
          </td>
        </tr>
        <tr>
          <td>{mediainfo.ad_keys}</td>
          <td>
            Cadena de texto de formulario libre que se puede agregar y editar en el módulo Media de Studio; debe utilizar el parámetro de consulta en el formulario
            <pre class="line-numbers">
<code class="language-javascript" translate="No">cust_params={mediainfo.ad_keys}</code></pre>
          </td>
        </tr>
        <tr>
          <td>{mediainfo.description}</td>
          <td>Breve información (250 caracteres máx.)</td>
        </tr>
        <tr>
          <td>{mediainfo.duration}</td>
          <td>Duración del vídeo según lo informado por Video Cloud</td>
        </tr>
        <tr>
          <td>{mediainfo.id}</td>
          <td>ID de vídeo</td>
        </tr>
        <tr>
          <td>{mediainfo.name}</td>
          <td>Título de vídeo</td>
        </tr>
        <tr>
          <td>{mediainfo.reference_id}</td>
          <td>ID de referencia</td>
        </tr>
        <tr>
          <td>{mediainfo.tags}</td>
          <td>Etiquetas (metadatos) asociadas al vídeo</td>
        </tr>
        <tr>
          <td>{player.duration}</td>
          <td>
            Duración del video medida por el jugador (posiblemente ligeramente diferente de <code translate="No">mediainfo.duration</code> y probablemente más precisa). Tenga en cuenta que esto devuelve 0 si el video no está cargado. Tenga cuidado al sincronizar su solicitud de anuncio con esta macro.
          </td>
        </tr>
        <tr>
          <td>{player.height}</td>
          <td>La altura actual del jugador</td>
        </tr>
        <tr>
          <td>{player.id}</td>
          <td>ID de jugador</td>
        </tr>
        <tr>
          <td>{player.pageUrl}</td>
          <td>La URL de la página: Devuelve la referencia del documento si está en un iframe; de lo contrario, la ubicación de la ventana. <aside class="bcls-aside bcls-aside--tip">
              <p>Dentro del iframe del reproductor, <code translate="no">{player.pageUrl}</code> es posible que no pueda determinar la URL del sitio de inserción, ya que el valor devuelto dependerá de la política de referencia establecida por el navegador y / o la implementación del sitio. En particular, Chrome ahora tiene el valor predeterminado <strong>origen-cuando-origen-cruzado</strong> política, lo que significa <code translate="no">{player.pageUrl}</code> dentro del marco del reproductor solo obtendrá el origen. Si necesitas que el referente esté disponible en el reproductor, puedes establecer una política menos restrictiva en el elemento iframe o pasar la <code translate="no">página URL</code> de otra forma, como un parámetro de consulta.</p>
              <p>Para obtener más información, consulte Mozilla <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">Política de referencia</a> documento.</p>
            </aside>
          </td>
        </tr>
        <tr>
          <td>{player.width}</td>
          <td>El ancho actual del jugador</td>
        </tr>
        <tr>
          <td>{playlist.id}</td>
          <td>Extracción del objeto playlistinfo</td>
        </tr>
        <tr>
          <td>{playlist.name}</td>
          <td>Extracción del objeto playlistinfo</td>
        </tr>
        <tr>
          <td>{random}</td>
          <td>
            Un número aleatorio de 0 a 1 billón (se utiliza para crear una impresión única. Esto evita que el anuncio se almacene en caché en el navegador y evita las discrepancias de impresión.)
          </td>
        </tr>
        <tr>
          <td>{timestamp}</td>
          <td>Hora local actual en milisegundos desde 1/1/70</td>
        </tr>
        <tr>
          <td>{window.location.href}</td>
          <td>URL de página actual</td>
        </tr>
      </tbody>
    </table>

    <aside class="bcls-aside bcls-aside--tip"> NOTA: Al recuperar la URL principal de un reproductor de iframe o una experiencia en la página de la galería, utilice <code translate="No">window.location.href</code> es recomendado. La razón de esto es que las experiencias en la página que utilizan el código de inserción estándar construyen un iframe dinámicamente en tiempo de ejecución para evitar problemas de estilo y secuencias de comandos. Dado que el iframe se genera a través de JavaScript, toma el mismo <code class="notransalate">window.location</code> de la página principal y sigue la política del mismo origen. Desafortunadamente, los navegadores tratan <code class="notransalate">document.referrer</code> de manera diferente para estos iframes generados. Chrome, Safari y Opera todo listo <code class="notransalate">document.referrer</code> hacia <code class="notransalate">window.location</code> de la página principal, pero solo en http (no https). Firefox sigue las especificaciones correctamente y establece <code class="notransalate">document.referrer</code> al referente de la página principal. Todos los navegadores configurados correctamente <code class="notransalate">document.referrer</code> al referente de la página principal en https.</aside>

    <h4>Valores predeterminados y macros de anuncios</h4>

    <p>
      Puede asignar valores predeterminados a las macros de anuncios. Se puede proporcionar un valor predeterminado dentro de una macro, en cuyo caso este valor se utilizará cuando una variable no esté definida. La sintaxis es:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{macro=default}</code></pre>

    <p>Por ejemplo,</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code></pre>

    <p>resolvería lo siguiente si no <code translate="No">window.adConf</code> está definido:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/1234</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Dynamic_macros">Macros dinámicas</h2>

    <p>Las macros dinámicas proporcionan acceso a los valores siguientes:</p>

    <ul>
      <li>Los videos <code translate="No">customFields</code> objeto a través del <code translate="No">mediainfo.customFields</code> variable.</li>
      <li>Los DOM <code translate="No">window</code> objeto a través del <code translate="No">pageVariable</code> variable.</li>
    </ul>

    <p>Por ejemplo, puede utilizar lo siguiente en su solicitud de anuncio:</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/ad?l={<span class="bcls-highlight">pageVariable.navigator.language</span>}&amp;category={<span class="bcls-highlight">mediainfo.customFields.type</span>}</code></pre>

    <p>Para el <code translate="No">pageVariable</code> valores, solo se permite el uso de ciertos tipos de valores, como se muestra en esta tabla:</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Tipo</th>
          <th>Lo que sucede</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>cuerda</td>
          <td>Usar sin cambios</td>
        </tr>
        <tr>
          <td>Número</td>
          <td>Convertido en cadena automáticamente</td>
        </tr>
        <tr>
          <td>booleano</td>
          <td>Convertido en cadena automáticamente</td>
        </tr>
        <tr>
          <td>Nulo</td>
          <td>Devuelve la cadena <strong translate="No">nulo</strong></td>
        </tr>
        <tr>
          <td>Indefinido</td>
          <td>Registra la advertencia y devuelve una cadena</td>
        </tr>
        <tr>
          <td>Otro</td>
          <td>Registra la advertencia y devuelve una cadena</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="TCF_macros">Macros TCF</h2>
    <p>Si una plataforma de gestión de consentimiento, o CMP (esencialmente una gama de tecnologías publicitarias, todas integradas en una plataforma fácil de usar), <a href="https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20CMP%20API%20v2.md">Marco de consentimiento y transparencia del RGPD (TCF)</a> está en uso, hay macros adicionales disponibles. La sintaxis es <code>{tcf.*}</code> , con <code>*</code> siendo una propiedad en el <a href="https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20CMP%20API%20v2.md#tcdata">tcData</a> objeto.</p>
    <p>Las macros más utilizadas son:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Nombre</th>
          <th>Valor</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{tcf.gdprApplies}</td>
          <td>Si el RGPD se aplica a la sesión actual</td>
        </tr>
        <tr>
          <td>{tcf.tcString}</td>
          <td>La cadena de consentimiento</td>
        </tr>
      </tbody>
    </table>
    <p>Ya que <code>gdprApplies</code> es un valor booleano y muchos servidores de anuncios esperan que el valor sea un número entero, un valor adicional <code>{tcf.gdprAppliesInt}</code> se proporciona que devolverá 1 o 0.</p>
    <p>Si el reproductor está en un iframe, se agregará un proxy si se detecta la API de TCF en cualquier marco principal para obtener el consentimiento del <code>mensaje posterior</code> API. El CMP debe cargarse antes que el jugador.</p>
    <h3>Valores predeterminados en macros</h3>
    <p>Se puede proporcionar un valor predeterminado dentro de una macro, en cuyo caso este valor se utilizará cuando no se pueda resolver, por ejemplo</p>
    <pre class="line-numbers"><code class="language-html" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code></pre>
    se convierte en
    <pre class="line-numbers"><code class="language-html" translate="No">http://example.com/ad/1234</code></pre>
    si <code>window.adConf</code> es indefinido.</p>
  </section>


  <section class="bcls-section">
    <h2 id="Custom_ad_macros">Macros de anuncios personalizados</h2>

    <p>
      Aunque el <strong translate="No">Macros dinámicas</strong> La técnica descrita anteriormente es el método preferido para acceder a información específica a través de macros, es posible que haya definido valores personalizados que utiliza cuando solicita anuncios de su servidor de anuncios a los que no puede acceder a través de macros dinámicas. En este caso, puede utilizar sus valores anulando el <code translate="No">adMacroReplacement()</code> método. Cuando anula este método, le permite pasar sus valores especializados para la solicitud de anuncio.
    </p>

    <p>
      El siguiente es un ejemplo de cómo anular el <code translate="No">adMacroReplacement()</code> método. En este ejemplo, los valores personalizados se definen como parte del DOM de la página, lo que permite personalizar las solicitudes de anuncios por página. En este ejemplo, <code translate="No">mySite.category</code> es la ubicación donde se almacena la información de la solicitud de anuncios.
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">brightcovePlayer.ima3.adMacroReplacement = function (url) {
  <span class="bcls-highlight">  var parameters = {
    '{category}': mySite.category
  };</span>
  for (var i in parameters) {
    url = url.split(i).join(encodeURIComponent(parameters[i]));
  }
  return url;
}</code></pre>

    <p>El uso de valores específicos ayudará a aclarar exactamente lo que está sucediendo. Suponga que la URL de su solicitud al servidor de anuncios es la siguiente:</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord={category}</code></pre>

    <p>
      Y asuma el valor asignado dinámicamente a <code translate="No">mySite.category</code> en la página está la cadena <strong translate="No">caña de pescar</strong>. Luego, después de su versión del <code translate="No">adMacroReplacement()</code> El método se llama su URL de solicitud de anuncio aparecería como:
    </p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord=fishing-pole</code></pre>

    <p>
      Para resumir, cuando anula la <code translate="No">adMacroReplacement()</code> Este método le permite utilizar valores personalizados como macros de anuncios y asignar valores dinámicamente a la solicitud de anuncio de URL.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Methods">Métodos</h2>

    <p>
      Cuando necesite interactuar con el SDK de IMA, debe esperar a que <code translate="No">ima3-ready</code> evento que se enviará antes de que pueda tener lugar el uso exitoso del SDK. Esto incluye los dos métodos siguientes.
    </p>

    <h3>player.ima3.adrequest ()</h3>

    <p>
      Llamar a este método creará una solicitud de anuncio bajo demanda inmediatamente después de recibir una respuesta de anuncio. Al invocar este método, se crea un nuevo administrador de anuncios de IMA, lo que significa que se perderá cualquier información de respuesta al anuncio anterior (por ejemplo, un anuncio posterior al anuncio devuelto en una respuesta VAST anterior). Brightcove recomienda que solo use este método en los casos en los que no se conozca por adelantado los tiempos de los anuncios o en los que realizará todas las llamadas de anuncios a pedido. En todos los demás casos, tiene sentido colocar todos los datos de anuncios en la llamada inicial de VAST en la inicialización del complemento.
    </p>

    <p>Los siguientes son dos puntos importantes a considerar al usar <code translate="No">player.ima3.adrequest( )</code>:</p>

    <ul>
      <li>El método es para usar con el <strong translate="No">Bajo demanda</strong> modo de solicitud solamente.</li>
      <li>El método no se recomienda para los prerolls, ya que el contenido se reproducirá antes de que se complete la solicitud de anuncio, lo que dará como resultado un destello de contenido.</li>
    </ul>

    <h5>Parámetros</h5>

    <ul>
      <li>
        <strong translate="No">adRequestUrl</strong> <code translate="No">String</code> Ruta a una etiqueta de anuncio VAST. Puede y debe pasar URL relativas. Este parámetro es opcional y el configurado <code translate="No">serverUrl</code> se utiliza si no se pasa ningún parámetro.
      </li>
    </ul>

    <h5>Devoluciones:</h5>

    <ul>
      <li>Nada</li>
    </ul>

    <p>Ejemplo</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3.adrequest('//pubads.g.doubleclick.net/gampad/ads?sz=640x360&amp;iu=/6062/iab_vast_samples/skippable&amp;ciu_szs=300x250,728x90&amp;impl=s&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]');</code></pre>

    <h3>player.ima3.setAdsRenderingSettings ()</h3>

    <p>Este método le permite establecer la configuración de visualización de anuncios para el SDK de IMA para HTML5.</p>

    <p>
      Si aún no hay un Administrador de anuncios, este método guarda su configuración y cuando se crea un Administrador de anuncios, utiliza la configuración que proporcionó. Si ya existe un administrador de anuncios, se actualiza para utilizar su configuración. En cualquier caso, los nuevos administradores de anuncios que se creen en el futuro también utilizarán la configuración más reciente que proporcionó. Puede crear un <code translate="No">AdsRenderingSettings</code> objeto accediendo directamente al SDK de IMA. <a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/v3/api/reference/com/google/ads/interactivemedia/v3/api/AdsRenderingSettings">Hay una variedad de configuraciones disponibles.</a>
    </p>

    <h5>Parámetros</h5>

    <ul>
      <li><strong translate="No">google.ima.AdsRenderingSettings</strong> objeto</li>
    </ul>

    <h5>Devoluciones:</h5>

    <ul>
      <li>Nada</li>
    </ul>

    <p>Ejemplo:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var adsRenderingSettings = new google.ima.AdsRenderingSettings();
adsRenderingSettings.bitrate = 2500;
adsRenderingSettings.enablePreloading = true;
player.ima3.setAdsRenderingSettings(adsRenderingSettings);</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Googles_AdsManager">Administrador de anuncios de Google</h2>

    <p>
      Hay métodos y propiedades disponibles en Google <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager">google.ima.AdsManager</a> Interfaz. Puede utilizar las propiedades/métodos de la interfaz que recuperan información. No se recomienda utilizar los métodos que realizan acciones, como <code translate="No">destroy</code> , <code translate="No">setAutoPlayAdBreaks</code> y <code translate="No">stop</code>. Por ejemplo, aquí se muestra un método que puedes usar:
    </p>

    <h3>AdsManager. obtener tiempo restante</h3>

    <p>Tipo: <code translate="No">google.ima.AdsManager.getRemainingTime</code></p>

    <p>Uso: <code translate="No">myPlayer.ima3.adsManager.getRemainingTime()</code></p>

    <p>
      Al llamar a este método se devuelve la cantidad de tiempo restante para el anuncio actual. Si un anuncio no está disponible o ha terminado de reproducirse, devuelve -1. Para obtener más información, consulte el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager#getRemainingTime">documentación</a> en el método.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Accessing_the_IMA_SDK_directly">Acceder al SDK de IMA directamente</h2>

    <p>Hay varias configuraciones de IMA disponibles en el objeto de complemento en tiempo de ejecución. Por ejemplo, para determinar el ID de anuncio que usaría:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var adId = player.ima3.currentAd.getAdId();</code></pre>

    <p>
      Tenga cuidado al interactuar directamente con estas propiedades. Llamar al método incorrecto puede generar resultados inesperados y que los anuncios no se reproduzcan correctamente.
    </p>

    <h3>adsLoader</h3>

    <p>Tipo: <code translate="No">google.ima.AdsLoader</code></p>

    <p>
      El objeto utilizado para crear solicitudes de anuncios. Ver <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">ima.AdsLoader</a>. Es posible que el cargador de anuncios no esté disponible hasta <code translate="No">adsready</code> ha sido activado por el complemento.
    </p>

    <h3>adsManager</h3>

    <p>Tipo: <code translate="No">google.ima.AdsManager</code></p>

    <p>
      El objeto responsable de reproducir anuncios. Ver <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">ima.AdsManager</a>. El Administrador de anuncios no está disponible hasta <code translate="No">adsready</code> ha sido activado por el complemento.
    </p>

    <h3>adDisplayContainer</h3>

    <p>Tipo: <code translate="No">google.ima.AdDisplayContainer</code></p>

    <p>
      El objeto responsable de administrar los elementos de visualización de los anuncios. Ver <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdDisplayContainer">ima.AdDisplayContainer</a>. Es posible que el contenedor de visualización de anuncios no esté disponible hasta <code translate="No">adsready</code> ha sido activado por el complemento.
    </p>

    <h3>currentAd</h3>

    <p>Tipo: <code translate="No">google.ima.Ad</code></p>

    <p>
      Cuando se reproduce un anuncio, un objeto que contiene información sobre el anuncio actual. Ver <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.Ad">ima.Ad</a>.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Events">Eventos</h2>

    <p>
      El complemento emite algunos tipos de eventos personalizados durante la carga, la inicialización y la reproducción. Puede escuchar IMA3 y eventos de marco de anuncios como lo haría con cualquier otro evento:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on('ima3error', function(event) {
  console.log('event', event);
});</code></pre>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 35%;">Evento</th>
          <th style="width: 65%;">Se envía cuando:</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>listo para ima3</td>
          <td>El código del complemento ima3 se ha cargado y está listo para cargar el SDK de IMA.</td>
        </tr>
        <tr>
          <td>ima3error</td>
          <td>Se produjo un error al cargar el SDK de IMA3 de Google. Si ocurre, no se mostrarán anuncios.</td>
        </tr>
        <tr>
          <td>error de anuncio ima3-ad-</td>
          <td>
            Se ha producido un error en el SDK de IMA3. Debe verificar la configuración y la configuración de sus anuncios para asegurarse de que su cuenta de DoubleClick esté configurada correctamente. Puede encontrar tareas habituales de resolución de problemas en <a href="https://support.google.com/dfp_premium/">Sitio de asistencia de DoubleClick</a> o hable con su representante de cuentas de DoubleClick.
          </td>
        </tr>
        <tr>
          <td>solicitud de anuncios</td>
          <td>A petición de datos publicitarios.</td>
        </tr>
        <tr>
          <td>carga de anuncios</td>
          <td>Cuando los datos del anuncio están disponibles tras una solicitud de anuncio.</td>
        </tr>
        <tr>
          <td>ads-ad-started</td>
          <td>Ha empezado a reproducirse un anuncio.</td>
        </tr>
        <tr>
          <td>anuncios ad-finalizado</td>
          <td>Un anuncio ha terminado de reproducirse.</td>
        </tr>
        <tr>
          <td>pausa de anuncios</td>
          <td>Se ha pausado un anuncio.</td>
        </tr>
        <tr>
          <td>reproducción de anuncios</td>
          <td>Un anuncio se reanuda de una pausa.</td>
        </tr>
        <tr>
          <td>anuncios-anuncio-omitido</td>
          <td>Se omite un anuncio.</td>
        </tr>
        <tr>
          <td>anuncios primer cuartil</td>
          <td>El anuncio ha jugado el 25% de su duración total.</td>
        </tr>
        <tr>
          <td>punto medio de anuncios</td>
          <td>El anuncio ha jugado el 50% de su duración total.</td>
        </tr>
        <tr>
          <td>anuncios - tercer cuartil</td>
          <td>El anuncio ha jugado el 75% de su duración total.</td>
        </tr>
        <tr>
          <td>anuncios, haga clic</td>
          <td>Un espectador ha hecho clic en el anuncio de reproducción.</td>
        </tr>
        <tr>
          <td>cambio de volumen de anuncios</td>
          <td>Se ha cambiado el volumen del anuncio que se está reproduciendo.</td>
        </tr>
        <tr>
          <td>anuncios pod-iniciado</td>
          <td>Se ha iniciado el primer anuncio de un pod de anuncios lineal (un grupo de anuncios secuenciado).</td>
        </tr>
        <tr>
          <td>anuncios pod-finalizado</td>
          <td>El último anuncio de un pod de anuncios lineal (un grupo de anuncios secuenciado) ha finalizado.</td>
        </tr>
        <tr>
          <td>anuncios - todos los pods-completados</td>
          <td>Todos los anuncios lineales han terminado de reproducirse.</td>
        </tr>
      </tbody>
    </table>

    <h3 id="Re-dispatched_events">Re-enviado <code translate="No">ima3-</code> eventos prefijados</h3>

    <p>
      Cuando se utiliza el complemento IMA3 en modo HTML, todos <strong translate="No">AdErrorEvents</strong> , <strong translate="No">AdEventos</strong> y <strong translate="No">AdsManagerLoadedEvents</strong> se vuelven a enviar al reproductor. Cuando los eventos se vuelven a enviar, tienen el prefijo <code translate="No">ima3-</code>. La siguiente tabla muestra los eventos re-enviados:
    </p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Evento reenviado</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>error de anuncio ima3-ad-</td>
        </tr>
        <tr>
          <td>ima3-ads-manager-cargado</td>
        </tr>
        <tr>
          <td>ima3-todos-anuncios-completados</td>
        </tr>
        <tr>
          <td>ima3-clic</td>
        </tr>
        <tr>
          <td>ima3-completo</td>
        </tr>
        <tr>
          <td>ima3-contenido-pausa-solicitado</td>
        </tr>
        <tr>
          <td>ima3-primer-cuartil</td>
        </tr>
        <tr>
          <td>ima3-hardtimeout</td>
        </tr>
        <tr>
          <td>ima3-cargado</td>
        </tr>
        <tr>
          <td>ima3-midpoint</td>
        </tr>
        <tr>
          <td>ima3-pausado</td>
        </tr>
        <tr>
          <td>listo para ima3</td>
        </tr>
        <tr>
          <td>ima3-reanudado</td>
        </tr>
        <tr>
          <td>ima3-comenzado</td>
        </tr>
        <tr>
          <td>ima3-tercer cuartil</td>
        </tr>
        <tr>
          <td>ima3-volumen-cambiado</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="Live_video_and_IMA3">Video en vivo e IMA3</h2>

    <p>
      Si está utilizando la versión 3.1.0+ del complemento IMA3, puede usar pre-rolls con un evento en vivo. El pre-roll se reproducirá cuando cada espectador comience a ver el evento en vivo, no la única vez que comience el evento en vivo. Al configurar su evento en el módulo Live, como se muestra en la <a href="https://live.support.brightcove.com/live-module/creating-and-managing-live-events-using-live-module.html">Creación y administración de eventos en vivo usando el módulo en vivo</a> documento, se le pedirá que seleccione un jugador. Deberá configurar la publicidad para el jugador que seleccione, como se muestra en la <a href="/advertising/step-step-implementing-advertising.html">Paso a paso: Implementación de publicidad</a> documento.
    </p>

    <p>Tenga en cuenta los siguientes detalles de la implementación:</p>

    <ul>
      <li>Solo se reproducirán los pre-rolls. No se admiten mid-rolls ni post-rolls.</li>
      <li>
        los <strong translate="No">Solicitar anuncios</strong> el tipo debe ser <strong translate="No">En carga</strong> o <strong translate="No">En juego</strong>.
      </li>
      <li>Debes estar usando la versión <strong translate="No">3.1.0 o posterior</strong> del complemento IMA3, como se mencionó anteriormente.</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Player_Ad_Libraries">Librerías de anuncios de jugadores</h2>

    <p>
      los <a href="https://github.com/videojs/videojs-contrib-ads">videojs / videojs-contrib-ads</a> El repositorio de GitHub contiene un complemento que proporciona la funcionalidad común que necesitan las bibliotecas de anuncios de video que trabajan con Brightcove Player. El complemento proporciona una funcionalidad común que necesitan las integraciones de anuncios de vídeo y se ocupa de varias preocupaciones de los integradores de anuncios, lo que reduce el código que debe escribir para la integración de anuncios. El complemento está completamente documentado, con un <a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">Página de inicio</a> como el mejor punto de partida.
    </p>

    <p>
      Hay métodos, eventos y propiedades disponibles para su uso desde el complemento. Los detalles completos se proporcionan en el <a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/integrator/api.md">Referencia de la API de videojs-contrib-ads</a>. Aquí se proporciona una muestra de las herramientas disponibles, comenzando con los métodos:
    </p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Método</th>
          <th>Descripción</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>iSinad Mode ()</td>
          <td>Devoluciones <code translate="No">true</code> si el reproductor está en modo de anuncio.</td>
        </tr>
        <tr>
          <td>isWaitingForAdBreak ()</td>
          <td>Este método devuelve <code translate="No">true</code> durante el modo de anuncio si una pausa publicitaria aún no ha comenzado.</td>
        </tr>
        <tr>
          <td>Reanudación de contenido de iS ()</td>
          <td>Este método devuelve <code translate="No">true</code> durante el modo de anuncio, una vez finalizada una pausa publicitaria, pero antes de que se reanude la reproducción del contenido.</td>
        </tr>
      </tbody>
    </table>

    <p>El complemento también envía numerosos eventos, algunos se enumeran aquí:</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Evento</th>
          <th>Descripción</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>adstart</td>
          <td>Despedido directamente como consecuencia de llamar <code translate="No">startLinearAdMode()</code>.</td>
        </tr>
        <tr>
          <td>adend</td>
          <td>despedido directamente como consecuencia de llamar <code translate="No">endLinearAdMode()</code>.</td>
        </tr>
        <tr>
          <td>listo para pre-roll</td>
          <td>Indica que su complemento publicitario puede iniciar una pausa publicitaria previa al video llamando <code translate="No">startLinearAdMode()</code>.</td>
        </tr>
      </tbody>
    </table>

    <p>El complemento también proporciona numerosas propiedades, algunas se enumeran aquí:</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Nombre</th>
          <th>Tipo de datos</th>
          <th>Descripción</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>ads.ad.id</td>
          <td>cuerda</td>
          <td>Identificador único para un anuncio que se reproduce</td>
        </tr>
        <tr>
          <td>ads.ad.index</td>
          <td>Número</td>
          <td>Índice del anuncio que se reproduce en un momento determinado; el índice identificaría el valor ordinal de un anuncio en un pod de anuncios</td>
        </tr>
        <tr>
          <td>ads.ad.duration</td>
          <td>Número</td>
          <td>Duración del anuncio en segundos</td>
        </tr>
        <tr>
          <td>ads.ad.type</td>
          <td>cuerda</td>
          <td>
             <strong translate="No">PREROLL</strong>, <strong translate="No">MIDROLL</strong> o <strong translate="No">POSTROLL</strong>
          </td>
        </tr>
        <!-- <tr>
      <td>ads.ad.currentTime</td>
      <td>function</td>
      <td>A function that returns the current time of ad playback</td>
      </tr> -->
      </tbody>
    </table>

    <p>El código siguiente demuestra el uso de las propiedades:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer,
  player = bc('myPlayerID');
player.ima3({
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
});
player.ready(function () {
  myPlayer = this;
  myPlayer.on('ads-ad-started', function (evt) {
    console.log('ads-ad-started event passed to event handler', evt);
    console.log('myPlayer.ads.ad.id', myPlayer.ads.ad.id);
    console.log('myPlayer.ads.ad.index', myPlayer.ads.ad.index);
    console.log('myPlayer.ads.ad.duration', myPlayer.ads.ad.duration);
    console.log('myPlayer.ads.ad.type', myPlayer.ads.ad.type);
  });
});</code></pre>

    <p>El resultado de la consola del código anterior se muestra aquí:</p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="console of contrib-ads properties" src="/assets/images/plugins/ima/contrib-ads-properties.png" />
    </figure>
  </section>
  <!-- <section class="bcls-section">
      <h2 id="Ad_network_flow">Ad network flow</h2>
      <p>For those wishing to see a bit more "under the hood", a browser's development tools Network tab can reveal interesting details about the key files being downloaded as part of the ad process.</p>
      <p>In this example using the IMA3 plugin, you first see the plugin's SWF version being downloaded. Note that the screenshots are from a desktop, so the browser is getting the Flash version of the plugin.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow SWF" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-plugin-swf.png" /></figure>
      <p>The next ads related file to download is the VMAP document.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow VMAP" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vmap.png" /></figure>
      <p>Last to load is a VAST document for a particular ad.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="nework flow VAST" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vast.png" /></figure>
      </section> -->

  <section class="bcls-section">
    <h2 id="Implement_using_code">Implementación mediante código</h2>

    <p>
      Para implementar el complemento IMA3, el jugador necesita conocer la ubicación del código del complemento, una hoja de estilo, el nombre del complemento y las opciones de configuración del complemento. La ubicación del código del plugin y la hoja de estilo es la siguiente:
    </p>

    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code></pre>

    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code></pre>

    <p>El nombre del plugin es <code translate="No">ima3</code>, y un conjunto de opciones de ejemplo es:</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000
}</code></pre>

    <p>El siguiente ejemplo utiliza la implementación In-Page Embed del reproductor para asociar el complemento IMA con una única instancia de un reproductor.</p>

    <aside class="bcls-aside bcls-aside--information"> En el siguiente código, verá el <code translate="No">bc()</code> se llama al método para inicializar Brightcove Player, luego el complemento IMA3 se inicializa inmediatamente después. Esto se debe a que para que el complemento IMA3 funcione correctamente, debe cargarse justo después de la inicialización del reproductor, antes de que se inicialicen otros complementos. Inicializando el complemento IMA3 en <code translate="No">videojs.getPlayer('myPlayerID').ready(...)</code> o cuando el <code translate="No">loadedmetadata</code> El evento se envía, hará que el complemento NO funcione según lo previsto.</aside>

    <ul>
      <li>
        Línea 12: Utiliza una <code translate="No">link</code> etiqueta para incluir el CSS del plugin en la <code translate="No">head</code> página HTML.
      </li>
      <li>
        Línea 15: Asigna a la <code translate="No">video</code> etiqueta un <code translate="No">id</code> atributo, con cierto valor, en este caso <strong translate="No">MyPlayerID</strong>.
      </li>
      <li>
        Línea 23: Utiliza una <code translate="No">script</code> etiqueta para incluir el JavaScript del plugin en la <code translate="No">body</code> página HTML.
      </li>
      <li>
        Líneas 26-29: Inicializa el reproductor usando el <code translate="No">bc()</code> método, y luego llama al <code translate="No">ima3()</code> método.
      </li>
      <li>
        Líneas 30-33: En el jugador <code translate="No">ready</code> , se crea una referencia al jugador. El comentario se muestra para indicar dónde puede colocar el código para agregar otros comportamientos del reproductor más allá de la configuración y configuración del complemento IMA3.
      </li>
    </ul>

    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;IMA3 Plugin Code Example&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;video-js id="myPlayerID"
    data-video-id="3851380732001"
    data-account="1752604059001"
    data-player="Hy3gDJHu"
    data-embed="default"
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1752604059001/Hy3gDJHu_default/index.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    var myPlayer;
    var player = bc('myPlayerID');
    player.ima3({
      serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
    });
    player.ready(function() {
      myPlayer = this;
      //Do something
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
  </section>
  <!-- <section class="bcls-section">
      <h2 id="Creating_an_ad_tag_based_on_media_info">Creating an ad tag based on media info</h2>
      <p>A common use-case for programmatic ads is to create an ad tag based on media info, retrieved from the <code translate="No">mediainfo</code> object. Because the ad tag can be passed in as an option during plugin initialization, it may seem appropriate to defer
      plugin initialization until media info is available. As seen in the <a href="#Implement_using_code"> previous section</a>, however, plugin initialization cannot be deferred. Instead, initialization can happen at the usual time, but the ad
      tag can be set later when the necessary media info becomes available.</p>
      <p>Here is an example of how this works. Note that the properties of the <code translate="No">mediainfo</code> object cannot be used until the <code translate="No">loadedmetadata</code> event has been dispatched, which is standard practice.</p>
      <aside class="bcls-aside bcls-aside--warning">This technique will NOT work if <code translate="No">autoplay</code> is true AND the ad request type is <code translate="No">onplay</code>. In this case you MUST set the <code translate="No">serverUrl</code> in the initial IMA3 plugin configuration.</aside>
      <pre class="line-numbers">
      <code class="language-javascript" translate="No">var myPlayer;
      // Initialize player
      var player = bc('myPlayerID');
      // Initialize IMA plugin
      // A blank serverUrl is used here because we want metadata from the video
      player.ima3({
      serverUrl: "",
      requestMode: 'onplay',
      debug: true
      });
      // When the player's ready, let's get started
      player.ready(function(){
      myPlayer = this;
      myPlayer.one("loadedmetadata", function(){
      // Now we have metadata, we can set up the ad with information from mediainfo
      if (<span class="bcls-highlight">myPlayer.mediainfo.id</span> === '4034552795001') {
      myPlayer.ima3.settings.serverUrl = "https://pubads.g.doubleclick.net/";
      } else {
      myPlayer.ima3.settings.serverUrl = "https://example.com/ads/";
      }
      });
      });</code></pre>
      </section> -->

  <section class="bcls-section">
    <h2 id="Hybrid_implementation">Implementación híbrida</h2>

    <p>
      Hasta ahora, en este documento, ha visto el complemento IMA implementado en Studio, luego en código. A algunos clientes les gusta realizar una implementación híbrida donde el complemento básico se agrega en Studio, pero luego la configuración se realiza en el JavaScript de la página. Esta implementación híbrida se analiza en esta sección.
    </p>

    <p>
      Como acaba de ver en la sección anterior, al implementar el complemento IMA3 puramente en código, manipula el complemento en formato de función. Cuando instala el complemento en Studio, luego lo configura en la página, debe tratar el complemento como un objeto. Por ejemplo, suponga que ha instalado el complemento IMA3 utilizando Studio como se muestra aquí, teniendo en cuenta que no <strong>Etiqueta de anuncio</strong> es proporcionado:
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="Partial Studio Install" src="/assets/images/plugins/ima/partial-studio-install.png" />
    </figure>

    <p>Ahora, en JavaScript en la página puede asignar valores de propiedad (recuerde, trate el complemento como un objeto ahora) como se muestra aquí:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  myPlayer.ima3.settings.serverUrl = 'http://solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml';
});</code></pre>

    <p>Por supuesto, se pueden asignar valores a otras propiedades de esta manera.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Debugging_assistance">Asistencia de depuración</h2>

    <p>
      Hay dos opciones de ayuda al depurar problemas de reproducción de anuncios. Si no hace nada, en la consola solo verá información sobre cuándo comenzaron y terminaron los anuncios:
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/default-console-debug.png" />
    </figure>

    <p>
      La primera opción se menciona anteriormente en este documento en el <a href="#Options">Opciones</a> sección. Esto activa la depuración a nivel de complemento. Verá información de depuración adicional:
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug.png" />
    </figure>

    <p>
      La segunda opción utiliza una herramienta proporcionada por Google. Usted especifica un <strong translate="No">sdkurl</strong> opción con un valor que apunta a un archivo JavaScript proporcionado por Google. Aquí se muestra un ejemplo de configuración:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = bc('myPlayerID');
myPlayer.ima3({
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml",
  "debug": true,
  <span class="bcls-highlight">"sdkurl": "//imasdk.googleapis.com/js/sdkloader/ima3_debug.js"</span>
});
myPlayer.ready(function() {
  myPlayer = this;
});</code></pre>

    <p>
      La información de depuración ampliada sería similar a la siguiente. (La información resaltada en amarillo proviene de la depuración del complemento y la información resaltada en azul es generada por la herramienta de Google).
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug-google.png" />
    </figure>

    <aside class="bcls-aside bcls-aside--information"> Nota: No hay dependencias entre la información de depuración del complemento y la información de Google. Se pueden utilizar por separado o juntos.</aside>

    <p>
      Para obtener más detalles sobre los errores de IMA de Google, consulte la <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdError">Clase google.ima.AdError</a> sección de Google <strong translate="No">API del SDK de HTML5 de IMA de Google</strong> documento.
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Known_issues">Problemas conocidos</h2>

    <h3>Imagen en imagen desactivada</h3>
    <p>
      La <a href="/general/player-configuration-guide.html#picture_in_picture_control">control de imagen en imagen</a> desactivado cuando se implementa el complemento IMA3. Esta es una decisión de diseño intencional.
    </p>

    <h3>Configuración de reproducción automática en Studio</h3>

    <p>
      NO configure la reproducción automática en Studio si está utilizando el complemento IMA3 para mostrar anuncios. La configuración de la reproducción automática en Studio podría provocar fallos en la reproducción del anuncio. Ver el <a href="/playback/autoplay-considerations.html">Consideraciones sobre la reproducción automática</a> documento para obtener más información.
    </p>

    <h3><em>Aprende más</em> y <em>Temporizador cuenta regresiva</em> ya no se muestra por defecto</h3>
    <p>Existe una solución alternativa utilizando el <code translate="No">useStyledLinearAds</code> propiedad del SDK de IMA de Google. Establezca este valor en verdadero, como se muestra aquí:</p>
    <pre class="line-numbers"><code class="language-javascript" translate="No">adsRenderingSettings.useStyledLinearAds=true;</code></pre>
    <p>Para obtener más detalles, consulte el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima.AdsRenderingSettings#useStyledLinearAds">google.ima.AdsRenderingSettings</a> documentación.</p>

    <h3>Chrome en Android: Dejar de silenciar el pre-roll, el video no se reproducirá automáticamente</h3>

    <p>
      Cuando se usa Chrome (última versión) en Android y se activa el sonido del reproductor mientras se reproduce el pre-roll, el reproductor no comienza a reproducir un video automáticamente después de que finaliza el pre-roll. Si activa el sonido del anuncio, la función de persistencia del volumen de Brightcove Player también activará el sonido del contenido, ya que la intención del espectador es escuchar el audio. Sin embargo, en las versiones más recientes de Chrome Android, el contenido no silenciado no se puede reproducir automáticamente y se ha agregado el requisito del gesto del usuario para comenzar la reproducción. Esta es una configuración a nivel de sistema operativo / dispositivo y no algo que Brightcove pueda anular.
    </p>

    <h3>Es posible que la visualización de la hora actual de Preroll no sea precisa</h3>

    <p>Este problema tiene que ver con una limitación en la forma en que el SDK de IMA informa la hora actual. No hay ninguna solución documentada en este momento.</p>

    <h3>Es posible que los midrolls no silenciados no se reproduzcan en Safari 11 Desktop</h3>

    <p>
      Es posible que los midrolls no silenciados no se reproduzcan en Safari 11 Desktop debido a un cambio en el SDK de IMA de Google. Se introdujo un nuevo comportamiento para desencadenar un error y cancelar un anuncio cuando Safari 11 (escritorio y posiblemente iOS) rechaza la reproducción automática. Los midrolls afectados de esta manera generarán un error publicitario 400, con el código de error 1205 que indica que se evitó la reproducción automática.
    </p>

    <h3>Entornos compatibles</h3>

    <p>
      Para verificar las combinaciones compatibles de plataformas, estándares publicitarios y medios de video, consulte la <a href="https://developers.google.com/interactive-media-ads/video_features_and_sdk_versions">Función de video y compatibilidad con SDK</a> documento. Ese documento y el <a href="https://developers.google.com/interactive-media-ads/docs/vastinspector_dual">Inspector de video suite</a> le ayudará a diagnosticar intentos de configuraciones de anuncios IMA3 que simplemente no funcionarán.
    </p>

    <aside class="bcls-aside bcls-aside--information"> Nota: Para utilizar Video Suite Inspector, necesitará su etiqueta publicitaria VAST o su respuesta publicitaria VAST. Luego puede pegarlo en el campo de texto dado y luego hacer clic en el <strong translate="No">Anuncio de prueba</strong> botón. </aside>

    <h3>Superposiciones y transiciones de pantalla completa</h3>

    <p>
      video.js usa el <a href="https://www.w3.org/TR/fullscreen/">API de pantalla completa</a> donde esté disponible. Los diferentes navegadores implementan la transición a pantalla completa de manera diferente y eso puede producir discrepancias en la apariencia al entrar y salir del modo de pantalla completa. En la mayoría de las implementaciones, el elemento que se está llevando a pantalla completa se escala geométricamente (es decir, se amplía) desde su tamaño original hasta el objetivo. Sin embargo, la mayoría de los anuncios superpuestos están diseñados para mostrarse en un tamaño fijo, por lo que pueden aparecer distorsionados hasta que se complete la animación.
    </p>
    <!-- <h3>Midrolls and live streams/VMAP live streams</h3>
      <p>Midrolls play immediately if they are configured for live streams. The reason this occurs is that in live video time is relative. If a midroll says 10 seconds, it's not clear what 10 seconds is relative to. Is it 10 seconds from the start of
      the stream, or 10 seconds from the start of the time the user started playback? A better solution for a live streams is using ID3 metadata that gives unambiguous cue points when an ad should be played.</p> -->

    <h3 id="skippable-ads">Anuncios que se pueden omitir en dispositivos iOS</h3>

    <p>Con el complemento IMA3, los anuncios que se pueden omitir se pueden reproducir en iPhones cuando se cumplen las siguientes condiciones:</p>

    <ul>
      <li>La <code translate="No">playsinline</code> El atributo está presente en el <code translate="No">video</code> elemento</li>
      <li>
        La <code translate="No">disableCustomPlaybackForIOS10Plus</code> La configuración se pasa al complemento y se establece en <code translate="No">true</code>
      </li>
    </ul>

    <p>Para el <code translate="No">playsinline</code> atributo, simplemente inclúyalo como un atributo en el <code translate="No">video</code> etiqueta:</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="player"
  width="640"
  height="360"
  data-video-id="4524585416001"
  data-account="4360108595001"
  data-player="r12ukws9l"
  data-embed="default"
  class="video-js"
  <span class="bcls-highlight">playsinline</span>
  controls&gt;&lt;/video-js&gt;
</code></pre>

    <aside class="bcls-aside bcls-aside--information">Nota: los <code translate="No">playsinline</code> El atributo solo funciona con iOS 10+.</aside>

    <p>
      Para el <code translate="No">disableCustomPlaybackForIOS10Plus</code> ajuste, asígnelo como una propiedad de <code translate="No">ima3SdkSettings</code>:
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    "disableCustomPlaybackForIOS10Plus": true
  }
})
</code>
</pre>

    <p>Si está usando Studio y desea usar la configuración allí, agregue esto a la configuración de su complemento IMA3:</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "ima3SdkSettings": {
    "disableCustomPlaybackForIOS10Plus": true
  }
}</code></pre>

    <p>
      Para obtener detalles completos de esta configuración, consulte la <a href="#disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</a> entrada en el <code translate="No">ima3SdkSettings</code> sección de este documento.
    </p>

    <p><strong translate="No">Limitaciones de anuncios que se pueden omitir:</strong></p>

    <ul>
      <li>
        los <strong translate="No">Omitir aviso publicitario</strong> botón <em>puede estar parcialmente cubierto por la barra de control de anuncios</em> en algunos dispositivos móviles. Esto dificulta que los usuarios finales se salten el anuncio. El usuario puede pellizcar para hacer zoom para hacer <strong translate="No">Omitir aviso publicitario</strong> botón más grande en dispositivos móviles para poder hacer clic en él.
      </li>
      <li>
        <strong translate="No">iPhone</strong> sin <code translate="No">playsinline</code> y <code translate="No">disableCustomPlaybackForIOS10Plus</code> - Los anuncios que se pueden omitir no se reproducen.
      </li>
      <li>
        <strong translate="No">iPhone</strong> con <code translate="No">playsinline</code> y <code translate="No">disableCustomPlaybackForIOS10Plus</code> - Los anuncios se reproducen en línea, pero si se usa en pantalla completa, los anuncios no se muestran, pero se reproducirá el audio del anuncio. En otras palabras, los anuncios que se pueden omitir en pantalla completa no funcionan correctamente.
      </li>
      <li><strong translate="No">iPad</strong> - Los anuncios se reproducen en línea, pero la omisión no está disponible en el modo de pantalla completa.</li>
    </ul>

    <h3>iPad y iPhone con iOS 10: Los anuncios pre-roll no funcionan cuando se usan <code translate="No">playsinline</code> y yendo a pantalla completa</h3>

    <p>
      Si usa <code translate="No">playsinline</code> en iPad y iPhone con iOS 10 para permitir ver un video que no está en pantalla completa, luego se inicia un anuncio previo al video y se hace clic en el botón de pantalla completa, el anuncio NO continuará reproduciéndose. Esta es una limitación de la implementación de IMA de Google y Google no tiene planes de corregir el problema.
    </p>

    <h3>Conflicto con gpt_proxy.js</h3>

    <p>
      Si utiliza el script de proxy GPT con IMA3 y el <strong translate="No">adTechOder</strong> es <strong translate="No">HTML5</strong> Primero, pueden ocurrir problemas de reproducción. El complemento IMA3 se verá afectado al utilizar cualquier script que utilice <strong translate="No">window.google</strong> o <strong translate="No">window.google.ima</strong>. Se sugiere que compruebe si está utilizando Brightcove Player y, de ser así, no cargue el proxy en esas ocasiones.
    </p>

    <h3>Redimensionar <strong translate="No">Omitir aviso publicitario</strong> botón</h3>

    <p>
      No es posible cambiar el tamaño del <strong translate="No">Omitir aviso publicitario</strong> botón. Brightcove Player API no tiene métodos o propiedades para especificar el tamaño del <strong translate="No">Omitir aviso publicitario</strong> botón. A nivel de desarrollador, si un editor utiliza anuncios VPAID, los anuncios pueden implementar sus propios <strong translate="No">Omitir aviso publicitario</strong> botón y lógica para encajar dentro de la interfaz de usuario y distribución de elementos de Brightcove Player.
    </p>

    <h3>Los anuncios no se reproducirán automáticamente en iOS</h3>

    <p>
      Aunque no es específico del complemento IMA3, sepa que <code translate="No">autoplay</code> está restringido a iOS, por lo que los anuncios no se iniciarán hasta que se realice un gesto del usuario.
    </p>

    <h3 id="Ad_cue_point_issues">Problemas con los puntos de referencia del anuncio</h3>

    <p>
      Para problemas específicos del uso de puntos de referencia de anuncios, consulte la <strong translate="No">Problemas conocidos</strong> sección de la <a href="/advertising/displaying-ads-using-ad-cue-points.html#Known_issues">Visualización de anuncios mediante puntos de inserción de anuncios</a> documento.
    </p>

    <h3>SDK de IMA3 <code>url</code> parámetro</h3>
    <p>De Google Ad Manager <code>url</code> El parámetro es la URL completa desde la que se envía la solicitud de anuncio. Tenga en cuenta que este valor lo establece automáticamente el SDK de IMA y, de hecho, sobrescribirá cualquier valor que pueda proporcionar.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Changelog">Registro de cambios</h2>
    <p>Ver el <a href="http://players.brightcove.net/release-notes/brightcove-player-ima3/index.html">Notas de la versión del complemento IMA3</a>.</p>
    <p>Para obtener notas de la versión histórica, consulte la <a href="/plugins/changelog/advertising-ima3-plugin-changelog.html">registro de cambios aquí</a>.</p>

  </section>
</article>