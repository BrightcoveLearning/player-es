---
title: Actualización a la versión 3 del complemento IMA3
description: 'En este tema, aprenderá a actualizar a la versión 3 del complemento de publicidad IMA3.'
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">Resumen</h2>
    <p>En mayo de 2018, Brightcove lanzó la versión 3 del complemento de publicidad IMA. La actualización incluye muchas mejoras importantes en la confiabilidad y otras áreas, que se detallan en la siguiente sección de este documento. La actualización es solo para Brightcove Player versión 6 y superior. Los reproductores de la versión 6 existentes no se migrarán a la versión 3 automáticamente, ya que es posible que algunas integraciones deban actualizarse para admitir la nueva versión. Brightcove le anima a leer este documento en su totalidad y luego probar los cambios antes de actualizar.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Improvements">Mejoras</h2>
    <p>La siguiente es una lista de las mejoras realizadas en la versión 3 del complemento:</p>
    <ul>
      <li>El manejo del complemento de los cambios en la fuente de video se ha reelaborado fundamentalmente, lo que resulta en una confiabilidad mucho mayor cuando se usa con listas de reproducción.</li>
      <li>La configuración de la URL del servidor ahora se puede retrasar, lo que permite una fácil integración de los flujos de trabajo asincrónicos, como las ofertas de encabezado o macros basadas en información de medios. Los siguientes son dos ejemplos:
        <ul>
          <li>La <a href="/advertising/jump-start-header-bidding-ad.html">Buen inicio: Anuncio de oferta de encabezado</a> documento.</li>
          <li>La <a href="/plugins/advertising-ima3-plugin.html#Implement_using_code">Implementar usando código</a> sección del documento del complemento IMA3.</li>
        </ul>
      </li>
      <li>Se ha corregido un error que podría haber provocado un tiempo de espera más largo de lo esperado.</li>
      <li>Se ha eliminado la compatibilidad con Flash para mejorar el rendimiento.</li>
      <li>Varias correcciones de errores adicionales y mejoras de confiabilidad se incorporan a la nueva versión.</li>
      <li>
        <p>Puede asignar valores predeterminados a las macros de anuncios. Se puede proporcionar un valor predeterminado dentro de una macro, en cuyo caso este valor se utilizará cuando una variable no esté definida. La sintaxis es:</p>
        <pre class="line-numbers">
<code class="language-javascript" translate="No">{macro=default}</code></pre>
        <p>Por ejemplo,</p>
        <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code></pre>
        <p>resolvería lo siguiente si no <code translate="No">window.adConf</code> está definido:</p>
        <pre class="line-numbers">
http://example.com/ad/1234</pre>
      </li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Technical_details">Detalles técnicos</h2>
    <p>Para mejorar la confiabilidad, el complemento Brightcove IMA ha actualizado su dependencia de <strong>videojs-contrib-ads</strong> , el marco publicitario de código abierto Video.js, a la versión 6. Ésta es una actualización de mantenimiento importante. Puedes aprender más sobre <strong>videojs-contrib-ads</strong> versión 6 en el <a href="http://blog.videojs.com/videojs-contrib-ads-6/">Blog de video.js</a>.</p>
    <p>Esta actualización elimina una causa raíz de algunos flashes de contenido que aparecieron antes de los prerolls. La solución utiliza <a href="https://blog.videojs.com/feature-spotlight-middleware/">Middleware de video.js</a> para eliminar la necesidad de realizar una reproducción rápida y una pausa al comienzo de la reproducción.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Migrating_to_version_3">Migrando a la versión 3</h2>
    <p>Los reproductores existentes NO se actualizarán automáticamente a la versión 3 del complemento Brightcove IMA. En la interfaz de Studio predeterminada (heredada), siempre se usará la versión 2 del complemento IMA, como lo ha hecho en el pasado. En la interfaz de Studio beta (nueva), <strong>Publicidad</strong> La sección tiene un menú desplegable que le permite elegir qué versión del complemento IMA usar. Esta nueva interfaz se puede utilizar para migrar jugadores. Brightcove recomienda encarecidamente revisar su integración y probar cuidadosamente su reproductor al actualizar.</p>
    <p>Los reproductores recién creados utilizarán la versión 3 de forma predeterminada cuando la publicidad esté habilitada. Se pueden configurar manualmente a la versión 2 si es necesario.</p>
    <p>A continuación se muestra una lista de cambios que pueden requerir la actualización de integraciones:</p>
    <ul>
      <li>Es posible que desee realizar una prueba para asegurarse de que no dependía de un tiempo de espera superior al especificado en su configuración.</li>
      <li>La <code translate="No">ended</code> los eventos ya no se retrasan ni un segundo. Si tu integración responde a <code translate="No">ended</code> eventos, debe probar que la integración continúa funcionando como se esperaba. Generalmente, esto significa que dichas integraciones funcionarán mejor.</li>
      <li>La <code translate="No">player.ads.state</code> la propiedad ahora está en desuso. Brightcove lo ha visto usado en algunas integraciones para verificar si el reproductor está en modo de anuncio, pero generalmente se hace de manera incorrecta. Una mejor alternativa es utilizar el <code translate="No">player.ads.isInAdMode()</code> método.</li>
      <li>La <code translate="No">contentplayback</code> El evento ha sido eliminado. Es un detalle de implementación que ya no es necesario, pero hemos descubierto que algunas integraciones lo usan. Utilizar el <code translate="No">playing</code> evento en su lugar.</li>
      <li>El comienzo de la reproducción del anuncio se indica mediante el <code translate="No">ads-ad-started</code> evento, que se activa exactamente una vez cuando comienza cada anuncio. Mientras que la <code translate="No">adplaying</code> El evento continuará emitiéndose, ahora puede emitirse varias veces por reproducción de anuncios, por lo que Brightcove recomienda utilizar el <code translate="No">ads-ad-started</code> evento en su lugar.</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Why_a_major_version_update?">¿Por qué una actualización de versión importante?</h2>
    <p>Aunque los cambios pueden parecer modestos, varios aspectos clave de la interfaz han cambiado, lo que ha provocado una actualización importante de la versión. En concreto, la eliminación de la <code translate="No">contentplayback</code> evento, así como el comportamiento específico de la <code translate="No">timeout</code> parámetro. Si bien estos pueden parecer menores, algunas integraciones pueden depender de su comportamiento particular. Dado que incluso los pequeños cambios pueden marcar una gran diferencia en algunas implementaciones de los clientes, Brightcove considera que era apropiado un incremento importante de la versión para indicar que las integraciones deben probarse a fondo antes de su uso en producción.</p>
  </section>
</article>