---
title: Complemento de selección de calidad
description: "En este tema, aprenderá a utilizar el complemento de selección de calidad. Este complemento proporciona un botón de menú en la barra de control del reproductor que le permite seleccionar manualmente la calidad de reproducción para fuentes HLS o Dash."
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>

    <br/>
  <aside class="bcls-aside bcls-aside--information">
    <p>Nota: El complemento de selección de calidad no funciona con todas las fuentes de video. Los siguientes puntos aclaran la situación:</p>
    <ul>
      <li>Este complemento solo funciona con fuentes HLS / DASH.</li>
      <li>Este complemento mostrará la información de resolución para cualquier archivo maestro M3U8 que incluya la información de resolución para las versiones secundarias. Si no se especifica una resolución, el complemento mostrará HD / SD en su lugar.</li>
      <li>No importa dónde esté alojado el archivo HLS M3U8 o si es LIVE o VOD.</li>
      <li>Este complemento NO funciona con MP4. Si tiene cinco fuentes MP4 y solo una fuente HLS, no verá aparecer el selector de calidad mostrando las diferentes calidades de MP4.</li>
    </ul>
  </aside>
  <section class="bcls-section">
    <h2 id="Player_example">Ejemplo de jugador</h2>
    <p>El siguiente es un Brightcove Player que utiliza el complemento de selección de calidad. Una vez que reproduzca el video, en la barra de control verá el siguiente ícono: <img alt="" src="/assets/images/plugins/quality-selection/icon-in-controlbar.png" /></p>
    <p>Una vez que realice una selección, el equipo girará hasta que se procese la nueva calidad, para las fuentes DASH, o hasta que se cargue la nueva calidad, para las fuentes HLS. A continuación, se proporciona más información sobre las opciones de calidad que ve para la selección y el comportamiento de giro de los engranajes.</p>
    <aside class="bcls-aside bcls-aside--information">Si tiene una conexión rápida a Internet, es posible que deba realizar una serie de selecciones antes de ver girar el engranaje, ya que los cambios se realizan rápidamente con las representaciones de HLS, que utiliza este video.</aside>
    <video data-video-id="5842800655001" data-account="1752604059001" data-player="B1CWQFiPZ" data-embed="default" data-application-id="" class="video-js" controls="" width="640" height="360">&nbsp;</video>
    <script src="//players.brightcove.net/1752604059001/B1CWQFiPZ_default/index.min.js"></script>
    </section>
    <section class="bcls-section">
      <h2 id="Quality_options">Opciones de calidad</h2>
      <p>Cuando se hace clic en el icono de engranaje, se muestran varias opciones de calidad para que el usuario las seleccione. Por ejemplo, un video con las siguientes representaciones:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="All video renditions" src="/assets/images/plugins/quality-selection/video-renditions.png" /></figure>
      <p>creará las siguientes opciones de calidad:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="Quality options" src="/assets/images/plugins/quality-selection/quality-options.png" /></figure>
      <p>Así es como se crean esas opciones y luego se selecciona una interpretación específica:</p>
      <ul>
        <li>Todas las representaciones se agrupan según las líneas de resolución horizontal (por ejemplo, 270p, 360p, 540p, 720p y 1080p en el ejemplo anterior) y se utilizan como opciones de calidad.</li>
        <li>Después de la selección de un grupo por parte del usuario, si hay varias representaciones en el grupo seleccionado, el algoritmo de transmisión de velocidad de bits adaptativa estándar elige la representación óptima en el grupo de resolución seleccionado. El proceso es cómo funciona actualmente la selección de reproducción, pero solo dentro de un grupo de resolución seleccionado.</li>
        <li>Si la información de resolución no está disponible, las opciones retrocederán para mostrar las opciones. <strong>Dakota del Sur</strong> y <strong>HD</strong> , para definición estándar y alta definición, respectivamente. El complemento utilizará información de tasa de bits para cada interpretación para determinar si es SD o HD, utilizando una línea divisoria configurable.</li>
      </ul>
    </section>
    <section class="bcls-section">
      <h2 id="Buffering">Almacenamiento en búfer</h2>
      <p>Al cambiar la calidad, es posible que se produzca un almacenamiento en búfer y verá aparecer la ruleta de carga. Esto se debe a que la calidad cambia inmediatamente en la selección de calidad y los segmentos deberán descargarse. Si prefiere tener el mismo comportamiento de transición suave que se ve con los interruptores de reproducción automáticos, puede inicializar manualmente el reproductor con la siguiente opción:</p>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">var options = {
  html5: {
    hls: {
      smoothQualityChange: true
    }
  }
};</code></pre>
      <p>Detalles sobre la inicialización manual del reproductor con el <code translate="No">bc()</code> El método se puede encontrar en el <a href="/coding-topics/using-bc-and-getplayer-methods.html#bc_method_details">Usando los métodos bc () y getPlayer ()</a> documento.</p>
    </section>
    <section class="bcls-section">
      <h2 id="Gear_spinning">Giro de engranajes</h2>
      <p>El icono de engranaje girando representa cambios en la interpretación utilizada. Las reglas para girar difieren para las fuentes DASH y HLS:</p>
      <ul>
        <li>Para las fuentes DASH, el equipo girará hasta que la calidad haya cambiado en el reproductor y se muestre en la pantalla.</li>
        <li>Para las fuentes HLS, el engranaje deja de girar cuando el algoritmo interno ha decidido comenzar a CARGAR la nueva calidad, no cuando se ha renderizado. Esta decisión ocurre rápidamente, por lo que es probable que no vea la acción de giro tan frecuente con una fuente de HLS.</li>
      </ul>
    </section>
    <section class="bcls-section">
      <h2 id="Implement_using_Players_module">Implementación mediante el módulo Pla</h2>
      <p>Para implementar el complemento de selección de calidad mediante el módulo de reproductores, siga estos pasos:</p>
      <ol class="bcls-tasklist">
        <li>Abre el <strong>JUGADORES</strong> módulo y cree un nuevo reproductor o localice el reproductor al que desea agregar el complemento.</li>
        <li>Haz clic en el enlace del reproductor para abrir las propiedades del reproductor.</li>
        <li>Hacer clic <strong>Control S </strong>en el menú de navegación de la izquierda.</li>
        <li>Marque la casilla frente a <strong>Selector de calidad</strong>.
          <figure class="bcls-figure"><img class="bcls-image" alt="Configuration show quality selector" src="/assets/images/plugins/quality-selection/studio-show-quality-selector.png" /></figure>
        </li>
        <li>Utilice un botón de opción para mostrar las diferentes resoluciones disponibles o simplemente una <strong>HD / SD</strong> opción.</li>
        <li>Haz clic en <strong>Guardar</strong>.</li>
        <li>Para publicar el reproductor, haga clic en <strong>Publicar e insertar &gt; Publicar cambios</strong>.</li>
        <li>Para cerrar el cuadro de diálogo abierto, haga clic en <strong>Cerrar</strong>.</li>
      </ol>
    </section>
    <section class="bcls-section">
      <h2 id="Implement_using_Code">Implementar usando código</h2>
      <p>Para implementar el complemento de selección de calidad mediante código, siga estos pasos:</p>
      <ol class="bcls-tasklist-restart">
        <li>
          <p>
            En un editor, abra su código HTML donde desee que resida Brightcove Player.
          </p>
        </li>
        <li>
          <p>
            En el <code translate="No">head</code> sección, agregue la hoja de estilo predeterminada del complemento de selección de calidad.
          </p>
          <pre>
<code class="language-html" translate="No">&lt;link href=&quot;https://players.brightcove.net/videojs-quality-menu/1/videojs-quality-menu.css&quot; rel='stylesheet'&gt;</code></pre>
        </li>
        <li>
          <p>
            En el <code translate="No">body</code> sección, agregue el código de inserción del reproductor avanzado.
          </p>
          <aside class="bcls-aside bcls-aside--tip">Al código de inserción del reproductor, hemos agregado un <code translate="No">id</code> atributo para que podamos obtener una referencia al reproductor en un script posterior. </aside>
          <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js <span class="bcls-highlight">id=&quot;myPlayerID&quot;</span>
  data-account=&quot;1752604059001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls=&quot;&quot;
  data-video-id=&quot;5842800655001&quot;
  data-playlist-id=&quot;&quot;
  data-application-id=&quot;&quot;
  width=&quot;960&quot; height=&quot;540&quot;&gt;&lt;/video-js&gt;
&lt;script src=&quot;https://players.brightcove.net/1752604059001/default_default/index.min.js&quot;&gt;&lt;/script&gt;</code></pre>
        </li>
        <li>
          <p>
            Después de que su reproductor inserte el código, agregue el archivo de secuencia de comandos del complemento de selección de calidad.
          </p>
          <pre>
<code class="language-html" translate="No">&lt;script src=&quot;https://players.brightcove.net/videojs-quality-menu/1/videojs-quality-menu.min.js&quot;&gt;&lt;/script&gt;</code></pre>
        </li>
        <li>
          <p>
            Debajo de la secuencia de comandos del complemento, agregue una secuencia de comandos que haga lo siguiente:
          </p>
          <ul>
            <li>
              Obtén una referencia a Brightcove Player.
            </li>
            <li>
              Registre el complemento de selección de calidad con el reproductor.
            </li>
            <li>
              Especifique las opciones de complemento que desee utilizar. En este ejemplo, estamos configurando la selección de calidad predeterminada en <code translate="No">720p</code>.
            </li>
          </ul>
          <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type=&quot;text/javascript&quot;&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    myPlayer.qualityMenu({
      defaultResolution: '720p'
    });
  });
&lt;/script&gt;</code></pre>
        </li>
      </ol>
      <details>
        <summary>
          <h2 id="Complete_code_example">Ejemplo de código completo</h2>
        </summary>
        <p>Aquí hay un ejemplo de código completo para usar el complemento de selección de calidad, configurando la resolución predeterminada inicial:</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
      &lt;title&gt;Quality Selection&lt;/title&gt;

      &lt;!-- CSS for the quality selection plugin --&gt;
      &lt;link href=&quot;https://players.brightcove.net/videojs-quality-menu/1/videojs-quality-menu.css&quot; rel='stylesheet'&gt;
    &lt;/head&gt;

    &lt;body&gt;
    &lt;h1&gt;Quality Selection&lt;/h1&gt;

    &lt;!-- Brightcove Player embed code --&gt;
    &lt;video-js id=&quot;myPlayerID&quot;
      data-account=&quot;1752604059001&quot;
      data-player=&quot;default&quot;
      data-embed=&quot;default&quot;
      controls=&quot;&quot;
      data-video-id=&quot;5842800655001&quot;
      data-playlist-id=&quot;&quot;
      data-application-id=&quot;&quot;
      width=&quot;960&quot; height=&quot;540&quot;&gt;&lt;/video-js&gt;
    &lt;script src=&quot;https://players.brightcove.net/1752604059001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

    &lt;!-- Script for the quality selection plugin --&gt;
    &lt;script src=&quot;https://players.brightcove.net/videojs-quality-menu/1/videojs-quality-menu.min.js&quot;&gt;&lt;/script&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
      // When the player is ready, get a reference to it
      videojs.getPlayer('myPlayerID').ready(function() {
        var myPlayer = this;

        // Register the quality selection plugin with options
        myPlayer.qualityMenu({
          defaultResolution: '720p'
        });
      });
    &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
      </details>
    </section>
    <section class="bcls-section">
      <h2 id="Configuration_options">Opciones de configuración</h2>
      <p>Las siguientes opciones están disponibles para configurar el complemento si está implementando el complemento mediante código:</p>
      <ul>
        <li>
          <h3><code translate="No">defaultResolution</code></h3>
          <ul>
            <li>Tipo: <code translate="No">String</code></li>
            <li>Predeterminado: <code translate="No">none</code></li>
            <li>Define la resolución predeterminada o el mapeo de resolución que se utilizará. Páselo ya sea la resolución horizontal o <strong>Dakota del Sur</strong>/<strong>HD</strong>.</li>
          </ul>
          <h4>Cambiar la resolución inicial predeterminada en Video Cloud Studio</h4>
          <p>Siga estos pasos para cambiar la resolución predeterminada en Video Cloud Studio:</p>
          <ol class="bcls-tasklist-restart">
            <li>En el <strong>JUGADORES</strong> módulo, seleccione el reproductor al que ha agregado el complemento de selección de calidad.</li>
            <li>En la navegación izquierda, selecciona Editor <strong>JSON</strong>.</li>
            <li>Busque la sección sobre el complemento de selección de calidad en el <code>complementos</code> sección, que se muestra aquí:
              <pre class="line-numbers"><code class="language-json" translate="No">{
    "registry_id": "@brightcove/videojs-quality-menu",
    "version": "1.x",
    "options": {
      "useResolutionLabels": true
    }
  }</code></pre>
            </li>
            <li>Hacia <code>opciones</code> sección, agregue la resolución predeterminada deseada, como se muestra en la sección resaltada (no olvide agregar una coma al final de la línea anterior):
              <pre class="line-numbers"><code class="language-json" translate="No">{
    "registry_id": "@brightcove/videojs-quality-menu",
    "version": "1.x",
    "options": {
      "useResolutionLabels": true,
      <span class="bcls-highlight">"defaultResolution": "720p"</span>
    }
  }</code></pre>
            </li>
            <li>Hacer clic <strong>Ahorrar</strong> para guardar el JSON alterado.</li>
            <li>Publica el jugador cambiado.</li>
          </ol>
          <aside class="bcls-aside bcls-aside--tip">Por supuesto, se pueden utilizar pasos similares para configurar cualquiera de las opciones de esta sección utilizando Video Cloud Studio.</aside>
        </li>
        <li>
          <h3><code translate="No">sdBitrateLimit</code></h3>
          <ul>
            <li>Tipo: <code translate="No">Number</code></li>
            <li>Predeterminado: <code translate="No">2000000</code></li>
            <li>Define el límite de velocidad de bits superior (exclusivo) para considerar una interpretación <strong>Dakota del Sur</strong>.</li>
          </ul>
        </li>
        <li>
          <h3><code translate="No">useResolutionLabels</code></h3>
          <ul>
            <li>Tipo: <code translate="No">Boolean</code></li>
            <li>Predeterminado: <code translate="No">true</code></li>
            <li>Cuándo <code translate="No">true</code> , el complemento intentará categorizar las representaciones por líneas de resolución horizontal cuando esté disponible. Establecer en falso para usar siempre <strong>Dakota del Sur</strong>/<strong>HD</strong> categorización.</li>
          </ul>
          <p>Para implementar el <code translate="No">useResolutionLabels</code> opción, debe ingresar lo siguiente en las opciones del complemento en Studio:</p>
          <pre class="line-numbers">
<code class="language-json" translate="No">{
  "useResolutionLabels": false
}</code></pre>
          <p>Las opciones de calidad resultantes aparecerían de la siguiente manera:</p>
          <figure class="bcls-figure"><img class="bcls-image" alt="Options SD and HD only" src="/assets/images/plugins/quality-selection/quality-options-sd-hd-only.png" /></figure>
          <p>A continuación, el jugador seleccionaría la interpretación óptima del grupo seleccionado. Como se detalla en esta sección, <code translate="No">sdBitrateLimit</code> es configurable para determinar las representaciones clasificadas como <strong>Dakota del Sur</strong> y <strong>HD.</strong></p>
          <aside class="bcls-aside bcls-aside--tip">Los ajustes contradictorios no funcionarán. Por ejemplo, no tiene sentido usar ninguno de los siguientes, ya que en ambos casos está proporcionando un valor ilegal para una etiqueta basada en el <code translate="No">useResolutionLabels</code> configuración.
            <pre class="line-numbers">
<code class="language-json" translate="No">"useResolutionLabels": true,
"defaultResolution": "HD"</code></pre>
            <pre class="line-numbers">
<code class="language-json" translate="No">"useResolutionLabels": false,
"defaultResolution": "1080p"</code></pre>
          </aside>
        </li>
        <li>
          <h3><code translate="No">resolutionLabelBitrates</code></h3>
          <ul>
            <li>Tipo: <code translate="No">Boolean</code></li>
            <li>Predeterminado: <code translate="No">false</code></li>
            <li>Cuándo <code translate="No">true</code> , el complemento adjuntará información de velocidad de bits a las etiquetas de resolución (por ejemplo, 720p a 13806 kbps). Esta opción no tiene ningún efecto cuando <code translate="No">useResolutionLabels</code> es falso o cuando la información de resolución no está disponible.</li>
          </ul>
          <p>Cuando se establece esta opción de configuración, <code translate="No">true</code> , el selector de calidad aparecerá de la siguiente manera:</p>
          <figure class="bcls-figure"><img class="bcls-image" alt="All video bitrates" src="/assets/images/plugins/quality-selection/bitrates-displayed.png" /></figure>
        </li>
      </ul>
    </section>

    <section class="bcls-section">
      <h2 id="Styling_the_control">Diseñando el control</h2>
      <p>CSS se utiliza para diseñar el icono de engranaje, así como el menú que aparece. La siguiente tabla muestra los componentes comunes que puede diseñar, los componentes' selectores y finalmente la propiedad CSS a establecer.</p>
      <table class="bcls-table">
        <thead class="bcls-table__head">
          <tr>
            <th>Componente</th>
            <th>Selector</th>
            <th>Propiedad</th>
          </tr>
        </thead>
        <tbody class="bcls-table__body">
          <tr>
            <td>Icono de engranaje</td>
            <td>button.vjs-quality-menu-button.vjs-menu-button.vjs-menu-button-popup.vjs-button</td>
            <td>color</td>
          </tr>
          <tr>
            <td>Color de los elementos del menú</td>
            <td>div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item</td>
            <td>color de fondo</td>
          </tr>
          <tr>
            <td>Color del texto de los elementos del menú</td>
            <td>div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item- texto</td>
            <td>color</td>
          </tr>
          <tr>
            <td>Color del elemento de menú seleccionado</td>
            <td>div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item. vjs-selected</td>
            <td>color de fondo</td>
          </tr>
          <tr>
            <td>Color del texto del elemento seleccionado</td>
            <td>div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item. vjs-selected .vjs-menu-item-text</td>
            <td>color</td>
          </tr>
          <tr>
            <td>Color de texto de <strong>HD</strong> etiqueta</td>
            <td>div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-quality-menu- subetiqueta del artículo</td>
            <td>color</td>
          </tr>
        </tbody>
      </table>
      <p>Por ejemplo, para lograr lo siguiente:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="All video bitrates" src="/assets/images/plugins/quality-selection/styled-menu.png" /></figure>
      <p>Usaría este CSS:</p>
      <pre class="line-numbers">
<code class="language-css" translate="No">/* Style the icon */
button.vjs-quality-menu-button.vjs-menu-button.vjs-menu-button-popup.vjs-button {
  color: red;
}
/* Style the background of the menu items */
div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item {
  background-color: yellow;
}
/* Style the text of menu items */
div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item-text {
  color: green;
}
/* Style the background color of selected menu item */
div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item.vjs-selected {
  background-color: white;
}
/* Style the text color of selected menu item */
div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-menu-item.vjs-selected .vjs-menu-item-text{
  color: blue;
}
/* Style the HD label */
div.vjs-quality-menu-wrapper.vjs-menu-button.vjs-menu-button-popup.vjs-control.vjs-button.vjs-quality-menu-button-use-resolution .vjs-quality-menu-item-sub-label {
  color: lime;
}</code></pre>
    </section>
    <section class="bcls-section">
      <h2 id="Known_issues">Problemas conocidos</h2>
      <ul>
        <li>El complemento funciona con Brightcove Player versión 5.17.0 y posteriores. No se admite la funcionalidad con versiones anteriores del reproductor.</li>
        <li>El selector de calidad no funciona en Safari.</li>
        <li>El selector de calidad no aparece en iOS.</li>
        <li>En ocasiones, el cambio de calidad no se producirá en el momento deseado, puede tardar más de lo esperado.</li>
        <li>Establecer la fuente en la configuración del reproductor y compilar con una sola plantilla de video hará que el menú de calidad no se inicialice correctamente. Esto se debe a que la fuente se establecerá mediante una llamada al <code translate="No">videojs</code> constructor, que no tiene acceso al reproductor ni a los complementos. La fuente debe establecerse llamando <code translate="No">player.src()</code>. Esto no afecta a los usuarios de Video Cloud.</li>
        <li>El menú de calidad no se mostrará al usar contenido DASH con Silverlight.</li>
        <li>La calidad de video en el selector se restablece a <strong>Auto</strong> en cada carga de jugador. No mantiene ningún ajuste previo.</li>
      </ul>
    </section>
    <section class="bcls-section">
      <h2 id="Changelog">Registro de cambios</h2>
      <p>Ver el <a href="http://players.brightcove.net/release-notes/brightcove-player-quality-menu/index.html">Notas de la versión del complemento Quality Menu</a>.</p>
      <p>Para obtener notas de la versión histórica, consulte la <a href="/plugins/changelog/quality-selection-plugin-changelog.html">registro de cambios aquí</a>.</p>
    </section>
  </section>
</article>