---
title: Uso de Brightcove Player para TVE
parent: Playback
description: 'This topic provides information on Video Cloud’s <a href="https://www.adobe.com/marketing-cloud/primetime.html">Adobe Primetime</a> integración para soluciones de TV Everywhere (TVE). Las instrucciones a continuación simplifican la entrada de datos y la administración de metadatos de video al eliminar la duplicación innecesaria de valores y al generar automáticamente los valores de solicitud XML que necesita el cliente de Adobe Pass en función de campos personalizados individuales.'
---

<article class="bcls-article">
  <h1>Uso de Brightcove Player para TVE</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="account_configuration">Configuración de la cuenta</h2>
    <p>El uso de Video Cloud con TVE requiere alguna configuración de cuenta por parte de Brightcove Support. Si quieres utilizar TVE, <a href="https://supportportal.brightcove.com/s/login/?language=en_US">Póngase en contacto con el soporte de Brightcove</a> para detalles.</p>
  </section>
  <section class="bcls-section">
    <h2 id="customFields">Campos requeridos</h2>
    <p>Para esta integración, es posible que desee crear uno o más de los siguientes campos personalizados en su cuenta. Los nombres a continuación son los <em>interno</em> nombres para los campos: puede usar lo que quiera para los nombres de visualización.</p>
    <ul>
      <li><code translate="No">bcadobepassrequestorid</code></li>
      <li><code translate="No">bcadobepasstitle</code></li>
      <li><code translate="No">bcadobepassreferenceid</code></li>
      <li><code translate="No">bcadobepassrating</code></li>
      <li><code translate="No">bcadobepassratingscheme</code></li>
    </ul>
    <p>En la siguiente sección, verá cómo se usan estos campos, si están presentes, y qué valores se usan en su lugar si no lo están.</p>
  </section>
  <section class="bcls-articlesection">
    <h2 id="autoGeneratation">Autogeneración de <code translate="No">resourceID</code> y <code translate="No">requestorID</code> campos</h2>
    <p>Cuando un usuario recupera un video a través de la API de reproducción de una cuenta habilitada para TVE, la API devolverá un valor para <code translate="No">bcadobepassrequestorid</code> de acuerdo con las siguientes reglas:</p>
    <ul>
      <li>Si un valor de campo personalizado para <code translate="No">bcadobepassrequestorid</code> existe en el video, la API devolverá el valor a nivel de video.</li>
      <li>Si no se establece ningún valor para el <code translate="No">bcadobepassrequestorid</code> , la API devolverá el valor de ID del solicitante almacenado en la configuración de la cuenta.</li>
    </ul>
    <p>&nbsp;</p>
    <p>Cuando un usuario recupera un video a través de la API de reproducción de una cuenta habilitada para TVE, la API devolverá un valor para <code translate="No">bcadobepassresourceid</code> de acuerdo con las siguientes reglas:</p>
    <ul>
      <li>Si un valor de campo personalizado para <code translate="No">bcadobepassresourceid</code> existe en el video, la API devolverá el valor a nivel de campo</li>
      <li>Si no se establece ningún valor para el <code translate="No">bcadobepassresourceid</code> campo, la API devolverá un valor calculado según los campos y el formato XML que se indican a continuación.</li>
    </ul>
    <p>El generado <code translate="No">bcadobepassresourceid</code> El campo debe seguir el formato MRSS especificado por Adobe y utilizado en casi todas las integraciones con Comcast.</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;rss version='2.0' xmlns:media='http://search.yahoo.com/mrss/'&gt;
&lt;channel&gt;
&lt;title&gt;<span class="bcls-input">channel</span>&lt;/title&gt;
&lt;item&gt;&lt;title&gt;<span class="bcls-input">item-title</span>&lt;/title&gt;
&lt;guid&gt;<span class="bcls-input">guid</span>&lt;/guid&gt;
&lt;media:rating scheme='urn:<span class="bcls-input">rating-scheme</span>'&gt;<span class="bcls-input">rating</span>&lt;/media:rating&gt;&lt;/item&gt;
&lt;/channel&gt;
&lt;/rss&gt;
</code></pre>
    <p>Los valores incluidos en el MRSS deben basarse en las siguientes reglas.</p>
    <table class="bcls-table">
      <caption class="bcls-caption--table">
      Campos RSS de TVE
      </caption>
      <thead class="bcls-table__head">
        <tr>
          <th>Campo XML RSS</th>
          <th>Campo de Video Cloud</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">channel</code></td>
          <td><ul>
              <li>Si está presente, use <code translate="No">bcadobepassrequestorid</code></li>
              <li>Si no está presente, use el valor establecido en la configuración de la cuenta</li>
            </ul></td>
        </tr>
        <tr>
          <td><code translate="No">item-title</code></td>
          <td><ul>
              <li>Si está presente, use <code translate="No">bcadobepasstitle</code></li>
              <li>Si no está presente, utilice <code translate="No">name</code></li>
            </ul></td>
        </tr>
        <tr>
          <td><code translate="No">guid</code></td>
          <td><ul>
              <li>Si está presente, use <code translate="No">bcadobepassreferenceid</code></li>
              <li>Si no está presente, utilice <code translate="No">reference_id</code></li>
            </ul></td>
        </tr>
        <tr>
          <td><code translate="No">rating</code></td>
          <td><ul>
              <li>Si está presente, use <code translate="No">bcadobepassrequestorid</code></li>
              <li>Enviar solo si ambos <code translate="No">bcadobepassrating</code> y <code translate="No">bcadobepassratingscheme</code> están presentes</li>
            </ul></td>
        </tr>
        <tr>
          <td><code translate="No">rating-scheme</code></td>
          <td><ul>
              <li>Si está presente, use <code translate="No">bcadobepassrating</code></li>
              <li>Enviar solo si ambos <code translate="No">bcadobepassrating</code> y <code translate="No">bcadobepassratingscheme</code> están presentes</li>
            </ul>
            <aside class="bcls-aside bcls-aside--information">Nota: Actualmente, los únicos valores en uso son <code translate="No">v-chip</code> o <code translate="No">mpaa</code> pero es posible que se utilicen otros en el futuro.</aside></td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="configuring_the_player">Configurar el reproductor</h2>
    <p>El siguiente código proporciona un modelo para configurar Brightcove Player para TVE.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;TVE Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- Make sure your player doesn't have a video associated with it
  and don't use data-video-id to assign one. We'll request a video
  from the catalog by hand, detect that it's TVE content, trigger TVE
  authentication and then load the video into the player. --&gt;
  &lt;video-js id="<span class="bcls-highlight">tve-player</span>"
    data-account="account1234"
    data-player="player-id"
    class="video-js"
    controls&gt;
  &lt;/video-js&gt;
  &lt;script src="//players.brightcove.net/account1234/player-id_default/index.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
  var player = videojs.getPlayer('<span class="bcls-highlight">tve-player</span>');
  player.ready(function() {
    player.catalog.getVideo('ref:tve-video', function(error, video) {
      if (error) {
        // showErrorMessage() would be defined by you somewhere else
        // in the page
        return showErrorMessage(error);
      }
      // You can tell whether a video is TVE protected by checking to
      // see if the video sources contain URLs. If they don't, you need
      // to authenticate your viewer and re-request the video with their
      // TVE credentials.
      if (video.sources &amp;&amp; video.sources[0].src) {
        // This is not a TVE video so it can be played back immediately
        return player.catalog.load(video);
      }
      // From here on, we're definitely dealing with a TVE video.
      // You need to provide an implementation for authenticateWithTVE()
      // to get a TVE token. See the documentation from your TVE provider
      // for details on how to do that.
      autenticateWithTVE(function(error, tveToken) {
        if (error) {
          return showErorMessage(error);
        }
        // Now that we have the token, we can re-request the video and get playable URLs.
        player.catalog.tveToken = tveToken;
        player.catalog.getVideo('ref:tve-video', function(error, video) {
          if (error) {
            return showErrorMessage(error);
          }
          player.catalog.load(video);
        });
      });
    });
  });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="playback_api_response">Respuesta a solicitud sin autenticación</h2>
    <p>A continuación se muestra una respuesta de muestra de la API de reproducción cuando no se ha proporcionado la autenticación de TVE. Como verá, las fuentes de video no están disponibles, pero hay otros metadatos de video presentes para permitir que el reproductor muestre una vista previa del contenido.</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  <span class="bcls-highlight">"sources": [

    ],</span>
  "description": "The short description can be used to give more information about your video and will appear in many standard Brightcove Player templates.",
  "poster_sources": [
    {
      "src": "http://f1.media.brightcove.com/8/96980657001/96980657001_207574837001_commonRedpoll-still.jpg?pubId=3840518800001&amp;videoId=3843070012001"
    },
    {
      "src": "https://f1.media.brightcove.com/8/96980657001/96980657001_207574837001_commonRedpoll-still.jpg?pubId=3840518800001&amp;videoId=3843070012001"
    }
  ],
  "tags": [
    "sample"
  ],
  "cue_points": [

  ],
<span class="bcls-highlight">"errors": [
      {
        "error_subcode": "TVE_AUTH",
        "error_code": "SOURCES_RESTRICTED",
        "message": "Video sources are restricted by access policy.",
        "restricted_fields": [
          "sources"
        ]
      }
    ],</span>
    "custom_fields": {
    "bcadobepassresourceid": "<rss version="\&quot;2.0\&quot;" xmlns:media="\&quot;http://search.yahoo.com/mrss/\&quot;"><channel>
    <title></title>
    <item>
        <title></title>
        <guid>anotherRefId</guid>
        <media:rating scheme="\&quot;urn:TV-14\&quot;">XXX</media:rating>
        </item></channel></rss>",
    "bcadobepassrequestorid": "asdfasf",
    "bcadobepassrating": "XXX",
    "bcadobepassreferenceid": "anotherRefId",
    "bcadobepasstitle": "PassTitle",
    "bcadobepassratingscheme": "TV-14"
  },
  "account_id": "3840518800001",
  "name": "Sample Video 2",
  "reference_id": null,
  "long_description": null,
  "duration": 29960,
  "economics": "AD_SUPPORTED",
  "published_at": "2014-10-16T16:35:24.520Z",
  "text_tracks": [

  ],
  "updated_at": "2017-05-26T01:48:41.396Z",
  "thumbnail": "http://f1.media.brightcove.com/8/96980657001/96980657001_180424037001_commonRedpoll-thumbnail.jpg?pubId=3840518800001&amp;videoId=3843070012001",
  "poster": "http://f1.media.brightcove.com/8/96980657001/96980657001_207574837001_commonRedpoll-still.jpg?pubId=3840518800001&amp;videoId=3843070012001",
  "offline_enabled": false,
  "link": null,
  "id": "3843070012001",
  "ad_keys": null,
  "thumbnail_sources": [
    {
      "src": "http://f1.media.brightcove.com/8/96980657001/96980657001_180424037001_commonRedpoll-thumbnail.jpg?pubId=3840518800001&amp;videoId=3843070012001"
    },
    {
      "src": "https://f1.media.brightcove.com/8/96980657001/96980657001_180424037001_commonRedpoll-thumbnail.jpg?pubId=3840518800001&amp;videoId=3843070012001"
    }
  ],
  "created_at": "2014-10-16T16:35:24.520Z"
}</code></pre>
  </section>
</article>