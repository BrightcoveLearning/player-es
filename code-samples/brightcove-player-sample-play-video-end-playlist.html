---
title: 'Muestra de Brightcove Player: Reproducir video al final de la lista de reproducción'
description: 'En este tema, aprenderá cómo asignar un video para que se reproduzca al final de una lista de reproducción, que NO está en la lista de reproducción.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Player_example">Ejemplo de jugador</h2>
    <aside class="bcls-aside bcls-aside--information">Este ejemplo y el código asociado se proporcionan como guía para el desarrollo de su producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
    <p>Ves que la lista de reproducción tiene tres videos. Después de reproducir esos tres vídeos, se reproducirá otro vídeo NO en la lista de reproducción. Una vez que se reproduce el video que no está en la lista de reproducción, la reproducción del video se detiene.</p>
    <!-- CodePen here -->
    
    <p data-height="407" data-theme-id="34967" data-slug-hash="RZjada" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="18431-play-video-end-playlist" class="codepen">Ver la prisma <a href="https://codepen.io/team/rcrooks1969/pen/RZjada/">18431-play-video-end-playlist</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
    
    <h3>Código fuente</h3>
          <p>Ver el <a href="https://github.com/BrightcoveLearning/18431-play-video-end-playlist">solución completa en GitHub</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Uso de CodePen</h2></summary>
      <p>Estos son algunos consejos para utilizar eficazmente el CodePen anterior:</p>
      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong translate="No">Resultado</strong> botón.</li>
        <li>Haga clic en el <strong translate="No">HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Más adelante, en este documento, la lógica, el flujo y el estilo utilizados en la aplicación se analizarán en la configuración de <a href="#Player/HTML_configuration">reproductor/HTML</a>, Flujo de <a href="#Application_flow">aplicaciones</a> y Estilo de <a href="#Application_styling">la aplicación.</a> secciones. La mejor manera de seguir la información de estas secciones es:
          <ol>
            <li>Haga clic en el <strong translate="No">EDITAR CODEPEN</strong> en el CodePen y tenga el código disponible en un navegador / pestaña del navegador.</li>
            <li>En CodePen, ajusta el código que quieres que se muestre. Puede cambiar el ancho de las distintas secciones de código dentro de CodePen.</li>
            <li>Ver el <a href="#Player/HTML_configuration">Configuración de reproductor / HTML</a> , <a href="#Application_flow">Flujo de aplicación</a> y / o <a href="#Application_styling">Estilo de aplicación</a> secciones en otra pestaña del navegador / navegador. Ahora podrá seguir las explicaciones del código y, al mismo tiempo, ver el código.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">secuencia de desarrollo</h2></summary> 
      <p>Esta es la secuencia de desarrollo recomendada:</p>
      <ol>
        <li>Utilice la implementación del reproductor de incrustación en la página para probar la funcionalidad de su reproductor, complemento y CSS (si es necesario CSS)</li>
        <li>Coloque el JavaScript y CSS del plugin en archivos separados para pruebas locales</li>
        <li>Implementa el código del plugin y CSS en tu servidor una vez que hayas resuelto cualquier error.</li>
        <li>Usa Studio para agregar el plugin y CSS a tu reproductor</li>
        <li>Reemplace la implementación del reproductor de incrustación en página si determina que la implementación de iframe se ajusta mejor (se detalla en la siguiente sección)</li>
      </ol>
      <p>Para obtener más información sobre estos pasos, consulte la sección <a href="/coding-topics/step-step-plugin-development.html">Paso a paso: </a> Guía de desarrollo de plugins.</p>
      <h3>iframe o incrustación en página</h3>
      <p>Al desarrollar mejoras para Brightcove Player, deberás decidir si el código se ajusta mejor a la implementación de iframe o incrustación en la página. La recomendación de práctica recomendada es crear un complemento para usarlo con una implementación de iframe. Las ventajas de utilizar el reproductor iframe son:</p>
      <ul>
        <li>Sin colisiones con JavaScript y/o CSS existentes</li>
        <li>Responde automáticamente</li>
        <li>El iframe facilita el uso en aplicaciones de redes sociales (o siempre que el vídeo tenga que «viajar» a otras aplicaciones)</li>
      </ul>
      <p>Aunque la integración del reproductor de incrustación en la página puede ser más compleja, hay ocasiones en que planificará el código en torno a esa implementación. Para generalizar, este enfoque es mejor cuando la página que contiene necesita comunicarse con el reproductor. En concreto, estos son algunos ejemplos:</p>
      <ul>
        <li>El código de la página que contiene necesita escuchar y actuar en función de los eventos de los jugadores</li>
        <li>El reproductor utiliza estilos de la página que lo contiene</li>
        <li>El iframe hará que la lógica de la aplicación falle, como un redireccionamiento desde la página que contiene</li>
      </ul>
      <p>Incluso si tu implementación final no utiliza el código iframe, puedes seguir usando el código de incrustación en la página con un plugin para tu JavaScript y un archivo separado para tu CSS. Esto encapsula tu lógica para que puedas utilizarla fácilmente en varios reproductores.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Recursos de API/plugins utilizados</h2>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Métodos API</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/EventTarget.html#one__anchor">uno ()</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/EventTarget.html#on__anchor">on ()</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play__anchor">jugar ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/guide-playlist-api.html#currentitem">PlayList.Current Item ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">Catalog.getVideo ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#load">catalog.load ()</a></td>
        </tr>
      </tbody>
    </table>
  </section>
  <!-- Major UPDATE work here -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Configuración de reproductor/HTML</h2>
    <p>En esta sección se detalla cualquier configuración especial necesaria durante la creación del reproductor. Además, se describen otros elementos HTML que deben agregarse a la página, más allá del código de implementación del reproductor de incrustación de la página.</p>
    <h3>Configuración del reproductor</h3>
    <p>Al crear el reproductor, debe habilitarlo para mostrar listas de reproducción.</p>
    <h3>Otros HTML</h3>
    <p>Un <code translate="No">&lt;ol&gt;</code> Se debe agregar un elemento que defina la ubicación de la lista de reproducción en la página.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Application_flow">Flujo de aplicaciones</h2>
    <p>La lógica básica detrás de esta aplicación es:</p>
    <ul>
      <li>Escuche el último video de la lista de reproducción que se reproducirá. Esto se hace verificando si el video que acaba de terminar es el último video en la matriz que contiene los videos en la lista de reproducción.</li>
      <li>Cuando se reproduzca el último video, obtenga un video con una identificación proporcionada, luego cárguelo en el reproductor y comience a reproducirlo.</li>
    </ul>
    <h3>Iniciar la reproducción de la lista de reproducción</h3>
    <p>En la parte superior de JavaScript, busque el código etiquetado:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">// +++ Check for loadedmetadata before acting on the playlist +++</code></pre>
    <p>Tenga en cuenta que el <code translate="No">ready()</code> no se utiliza el método, sino que el código espera el <code translate="No">loadedmetadata</code> evento que se enviará. Esto se debe a que el reproductor en sí puede estar listo para comunicarse, pero el video o la lista de reproducción que se carga en el reproductor NO estará listo para interactuar. Esperando <code translate="No">loadedmetadata</code> asegura que se pueda iniciar el video o la lista de reproducción. Este problema puede ser difícil de ver, ya que depende tanto del navegador como de la velocidad de descarga.</p>
    <h3>Verifique si se reproduce el último video y, si es así, cargue el video deseado</h3>
    <p>Busque el código etiquetado:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">// +++ Define on event handler +++</code></pre>
    <p>Cuando termine la reproducción de cada video, se llamará a la función anónima que es el controlador de eventos. Para verificar si es el último video, compare la longitud de la matriz que contiene los videos de la lista de reproducción con la posición del último video reproducido. Tenga en cuenta que <code translate="No">currentItem()</code> devuelve el valor indexado cero de la matriz, por lo que debe agregar 1 al valor. Luego usa el estándar <code translate="No">catalog</code> métodos para obtener y cargar el video deseado.</p>
    <aside class="bcls-aside bcls-aside--information">Basado en la lógica de la aplicación y la información en el <a href="#Development_sequence">Secuencia de desarrollo</a> sección anterior en este documento, verá que no puede usar este código como un complemento con la implementación del reproductor iframe porque el script que especifica, recupera y reproduce el video adicional necesita comunicarse con el reproductor.</aside>
  </section>
  <!-- Major UPDATE work here -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Estilismo de aplicaciones</h2>
    <p>El CSS es muy estándar cuando se usa Brightcove Player con una lista de reproducción. Diseñas tanto al jugador con el <code translate="No">.video-js</code> selector y la lista de reproducción con el <code translate="No">.vjs-playlist</code> selector. Los ajustes que querrá hacer son establecer los anchos del reproductor y la lista de reproducción para maximizar el espacio horizontal en su página.</p>
  </section>
  <!-- Standard section, only need to update the link to the plugin's JavaScript -->
  
  <section class="bcls-section">
    <h2 id="Plugin_code">Código de plugin</h2>
    <p>Normalmente, al convertir JavaScript en un complemento de Brightcove Player, se necesitan cambios nominales. Un cambio necesario es reemplazar el uso estándar del <code translate="No">ready()</code> método por el código que define un complemento.</p>
    <p>Aquí está el código de inicio a JavaScript muy utilizado que funcionará con el reproductor:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>Cambiarás la primera línea para usar la sintaxis estándar para iniciar un plugin de Brightcove Player:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE link here -->
    
    <p>Como se mencionó anteriormente, puede ver el código JavaScript del complemento en el repositorio de GitHub correspondiente de este documento: <a href="https://github.com/BrightcoveLearning/18431-play-video-end-playlist/blob/master/plugin/videoAfterPlaylist.js">videoAfterPlaylist.js</a>.</p>
    <h3>Uso del complemento con un reproductor</h3>
    <p>Una vez que tengas los archivos CSS y JavaScript del plugin almacenados en una ubicación accesible a Internet, puedes usar el plugin con un reproductor. En Studio's <strong>JUGADORES</strong> módulo puedes elegir un jugador, luego en el <strong>PLUGINS</strong> sección agregue las URL a los archivos CSS y JavaScript, y también agregue el <strong>Nombre</strong> y <strong>Opciones</strong> , si se necesitan opciones.</p>
    <aside class="bcls-aside bcls-aside--tip">Para obtener más información sobre el uso de Studio para asignar complementos a los reproductores, consulte la <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuración de complementos del reproductor</a> documento.</aside>
  </section>
</article>