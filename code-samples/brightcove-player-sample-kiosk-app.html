---
title: 'Muestra de Brightcove Player: Aplicación de kiosco'
description: 'En este tema, aprenderá a utilizar la <a href="https://apis.support.brightcove.com/cms/">API de CMS</a> para devolver todos los videos en una cuenta. Luego, los videos se reproducirán en un bucle continuo. Este código satisface las necesidades de un caso de uso de quiosco en el que una computadora desatendida reproduce videos todo el día.'
parent: Code Samples
---

<article class="bcls-article">
  <h1>Muestra de Brightcove Player: Aplicación de kiosco</h1>
  <summary></summary>
  <section class="bcls-section">
    <h2 id="Player_example">Ejemplo de jugador</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Este ejemplo y el código asociado se proporcionan como guía para el desarrollo de su producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
    <p>El jugador reproducirá un video de la matriz de objetos de video en un bucle infinito.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="456" data-theme-id="34967" data-slug-hash="brzorG" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="18186-kiosk-app" class="codepen">Ver la prisma <a href="https://codepen.io/team/rcrooks1969/pen/brzorG/">18186-aplicación-de-kiosco</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Código fuente</h3>
          <p>Ver el <a href="https://github.com/BrightcoveLearning/18186-kiosk-app">solución completa en GitHub</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Uso de CodePen</h2></summary>
      <p>Estos son algunos consejos para utilizar eficazmente el CodePen anterior:</p>
      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong translate="No">Resultado</strong> botón.</li>
        <li>Haga clic en el <strong translate="No">HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Más adelante, en este documento, la lógica, el flujo y el estilo utilizados en la aplicación se analizarán en la configuración de <a href="#Player/HTML_configuration">reproductor/HTML</a>, Flujo de <a href="#Application_flow">aplicaciones</a> y Estilo de <a href="#Application_styling">la aplicación.</a> secciones. La mejor manera de seguir la información de estas secciones es:
          <ol>
            <li>Haga clic en el <strong translate="No">EDITAR CODEPEN</strong> en el CodePen y tenga el código disponible en un navegador / pestaña del navegador.</li>
            <li>En CodePen, ajusta el código que quieres que se muestre. Puede cambiar el ancho de las distintas secciones de código dentro de CodePen.</li>
            <li>Ver el <a href="#Player/HTML_configuration">Configuración de reproductor / HTML</a> , <a href="#Application_flow">Flujo de aplicación</a> y / o <a href="#Application_styling">Estilo de aplicación</a> secciones en otra pestaña del navegador / navegador. Ahora podrá seguir las explicaciones del código y, al mismo tiempo, ver el código.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">secuencia de desarrollo</h2></summary> 
      <p>Esta es la secuencia de desarrollo recomendada:</p>
      <ol>
        <li>Utilice la implementación del reproductor de incrustación en la página para probar la funcionalidad de su reproductor, complemento y CSS (si es necesario CSS)</li>
        <li>Coloque el JavaScript y CSS del plugin en archivos separados para pruebas locales</li>
        <li>Implementa el código del plugin y CSS en tu servidor una vez que hayas resuelto cualquier error.</li>
        <li>Usa Studio para agregar el plugin y CSS a tu reproductor</li>
        <li>Reemplace la implementación del reproductor de incrustación en página si determina que la implementación de iframe se ajusta mejor (se detalla en la siguiente sección)</li>
      </ol>
      <p>Para obtener más información sobre estos pasos, consulte la sección <a href="/coding-topics/step-step-plugin-development.html">Paso a paso: </a> Guía de desarrollo de plugins.</p>
      <h3>iframe o incrustación en página</h3>
      <p>Al desarrollar mejoras para Brightcove Player, deberás decidir si el código se ajusta mejor a la implementación de iframe o incrustación en la página. La recomendación de práctica recomendada es crear un complemento para usarlo con una implementación de iframe. Las ventajas de utilizar el reproductor iframe son:</p>
      <ul>
        <li>Sin colisiones con JavaScript y/o CSS existentes</li>
        <li>Responde automáticamente</li>
        <li>El iframe facilita el uso en aplicaciones de redes sociales (o siempre que el vídeo tenga que «viajar» a otras aplicaciones)</li>
      </ul>
      <p>Aunque la integración del reproductor de incrustación en la página puede ser más compleja, hay ocasiones en que planificará el código en torno a esa implementación. Para generalizar, este enfoque es mejor cuando la página que contiene necesita comunicarse con el reproductor. En concreto, estos son algunos ejemplos:</p>
      <ul>
        <li>El código de la página que contiene necesita escuchar y actuar en función de los eventos de los jugadores</li>
        <li>El reproductor utiliza estilos de la página que lo contiene</li>
        <li>El iframe hará que la lógica de la aplicación falle, como un redireccionamiento desde la página que contiene</li>
      </ul>
      <p>Incluso si tu implementación final no utiliza el código iframe, puedes seguir usando el código de incrustación en la página con un plugin para tu JavaScript y un archivo separado para tu CSS. Esto encapsula tu lógica para que puedas utilizarla fácilmente en varios reproductores.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Recursos de API/plugins utilizados</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Métodos API</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play">jugar ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">Catalog.getVideo ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#load">catalog.load ()</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">on ()</a></td>
        </tr>
      </tbody>
    </table>
    <br/>
    <aside class="bcls-aside bcls-aside--tip">Esta muestra de código utiliza la API de CMS. Para comprender la recuperación de datos de video de esta API, es vital que lea y comprenda la <a href="/getting-started/learning-guide-using-rest-apis.html">Guía de aprendizaje: Uso del</a> documento API REST.</aside>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Get_credentials">Obtener credenciales</h2></summary>
      <p>Para utilizar la API de <span translate="No">CMS</span> necesitarás las credenciales adecuadas.</p>
      <p>La forma más sencilla de obtener credenciales en la mayoría de los casos es a través de la sección Autenticación de API de administración de Studio (requiere permisos de administrador en tu cuenta). Consulte <a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Administración de credenciales de autenticación de API</a> para obtener más información. En la mayoría de los casos, probablemente solo desee obtener permisos para todos <span translate="No">API de CMS</span> operación:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="CMS API Permissions" src="/assets/images/code-samples/brightcove-player-sample-kiosk-app/cms-permissions.png" />
        <figcaption class="bcls-caption--image">Permisos de API de CMS</figcaption>
      </figure>
      <p>Si los permisos que necesita no están disponibles en Studio, o si prefiere obtenerlos directamente de la API de OAuth, utilice su elección de <strong>Obtener credenciales de cliente</strong> documentos que se enumeran a continuación. Sea cual sea la opción que elija, tendrá que solicitar los permisos de operación correctos. Se puede utilizar lo siguiente con cURL o Postman para obtener todos los permisos de la API de CMS:</p>
      <pre class="line-numbers">
	<code class="language-json" translate="No">"operations": [
	  "video-cloud/video/all",
	  "video-cloud/playlist/all",
	  "video-cloud/sharing-relationships/all",
	  "video-cloud/notifications/all"
	]</code></pre>
      <ul>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-curl.html">OAuth: Obtener credenciales de cliente mediante cURL</a></li>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-postman.html">OAuth: Obtener credenciales de cliente mediante Postman</a></li>
      </ul>
    </details>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Configuración de reproductor/HTML</h2>
    <p>En esta sección se detalla cualquier configuración especial necesaria durante la creación del reproductor. Además, se describen otros elementos HTML que deben agregarse a la página, más allá del código de implementación del reproductor de incrustación de la página.</p>
    <h3>Configuración del reproductor</h3>
    <p>No se requiere ninguna configuración especial para el reproductor de Brightcove que crea para este ejemplo.</p>
    <h3>Otros HTML</h3>
    <p>No se añaden otros elementos HTML a la página.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Flujo de aplicaciones</h2>
    <p>La lógica básica detrás de esta aplicación es:</p>
    <ul>
      <li>Utilizar el <span translate="No">API de CMS</span> para obtener un recuento total de videos en la cuenta de destino.</li>
      <li>Dado que es una buena práctica recuperar información de no más de 25 videos a la vez (el <span translate="No">API de CMS</span> NO devuelve objetos de video, sino información sobre los videos), calcule la cantidad de llamadas necesarias a partir del recuento total.</li>
      <li>Al recuperar la información de 25 videos, extraiga los ID y luego utilice el catálogo de Video Cloud para recuperar los objetos de video.</li>
      <li>Una vez que se devuelvan todos los objetos de video, reproduzca el primer video.</li>
      <li>Cuando termine un video, reproduzca el siguiente video.</li>
      <li>Cuando se reproduzca el último video, comience nuevamente desde el principio de la lista.</li>
    </ul>
    <p>Se agregan más detalles en esta descripción:</p>
    <ol>
      <li>Prepárese para hacer la llamada al <span translate="No">API de CMS</span> que devuelve el recuento de videos totales en la cuenta.</li>
      <li>Realice la solicitud real utilizando el <span translate="No">API de CMS</span> para el recuento. Este paso utilizará una función de devolución de llamada, lo que significa que la función de devolución de llamada se pasa como parámetro a otra, segunda, función. A continuación, se llama a la función de devolución de llamada dentro de la lógica de la segunda función. En este caso, la función de devolución de llamada simplemente extrae la propiedad de recuento de un objeto devuelto por la API de CMS.</li>
      <li>Determine la cantidad de llamadas necesarias para <span translate="No">API de CMS</span> para recuperar todos los videos. Este código sigue la mejor práctica de solicitar 25 videos por llamada. Esto se hace dividiendo el recuento de todos los videos por 25.</li>
      <li>Crear un <code translate="No">do-while</code> bucle que itera para el número requerido de llamadas determinadas en el paso anterior. Este bucle debe estar en la función de devolución de llamada de la solicitud del recuento de videos.</li>
      <li>En el bucle, prepárese para hacer la llamada al <span translate="No">API de CMS</span> que devolverá 25 videos de la cuenta.</li>
      <li>Aún en el bucle, realice la solicitud real utilizando el <span translate="No">API de CMS</span> para los datos de video. Este paso utilizará una función de devolución de llamada, lo que significa que la función de devolución de llamada se pasa como parámetro a otra, segunda, función. A continuación, se llama a la función de devolución de llamada dentro de la lógica de la segunda función. En este caso, la función de devolución de llamada realizará estas tareas:
        <ul>
          <li>Extraiga datos para crear una serie de ID de video para la información de video devuelta.</li>
          <li>A continuación, la matriz de ID de vídeo se pasa como parámetro a otra función que recupera el objeto de vídeo completo de cada ID. Los objetos devueltos se almacenan en una matriz de todos los objetos de video. En este paso también se utiliza una función de devolución de llamada.</li>
          <li>Compruebe cuándo se devuelven todos los videos (cuando el número de videos devueltos coincide con el recuento devuelto anteriormente). Cuando se cumpla la condición, llame a una función que reproduzca el primer video de la matriz (elemento cero).</li>
        </ul>
      </li>
      <li>Configure un detector de eventos para escuchar el <code translate="No">ended</code> evento. Cuando termine cada video, reproduzca el siguiente video, o si es el último video de la matriz, reproduzca el primer video.</li>
    </ol>
    <!-- UPDATE task 1 -->
    
    <h3>Solicite el recuento de videos de la API de CMS</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Setup for video count <span translate="No">CMS API</span> request ###</code></pre>
    <p>La primera llamada al <code translate="No">getCMSAPIData()</code> es para el recuento total de videos. Tenga en cuenta que en la función de devolución de llamada hay otra llamada a la función dentro de la <code translate="No">do-while</code> círculo.</p>
    <!-- UPDATE task 2 -->
    
    <h3>Reproducir el siguiente video al final de la reproducción de un video</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Get next video ###</code></pre>
    <p>Usa el <code translate="No">on('ended',...)</code> lógica para reproducir el siguiente video de la lista. Nota la <code translate="No">currentlyPlayingIndex</code> rastrea los videos que se están reproduciendo.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Recupere datos con la API de CMS</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Standard functionality for CSM API call ###</code></pre>
    <p>Este es el código estándar discutido en el <a href="/getting-started/learning-guide-using-rest-apis.html">Guía de aprendizaje: Uso del</a> documento API REST.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Extrae ID de video y recupera objetos de video</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Extract video IDs ###</code></pre>
    <p>Esta serie de funciones toma la información de video devuelta, extrae los ID y luego usa el <span translate="No">API de CMS</span> para recuperar los objetos de video necesarios para que el reproductor reproduzca realmente el contenido de video.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Estilismo de aplicaciones</h2>
    <p>El único CSS mide el tamaño del reproductor.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Código de plugin</h2>
    <p>Normalmente, al convertir JavaScript en un complemento de Brightcove Player, se necesitan cambios nominales. Un cambio necesario es reemplazar el uso estándar del <code translate="No">ready()</code> método por el código que define un complemento.</p>
    <p>Aquí está el código de inicio a JavaScript muy utilizado que funcionará con el reproductor:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>Cambiarás la primera línea para usar la sintaxis estándar para iniciar un plugin de Brightcove Player:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Como se mencionó anteriormente, puede ver el código JavaScript del complemento en el repositorio de GitHub correspondiente de este documento: <a href="https://github.com/BrightcoveLearning/18186-kiosk-app/blob/master/plugin/kiosk-app.js">kiosk-app.js</a>.</p>
    <h3>Uso del complemento con un reproductor</h3>
    <p>Una vez que tengas los archivos CSS y JavaScript del plugin almacenados en una ubicación accesible a Internet, puedes usar el plugin con un reproductor. En Studio's <strong>JUGADORES</strong> módulo puedes elegir un jugador, luego en el <strong>PLUGINS</strong> sección agregue las URL a los archivos CSS y JavaScript, y también agregue el <strong>Nombre</strong> y <strong>Opciones</strong> , si se necesitan opciones.</p>
    <aside class="bcls-aside bcls-aside--tip">Para obtener más información sobre el uso de Studio para asignar complementos a los reproductores, consulte la <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuración de complementos del reproductor</a> documento.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="proxy">Código proxy</h2>
    <p>Para crear su propia versión de la aplicación de muestra en esta página, debe crear y alojar su propio proxy. (Los proxies utilizados por Brightcove Learning Services solo aceptan solicitudes de dominios de Brightcove.) Un proxy de ejemplo, muy similar al que usamos, pero sin las comprobaciones que bloquean solicitudes de dominios que no son de BrightCove, se puede encontrar en <a href="https://github.com/BrightcoveLearning/sample-proxy-apps">este repositorio de GitHub</a>. También encontrará instrucciones básicas para utilizarlo allí y una guía más elaborada para crear aplicaciones alrededor del proxy en <a href="/getting-started/learning-guide-using-rest-apis.html">Uso de las API REST</a>.</p>
  </section>
</article>