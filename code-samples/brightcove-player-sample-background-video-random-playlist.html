---
title: 'Muestra de Brightcove Player: Lista de reproducción aleatoria de videos de fondo'
description: 'En este tema, aprenderá a usar una lista de reproducción para proporcionar videos de fondo seleccionados al azar.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
<section class="bcls-section">
<h2 id="Player_example">Ejemplo de jugador</h2>
<!-- UPDATE description -->

<aside class="bcls-aside bcls-aside--information">Este ejemplo y el código asociado se proporcionan como guía para el desarrollo de su producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>

<p>En el reproductor, verá videos seleccionados al azar de una lista de reproducción que se reproducen continuamente como videos de fondo. Además, al principio de cada vídeo se muestran el título y la descripción de cada vídeo superponiendo al vídeo de fondo. En este ejemplo también se muestra una forma de impedir que la lista de reproducción se repita. Es un caso de uso raro en el que querrías que la lista de reproducción se repita indefinidamente.</p>
<!-- UPDATE codepen here -->

<p data-height="570" data-theme-id="34967" data-slug-hash="oENWJj" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="Background Video Random Playlist" class="codepen">Ver la prisma <a href="https://codepen.io/team/rcrooks1969/pen/oENWJj/">Lista de reproducción aleatoria de videos de fondo</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->

<h3>Código fuente</h3>
          <p>Ver el <a href="https://github.com/BrightcoveLearning/18541-background-video-random-playlist">solución completa en GitHub</a>.</p>
</section>

<section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Uso de CodePen</h2></summary>
      <p>Estos son algunos consejos para utilizar eficazmente el CodePen anterior:</p>
      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong translate="No">Resultado</strong> botón.</li>
        <li>Haga clic en el <strong translate="No">HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Más adelante, en este documento, la lógica, el flujo y el estilo utilizados en la aplicación se analizarán en la configuración de <a href="#Player/HTML_configuration">reproductor/HTML</a>, Flujo de <a href="#Application_flow">aplicaciones</a> y Estilo de <a href="#Application_styling">la aplicación.</a> secciones. La mejor manera de seguir la información de estas secciones es:
          <ol>
            <li>Haga clic en el <strong translate="No">EDITAR CODEPEN</strong> en el CodePen y tenga el código disponible en un navegador / pestaña del navegador.</li>
            <li>En CodePen, ajusta el código que quieres que se muestre. Puede cambiar el ancho de las distintas secciones de código dentro de CodePen.</li>
            <li>Ver el <a href="#Player/HTML_configuration">Configuración de reproductor / HTML</a> , <a href="#Application_flow">Flujo de aplicación</a> y / o <a href="#Application_styling">Estilo de aplicación</a> secciones en otra pestaña del navegador / navegador. Ahora podrá seguir las explicaciones del código y, al mismo tiempo, ver el código.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">secuencia de desarrollo</h2></summary> 
      <p>Esta es la secuencia de desarrollo recomendada:</p>
      <ol>
        <li>Utilice la implementación del reproductor de incrustación en la página para probar la funcionalidad de su reproductor, complemento y CSS (si es necesario CSS)</li>
        <li>Coloque el JavaScript y CSS del plugin en archivos separados para pruebas locales</li>
        <li>Implementa el código del plugin y CSS en tu servidor una vez que hayas resuelto cualquier error.</li>
        <li>Usa Studio para agregar el plugin y CSS a tu reproductor</li>
        <li>Reemplace la implementación del reproductor de incrustación en página si determina que la implementación de iframe se ajusta mejor (se detalla en la siguiente sección)</li>
      </ol>
      <p>Para obtener más información sobre estos pasos, consulte la sección <a href="/coding-topics/step-step-plugin-development.html">Paso a paso: </a> Guía de desarrollo de plugins.</p>
      <h3>iframe o incrustación en página</h3>
      <p>Al desarrollar mejoras para Brightcove Player, deberás decidir si el código se ajusta mejor a la implementación de iframe o incrustación en la página. La recomendación de práctica recomendada es crear un complemento para usarlo con una implementación de iframe. Las ventajas de utilizar el reproductor iframe son:</p>
      <ul>
        <li>Sin colisiones con JavaScript y/o CSS existentes</li>
        <li>Responde automáticamente</li>
        <li>El iframe facilita el uso en aplicaciones de redes sociales (o siempre que el vídeo tenga que «viajar» a otras aplicaciones)</li>
      </ul>
      <p>Aunque la integración del reproductor de incrustación en la página puede ser más compleja, hay ocasiones en que planificará el código en torno a esa implementación. Para generalizar, este enfoque es mejor cuando la página que contiene necesita comunicarse con el reproductor. En concreto, estos son algunos ejemplos:</p>
      <ul>
        <li>El código de la página que contiene necesita escuchar y actuar en función de los eventos de los jugadores</li>
        <li>El reproductor utiliza estilos de la página que lo contiene</li>
        <li>El iframe hará que la lógica de la aplicación falle, como un redireccionamiento desde la página que contiene</li>
      </ul>
      <p>Incluso si tu implementación final no utiliza el código iframe, puedes seguir usando el código de incrustación en la página con un plugin para tu JavaScript y un archivo separado para tu CSS. Esto encapsula tu lógica para que puedas utilizarla fácilmente en varios reproductores.</p>
    </details>
  </section>

<section class="bcls-section">
<h2 id="API/Plugin_resources_used">Recursos de API/plugins utilizados</h2>
<!-- UPDATE table, remove unneeded columns -->

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Métodos API</th>
			<th>Eventos API</th>
			<th>Propiedades de API</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#repeat">player.playlist.repeat ()</a></td>
			<td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadstart">inicio de carga</a></td>
			<td><a href="/references/video-metadata-mediainfo.html">player.media info</a></td>
		</tr>
		<tr>
			<td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">on ()</a></td>
			<td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#duringplaylistchange">durante el cambio de lista de reproducción</a></td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#shuffle">player.playlist.shuffle ()</a></td>
			<td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#playlistitem">artículo de lista de reproducción</a> &nbsp;</td>
			<td>&nbsp;</td>
		</tr>
	</tbody>
</table>
<!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
<!-- UPDATE player and HTML configuration -->

<section class="bcls-section">
<h2 id="Player/HTML_configuration">Configuración de reproductor/HTML</h2>

<p>En esta sección se detalla cualquier configuración especial necesaria durante la creación del reproductor. Además, se describen otros elementos HTML que deben agregarse a la página, más allá del código de implementación del reproductor de incrustación de la página.</p>

<h3>Configuración del reproductor</h3>

<p>Asegúrese de que al crear el reproductor se implementan los siguientes ajustes:</p>

<figure class="bcls-figure"><img class="bcls-image" alt="Set playlist and responsive" src="/assets/images/code-samples/brightcove-player-sample-background-video-playlist/player-settings1.png" />
  <figcaption class="bcls-caption--image">Establecer lista de reproducción y respuesta</figcaption>
  </figure>
  
  <figure class="bcls-figure"><img class="bcls-image" alt="Set playlist" src="/assets/images/code-samples/brightcove-player-sample-background-video-playlist/player-settings2.png" />
  <figcaption class="bcls-caption--image">Establecer lista de reproducción</figcaption>
  </figure>
  
  <figure class="bcls-figure"><img class="bcls-image" alt="Set autostart and play when selected" src="/assets/images/code-samples/brightcove-player-sample-background-video-playlist/player-settings3.png" />
  <figcaption class="bcls-caption--image">Establecer inicio automático y reproducir cuando se selecciona</figcaption>
  </figure>
  
  <figure class="bcls-figure"><img class="bcls-image" alt="Set skip to next video in a playlist" src="/assets/images/code-samples/brightcove-player-sample-background-video-playlist/player-settings4.png" />
  <figcaption class="bcls-caption--image">Establecer saltar al siguiente vídeo de una lista de reproducción</figcaption>
  </figure>
  
<h3>Otros HTML</h3>

<p>En primer lugar, el código del reproductor de incrustación de la página se anida en DOS <code translate="No">div</code> elementos HTML.  <code translate="No">div</code>Ambos contienen los estilos adecuados para llenar toda la ventana del navegador y comportarse de forma responsiva. A continuación, se utiliza otro <code translate="No">div</code> elemento para definir dónde debe ubicarse el texto que se coloca sobre el vídeo de fondo.</p>
</section>
<!-- UPDATE application flow -->

<section class="bcls-section">
<h2 id="Application_flow">Flujo de aplicaciones</h2>

<p>La lógica básica detrás de esta aplicación es:</p>

<ul>
	<li>Estile adecuadamente el reproductor y el cuadro que contiene el texto superpuesto.</li>
	<li>Antes de colocar la lista de reproducción en el reproductor, utilice el <code translate="No">duringplaylistchange</code> evento, aleatorizar la lista de reproducción con el <code translate="No">player.playlist.shuffle()</code> método.</li>
	<li>Configura la lista de reproducción para que se repita indefinidamente</li>
	<li>En la carga de cada vídeo de la lista de reproducción, muestre el título del vídeo y la breve descripción.</li>
</ul>
<!-- UPDATE task 1 -->

<h3>Aleatorizar la lista de reproducción</h3>

<p>Busque el código etiquetado:</p>

<pre>
<code class="language-javascript" translate="No">// +++ Shuffle (randomize) the videos +++</code></pre>

<p>La <code translate="No">on()</code> El método se utiliza para escuchar el <code translate="No">duringplaylistchange</code> evento que se enviará. Esto le permite aleatorizar la lista de reproducción ANTES de que se coloque en el reproductor. Si no lo hace, verá que la lista de reproducción refleja la reproducción aleatoria (diferentes videos' los carteles se mostrarán rápidamente en el reproductor), o el cartel del primer video de la lista de reproducción sin mezclar parpadeará en el reproductor.</p>

<h3>Configurar la lista de reproducción para repetir</h3>

<p>Busque el código etiquetado:</p>

<pre>
<code class="language-javascript" translate="No">// +++ Set the playlist to repeat, but stop after 2 times through +++</code></pre>

<p>El <code translate="No">repeat()</code> método de la API de listas de reproducción se utiliza para mantener la lista de reproducción reproducida indefinidamente. Si desea detener la repetición, utilice el <code translate="No">playlistitem</code> evento, que se envía cada vez que se reproduce un vídeo de la lista de reproducción. En este caso, dado que hay cuatro vídeos en la lista de reproducción y desea detener la lista de reproducción después de 2 repeticiones, contará el número de veces que <code translate="No">playlistitem</code> se envía. Cuando el contador es superior a cuatro (o superior o igual a 4, ambos funcionarán), impide que la lista de reproducción se repita. Cuando la configures <code translate="No">myPlayer.playlist.repeat(false);</code>, la lista de reproducción finalizará el bucle actual en todos los vídeos.</p>
<!-- UPDATE task 2 -->

<h3>Mostrar el título y la descripción</h3>

<p>Busque el código etiquetado:</p>

<pre>
<code class="language-javascript" translate="No">// ### Display the title and description ###</code></pre>

<p>Se utiliza un controlador de eventos para esperar al <code translate="No">loadstart</code> evento. Esto se hace porque el <code translate="No">mediainfo</code> objeto no se rellena hasta que se distribuye ese evento. Entonces el <code translate="No">name</code> y <code translate="No">description</code> se inyectan en el HTML.</p>
</section>
<!-- UPDATE CSS description -->

<section class="bcls-section">
<h2 id="Application_styling">Estilismo de aplicaciones</h2>

<p>El CSS realiza las siguientes tareas:</p>

<ul>
	<li>Hace que el color de fondo de la ventana sea negro.</li>
	<li>Oculta los controles del reproductor de vídeo en segundo plano.</li>
	<li>Deshabilita los eventos de puntero en el jugador.</li>
	<li>Estila el cuadro que superpone el texto. Según el tamaño del reproductor y la cantidad de contenido que se muestre, es posible que sea necesario ajustar estos estilos.</li>
	<li>Estile el estilo que <code translate="No">h1</code> se utiliza en el texto superpuesto.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Plugin_code">Código de plugin</h2>

<p>Normalmente, al convertir JavaScript en un complemento de Brightcove Player, se necesitan cambios nominales. Un cambio necesario es reemplazar el uso estándar del <code translate="No">ready()</code> método por el código que define un complemento.</p>

<p>Aquí está el código de inicio a JavaScript muy utilizado que funcionará con el reproductor:</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>

<p>Cambiarás la primera línea para usar la sintaxis estándar para iniciar un plugin de Brightcove Player:</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
<!-- UPDATE path to plugin's JavaScript -->

<p>Como se mencionó anteriormente, puede ver el código JavaScript del complemento en el repositorio de GitHub correspondiente de este documento: <a href="https://github.com/BrightcoveLearning/18541-background-video-random-playlist/blob/master/plugin/background-playlist-random.js">background-playlist-random.js</a>.</p>

<h3>Uso del complemento con un reproductor</h3>

<p>Una vez que tengas los archivos CSS y JavaScript del plugin almacenados en una ubicación accesible a Internet, puedes usar el plugin con un reproductor. En Studio's <strong>JUGADORES</strong> módulo puedes elegir un jugador, luego en el <strong>PLUGINS</strong> sección agregue las URL a los archivos CSS y JavaScript, y también agregue el <strong>Nombre</strong> y <strong>Opciones</strong> , si se necesitan opciones.</p>

<aside class="bcls-aside bcls-aside--tip">Para obtener más información sobre el uso de Studio para asignar complementos a los reproductores, consulte la <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuración de complementos del reproductor</a> documento.</aside>
</section>
</article>