---
title: 'Muestra de Brightcove Player: ¿Sigues viendo?'
description: 'En este tema, aprenderá cómo crear un Brightcove Player que detecta cuando el espectador ha dejado de mirar mientras deja el video en reproducción.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <h1>{{ page.title }}</h1>
  <section class="bcls-section">
    <h2 id="Player_example">Ejemplo de jugador</h2>
    <aside class="bcls-aside bcls-aside--information">Este ejemplo y el código asociado se proporcionan como guía para el desarrollo de su producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
    <p>En esta muestra, verá después de un período de tiempo establecido, se muestra un mensaje superpuesto. Esta muestra mostrará la superposición en 6 segundos, pero el tiempo es configurable. Si el espectador hace clic en el mensaje dentro de un tiempo especificado, la reproducción continúa. Si no es así, el video está en pausa. Esta técnica es útil si tiene contenido de formato largo. Esto evitará que desperdicie ancho de banda en los espectadores que comienzan a reproducir un video y luego se van para hacer otra cosa sin molestarse en detenerlo.</p>
    <p>Esta muestra utiliza un complemento Video.js de código abierto ubicado en <a href="https://github.com/TylerZubke/Videojs-AFK-Monitor">https://github.com/TylerZubke/Videojs-AFK-Monitor</a>. El código de muestra en este documento utilizará este complemento.</p>
    <!-- UPDATE codepen here -->
    
    <p class="codepen" data-height="467" data-theme-id="34967" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="gXMENg" style="height: 467px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Are you Still Watching?"><span>Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/gXMENg/"> ¿Sigues viendo?</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Código fuente</h3>
          <p>Ver el <a href="https://github.com/BrightcoveLearning/18189-are-you-still-watching">solución completa en GitHub</a>.</p>
    <!-- <p>View source code for the same solution that <a href="https://github.com/BrightcoveLearning/18189-are-you-still-watching/blob/master/still-watching-video-cloud-playlist.html">works across Video Cloud playlists</a>.</p>
  
  <p>View source code for the same solution that <a href="https://github.com/BrightcoveLearning/18189-are-you-still-watching/blob/master/still-watching-brightcove-player-playlist.html">works across Brightcove Player playlists</a>.</p> --></section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Uso de CodePen</h2></summary>
      <p>Estos son algunos consejos para utilizar eficazmente el CodePen anterior:</p>
      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong translate="No">Resultado</strong> botón.</li>
        <li>Haga clic en el <strong translate="No">HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Más adelante, en este documento, la lógica, el flujo y el estilo utilizados en la aplicación se analizarán en la configuración de <a href="#Player/HTML_configuration">reproductor/HTML</a>, Flujo de <a href="#Application_flow">aplicaciones</a> y Estilo de <a href="#Application_styling">la aplicación.</a> secciones. La mejor manera de seguir la información de estas secciones es:
          <ol>
            <li>Haga clic en el <strong translate="No">EDITAR CODEPEN</strong> en el CodePen y tenga el código disponible en un navegador / pestaña del navegador.</li>
            <li>En CodePen, ajusta el código que quieres que se muestre. Puede cambiar el ancho de las distintas secciones de código dentro de CodePen.</li>
            <li>Ver el <a href="#Player/HTML_configuration">Configuración de reproductor / HTML</a> , <a href="#Application_flow">Flujo de aplicación</a> y / o <a href="#Application_styling">Estilo de aplicación</a> secciones en otra pestaña del navegador / navegador. Ahora podrá seguir las explicaciones del código y, al mismo tiempo, ver el código.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">secuencia de desarrollo</h2></summary> 
      <p>Esta es la secuencia de desarrollo recomendada:</p>
      <ol>
        <li>Utilice la implementación del reproductor de incrustación en la página para probar la funcionalidad de su reproductor, complemento y CSS (si es necesario CSS)</li>
        <li>Coloque el JavaScript y CSS del plugin en archivos separados para pruebas locales</li>
        <li>Implementa el código del plugin y CSS en tu servidor una vez que hayas resuelto cualquier error.</li>
        <li>Usa Studio para agregar el plugin y CSS a tu reproductor</li>
        <li>Reemplace la implementación del reproductor de incrustación en página si determina que la implementación de iframe se ajusta mejor (se detalla en la siguiente sección)</li>
      </ol>
      <p>Para obtener más información sobre estos pasos, consulte la sección <a href="/coding-topics/step-step-plugin-development.html">Paso a paso: </a> Guía de desarrollo de plugins.</p>
      <h3>iframe o incrustación en página</h3>
      <p>Al desarrollar mejoras para Brightcove Player, deberás decidir si el código se ajusta mejor a la implementación de iframe o incrustación en la página. La recomendación de práctica recomendada es crear un complemento para usarlo con una implementación de iframe. Las ventajas de utilizar el reproductor iframe son:</p>
      <ul>
        <li>Sin colisiones con JavaScript y/o CSS existentes</li>
        <li>Responde automáticamente</li>
        <li>El iframe facilita el uso en aplicaciones de redes sociales (o siempre que el vídeo tenga que «viajar» a otras aplicaciones)</li>
      </ul>
      <p>Aunque la integración del reproductor de incrustación en la página puede ser más compleja, hay ocasiones en que planificará el código en torno a esa implementación. Para generalizar, este enfoque es mejor cuando la página que contiene necesita comunicarse con el reproductor. En concreto, estos son algunos ejemplos:</p>
      <ul>
        <li>El código de la página que contiene necesita escuchar y actuar en función de los eventos de los jugadores</li>
        <li>El reproductor utiliza estilos de la página que lo contiene</li>
        <li>El iframe hará que la lógica de la aplicación falle, como un redireccionamiento desde la página que contiene</li>
      </ul>
      <p>Incluso si tu implementación final no utiliza el código iframe, puedes seguir usando el código de incrustación en la página con un plugin para tu JavaScript y un archivo separado para tu CSS. Esto encapsula tu lógica para que puedas utilizarla fácilmente en varios reproductores.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Recursos de API/plugins utilizados</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Métodos API</th>
          <th>Eventos API</th>
          <th>Complementos de Brightcove Player</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#addClass">addClass ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:useractive">usuario activo</a></td>
          <td><a href="/plugins/display-overlay-plugin.html">Complemento de superposición</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#removeClass">Eliminar clase ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:userinactive">usuario inactivo</a></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#pause">pausa ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#currentTime">Hora actual ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.one">uno ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">on ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#setTimeout">setTimeout ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#hasClass">hasClass ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#duration">duración ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#paused">pausado ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#clearTimeout">clearTimeout ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#hasStarted">ha empezado()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#el">el ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Configuración de reproductor/HTML</h2>
    <p>En esta sección se detalla cualquier configuración especial necesaria durante la creación del reproductor. Además, se describen otros elementos HTML que deben agregarse a la página, más allá del código de implementación del reproductor de incrustación de la página.</p>
    <h3>Configuración del reproductor</h3>
    <p>No se requiere ninguna configuración especial para el reproductor de Brightcove que crea para este ejemplo.</p>
    <h3>Otros HTML</h3>
    <p>Se incluyen los archivos CSS y JavaScript del complemento de terceros.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Flujo de aplicaciones</h2>
    <p>La lógica básica detrás de esta aplicación es:</p>
    <ul>
      <li>La <code translate="No">useractive</code> y <code translate="No">userinactive</code> los eventos se miran para realizar un seguimiento del tiempo.</li>
      <li>La superposición se muestra después del tiempo especificado para ver si el cliente todavía está viendo el video.</li>
      <li>Cuando se haya mostrado la superposición durante el tiempo que especifique y no se haya hecho clic en el texto, pause el video.</li>
      <li>Cuando se hace clic en el botón, o el espectador inicia el video después de una pausa, reinicialice los valores y comience el seguimiento del tiempo nuevamente.</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>Esta muestra usa el complemento</h3>
    <p>El complemento se llama utilizando las mejores prácticas, como se muestra aquí</p>
    <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;script&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      var options = {'showMessageAfter': 1000, 'pausePlayerAfter': 1000};
      myPlayer.AFKMonitor(options);
    });
  &lt;/script&gt;</code></pre>
    <h3>Configurar el complemento</h3>
    <p>Se pueden utilizar varias opciones para personalizar el complemento. Algunos detalles son:</p>
    <ul>
      <li>Una lista completa de opciones de configuración se encuentra en el complemento <a href="https://github.com/TylerZubke/Videojs-AFK-Monitor">léame</a> expediente.</li>
      <li>La <code translate="No">showMessageAfter</code> (en milisegundos) determina el tiempo antes de que se muestre el botón. <aside class="bcls-aside bcls-aside--warning">Tenga en cuenta que dado que el complemento usa el <code translate="No">userinactive</code> evento, el tiempo establecido por <code translate="No">showMessageAfter</code> se le agregarán 5 segundos. Esto se debe a que <code translate="No">userinactive</code> El evento se envía después de 5 segundos de inactividad del usuario.</aside>
      </li>
      <li>La <code translate="No">pausePlayerAfter</code> (en milisegundos) las opciones también son útiles. Este es el momento en que permite que el usuario haga clic en el botón antes de que el reproductor se detenga. Esto le da al usuario la oportunidad de hacer clic en el botón sin interrumpir la reproducción de video.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--tip">Si desea utilizar este complemento con Brightcove Live, debe utilizar el complemento modificado que se encuentra en <a href="https://github.com/BrightcoveLearning/18189-are-you-still-watching/blob/master/plugin/videojs.afk-monitor-live.js">https://github.com/BrightcoveLearning/18189-are-you-still-watching/blob/master/plugin/videojs.afk-monitor-live.js</a>.</aside>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Estilismo de aplicaciones</h2>
    <p>El CSS es parte del complemento de terceros.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Código de plugin</h2>
    <p>Querrá clonar el repositorio para acceder al código y luego colocarlo en una ubicación accesible en Internet para su uso.</p>
    <aside class="bcls-aside bcls-aside--information">Querrá actualizar el código JavaScript del complemento. En el repositorio se usa el siguiente código, ahora desactualizado, para registrar el complemento:
      <pre class="line-numbers">
  <code class="language-javascript" translate="No">videojs.plugin('AFKMonitor', AFKMonitor);</code></pre>
      <p>Debe reemplazar esa línea de código con:</p>
      <pre class="line-numbers">
  <code class="language-javascript" translate="No">videojs.registerPlugin('AFKMonitor', AFKMonitor);</code></pre>
    </aside>
    <p>Como se mencionó anteriormente, puede ver el código JavaScript del complemento en el repositorio de GitHub correspondiente de este documento: <a href="https://github.com/BrightcoveLearning/18189-are-you-still-watching/blob/master/plugin/videojs.afk-monitor.js">videojs.afk-monitor.js</a>.</p>
    <h3>Uso del complemento con un reproductor</h3>
    <p>Una vez que tengas los archivos CSS y JavaScript del plugin almacenados en una ubicación accesible a Internet, puedes usar el plugin con un reproductor. En Studio's <strong>JUGADORES</strong> módulo puedes elegir un jugador, luego en el <strong>PLUGINS</strong> sección agregue las URL a los archivos CSS y JavaScript, y también agregue el <strong>Nombre</strong> y <strong>Opciones</strong> , si se necesitan opciones.</p>
    <aside class="bcls-aside bcls-aside--tip">Para obtener más información sobre el uso de Studio para asignar complementos a los reproductores, consulte la <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuración de complementos del reproductor</a> documento.</aside>
  </section>
</article>