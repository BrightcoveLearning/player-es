---
title: 'Muestra de Brightcove Player: Obtener tiempo buscado'
description: 'En este tema, aprenderá cómo obtener el tiempo que busca el usuario.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Player_example">Ejemplo de jugador</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Este ejemplo y el código asociado se proporcionan como guía para el desarrollo de su producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
    <p>Al hacer clic en la barra de búsqueda, verá las horas en las que hizo clic debajo del reproductor.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="500" data-theme-id="34967" data-slug-hash="zJKONX" data-default-tab="result" data-user="rcrooks1969" data-pen-title="Get Seeked Time" class="codepen">Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/zJKONX/">Obtener tiempo buscado</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Código fuente</h3>
          <p>Ver el <a href="https://github.com/BrightcoveLearning/18663-get-seeked-time">solución completa en GitHub</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">Uso de CodePen</h2></summary>
      <p>Estos son algunos consejos para utilizar eficazmente el CodePen anterior:</p>
      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong translate="No">Resultado</strong> botón.</li>
        <li>Haga clic en el <strong translate="No">HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Más adelante, en este documento, la lógica, el flujo y el estilo utilizados en la aplicación se analizarán en la configuración de <a href="#Player/HTML_configuration">reproductor/HTML</a>, Flujo de <a href="#Application_flow">aplicaciones</a> y Estilo de <a href="#Application_styling">la aplicación.</a> secciones. La mejor manera de seguir la información de estas secciones es:
          <ol>
            <li>Haga clic en el <strong translate="No">EDITAR CODEPEN</strong> en el CodePen y tenga el código disponible en un navegador / pestaña del navegador.</li>
            <li>En CodePen, ajusta el código que quieres que se muestre. Puede cambiar el ancho de las distintas secciones de código dentro de CodePen.</li>
            <li>Ver el <a href="#Player/HTML_configuration">Configuración de reproductor / HTML</a> , <a href="#Application_flow">Flujo de aplicación</a> y / o <a href="#Application_styling">Estilo de aplicación</a> secciones en otra pestaña del navegador / navegador. Ahora podrá seguir las explicaciones del código y, al mismo tiempo, ver el código.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  
  <section class="bcls-section">
    <h2 id="Middleware_functions">Funciones de middleware</h2>
    <p>En este ejemplo se utiliza middleware Video.js para implementar la solución de código. En un nivel muy alto, los casos de uso en los que el middleware es de mayor valor es cuando desea interceptar y alterar los comportamientos principales del reproductor, como establecer la fuente o la hora actual. El middleware Video.js en general no se analiza extensamente en este documento, pero se explica el código real utilizado para la función middleware. Aquí hay documentos de fuentes Video.js que detallan el middleware:</p>
    <ul>
      <li><a href="http://docs.videojs.com/tutorial-middleware.html">Middleware (del conjunto de documentación Video.js)</a></li>
      <li><a href="http://blog.videojs.com/feature-spotlight-middleware/">Característica Spotlight: Middleware (del blog Video.js)</a></li>
      <li><a href="https://github.com/videojs/videojs-playbackrate-adjuster">videojs-playbackrate-adjuster (una aplicación de ejemplo)</a></li>
    </ul>
    <h3>Implementación de funciones de middleware con Brightcove Player</h3>
    <p>La forma más sencilla de utilizar una función middleware es:</p>
    <ol>
      <li>Escribe la función middleware.</li>
      <li>Coloque la función de middleware en la página con el reproductor en un <code class="notransalate">texto</code> etiqueta, o incluir la función de middleware usando la <code class="notransalate">src</code> atributo con un <code class="notransalate">texto</code> etiqueta. Ambas implementaciones se mostrarán en este documento.</li>
      <li>Registre la función de middleware con el reproductor utilizando el <code class="notransalate">usar()</code> método, como se muestra aquí:
        <pre class="line-numbers">
<code class="language-javascript notransalate">videojs.use ('mimeType', functionName);</code></pre>
        <p>Para el <strong class="notransalate">tipo mime,</strong> puede utilizar un tipo mime de vídeo estándar, como <strong class="notransalate">video/mp4</strong>, o usar un <strong class="notransalate">*</strong> si desea que la función middleware actúe sobre todos mimetipos.</p>
      </li>
    </ol>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Configuración de reproductor/HTML</h2>
    <p>En esta sección se detalla cualquier configuración especial necesaria durante la creación del reproductor. Además, se describen otros elementos HTML que deben agregarse a la página, más allá del código de implementación del reproductor de incrustación de la página.</p>
    <h3>Configuración del reproductor</h3>
    <p>No se requiere ninguna configuración especial para el reproductor de Brightcove que crea para este ejemplo.</p>
    <h3>Otros HTML</h3>
    <p>No se añaden otros elementos HTML a la página.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Flujo de aplicaciones</h2>
    <p>La lógica básica detrás de esta aplicación es:</p>
    <ul>
      <li>Implementar la sintaxis básica para una función de middleware, nombrar la función <code class="notransalate">getSeekedTime</code>.</li>
      <li>Alterar el <code class="notransalate">setCurrentTime ()</code> método para simplemente devolver el tiempo buscado.</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>Crear el esqueleto para la función middleware</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
<code class="language-javascript notransalate">// +++ Definir la función de middleware +++</code></pre>
    <p>La sintaxis básica para crear una función middleware es la siguiente:</p>
    <pre class="line-numbers">
<code class="language-javascript notransalate">var getSeekedTime = función (jugador) { return { ... };</code></pre>
    <!-- UPDATE task 3 -->
    
    <h3>Modifique el método setCurrentTime ()</h3>
    <p>Busque el código etiquetado:</p>
    <pre>
<code class="language-javascript notransalate">// ### Set seek time in setCurrentTime method ###</code></pre>
    <p>Este bloque de código es donde el real <code class="notransalate">setCurrentTime ()</code> el método está alterado. Para entender esto, el primer punto a saber es que el <code class="notransalate">Connecticut</code> El valor pasado a la función refleja el valor al que el espectador está depurando. Por lo tanto, puede simplemente asignar el valor a la variable apropiada y devolver este valor para <code class="notransalate">setCurrentTime ()</code> todavía funciona correctamente.</p>
    <pre class="line-numbers">
<code class="language-javascript notransalate">setCurrentTime: función setCurrentTime (ct) { seekBarClickedTime = ct; return ct; }</code></pre>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Estilismo de aplicaciones</h2>
    <p>El CSS de la página simplemente establece el tamaño del reproductor.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Using_the_middleware_function">Uso de la función middleware</h2>
    <p>Una vez que se haya escrito la función middleware, desea usarla. Antes se mencionaron dos formas y se detallarán ahora.</p>
    <h3>Código en la misma página que el reproductor</h3>
    <p>Aquí defines la función middleware en la misma página que el reproductor y luego la registras.</p>
    <pre class="line-numbers">
<code class="language-html notransalate">&lt;video-js id = "myPlayerID" data-video-id = "5701202551001" data-account = "1752604059001" data-player = "default" data-embed = "default" data-application-id class = "video-js" control S&gt;&lt; / video-js&gt;&lt; div id = "displayTimesHere"&gt;&lt; / div&gt;&lt; script src = "https://players.brightcove.net/1752604059001/default_default/index.min.js"&gt;&lt; /texto&gt;&lt; tipo de script = "texto / javascript"&gt; var seekBarClickedTime; // +++ Definir la función de middleware +++ var getSeekedTime = function (player) { return { // +++ Set seek time in setCurrentTime method +++ setCurrentTime: function setCurrentTime(ct) { seekBarClickedTime = ct; return ct; } }}; // Registre el middleware con el reproductor videojs.use ('*', getSeekedTime); // Inicializa el evento mouseup en la barra de búsqueda videojs.getPlayer ('myPlayerID'). Ready (function () { var myPlayer = this; myPlayer.controlBar.progressControl.seekBar.on('mouseup', function(event) { displayTimesHere.innerHTML += seekBarClickedTime + '&lt;br&gt;'; }); });&lt; /texto&gt;</code></pre>
    <h3>Código incluido en la página del jugador</h3>
    <p>En el siguiente código, JavaScript para la función de middleware y el <code class="notransalate">usar()</code> El método para registrarlo simplemente se incluye en la página.</p>
    <pre class="line-numbers">
<code class="language-html notransalate">&lt;video-js id = "myPlayerID" data-video-id = "5701202551001" data-account = "1752604059001" data-player = "default" data-embed = "default" data-application-id class = "video-js" control S&gt;&lt; /video&gt;&lt; script src = "https://players.brightcove.net/1752604059001/default_default/index.min.js"&gt;&lt; /texto&gt; <span class="bcls-highlight">&lt; script src = "get-seeked-time.js"&gt;&lt; /texto&gt;</span></code></pre>
    <p>Ver el <a href="https://github.com/BrightcoveLearning/18663-get-seeked-time/tree/master/function-in-separate-file">función-en-archivo-separado</a> en el repositorio de GitHub para obtener el código completo.</p>
  </section>
</article>