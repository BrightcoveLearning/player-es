---
title: Asignar un video al reproductor mediante programación

parent: 'Publishing Videos &amp; Players'
description: In this topic, you will learn how to dynamically change the video in the player. To do this you will programmatically change the player instances. This document shows various approaches to changing the video in the player.
---
 <h1>Asignar un video al reproductor mediante programación</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <aside class="bcls-aside bcls-aside--information">El contenido de este documento se aplica únicamente a Video Cloud.</aside>
  <section class="bcls-section">
    <h2 id="urldynamicvideo">Establecer ID de video a través de URL</h2>
    <p>Es posible utilizar la implementación de URL y cambiar dinámicamente el video que se reproduce. Para hacer esto, usa una cadena de consulta al final de la URL en el formulario <code translate="No">?videoId=<em>YOUR_VIDEO_ID</em></code> como se muestra en el siguiente ejemplo.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/..._default/index.html?videoId=2114345471001</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="refids">Usar ID de referencia</h2>
    <p>En todos los ejemplos de este documento en los que se utiliza una identificación de video, <strong>Identificación de referencia</strong> puede ser sustituido. Si usa el ID de referencia, debe anteponer ese identificador con <strong>árbitro:</strong>. Por ejemplo, la primera URL usa la identificación de video, mientras que la segunda usa la identificación de referencia.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/..._default/index.html?videoId=2114345471001
https://players.brightcove.net/..._default/index.html?videoId=ref:1234abcd</code></pre>
  </section>
  <section id="tag" class="bcls-section">
    <h2>Establecer ID de video a través del atributo de etiqueta</h2>
    <p>El código de inserción in-page contiene el <code translate="No">&lt;video&gt;</code> etiqueta. El ID de Video Cloud para el video está asociado con el <code translate="No">data-video-id</code> HTML 5 <strong>datos</strong> atributo.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js
  data-account="1507807800001"
  data-player="dadff0fb-5635-4eac-a1b8-ab8c37a72be9"
  data-embed="default"
  <span class="bcls-highlight">data-video-id="2114345471001"</span>
  class="video-js"
  controls&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/dadff0fb-5635-4eac-a1b8-ab8c37a72be9_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Nota: Cuando el reproductor JavaScript se ejecuta, lee el ID de video de la <code translate="No">data-video-id</code> atributo. Sin embargo, solo lo hace al inicio. Cambiar el valor con, por ejemplo, JavaScript <code translate="No">setAttribute()</code> método, no hace que el reproductor cargue el video. Para cambiar el video después de que el reproductor se haya cargado, debe usar el método JavaScript que se describe a continuación.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="setvideousingjavascript">Configurar video usando JavaScript</h2>
    <p>En muchos casos, desea que las interacciones del usuario controlen qué video se reproduce. Para lograr esto, puede utilizar JavaScript y el catálogo de reproductores <code translate="No">getVideo()</code> y <code translate="No">load()</code> métodos para recuperar y reproducir dinámicamente el video deseado.</p>
    <ul>
      <li>Líneas 1-8: Código avanzado (incrustación en la página) sin valor para el <code translate="No">data-video-id</code> atributo.</li>
      <li>Líneas 11,17: Utilizar el <code translate="No">ready()</code> método para asegurarse de que el jugador esté listo para actuar.</li>
      <li>Línea 12: Asociar al jugador, denominado <code translate="No">this</code> en la función, con una variable.</li>
      <li>Línea 13,16: Utilice el catálogo <code translate="No">getVideo()</code> utilizando el ID de Video Cloud y una función de devolución de llamada como parámetros.</li>
      <li>Línea 15: Utilice el catálogo <code translate="No">load()</code> método para cargar el video y reproducirlo.</li>
    </ul>
    <pre class="line-numbers">
<code class="language-html" translate="No">  &lt;video-js id="myPlayerID"
    data-account="1507807800001"
    data-player="3bc25a34-086a-4060-8745-dd87af3d53b4"
    data-embed="default"
    data-video-id=""
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/3bc25a34-086a-4060-8745-dd87af3d53b4_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      myPlayer.catalog.getVideo('2114345471001', function(error, video) {
        //deal with error
        myPlayer.catalog.load(video);
      });
    });
  &lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="setvideoiniframe">Establecer video en iframe</h2>
    <p>Para especificar el video a un reproductor alojado en un iframe, puede pasar la identificación del video (o la identificación de referencia como se mencionó anteriormente) a través de una cadena de consulta de URL. Por ejemplo:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">  &lt;iframe src='https://players.brightcove.net/.../index.html<span class="bcls-highlight">?videoId=2114345471001'</span>
    allowfullscreen
    webkitallowfullscreen
    mozallowfullscreen&gt;&lt;/iframe&gt; </code></pre>
    <p>También puede usar JavaScript para cambiar la cadena de consulta para el iframe <code translate="No">src</code> atributo para decirle al jugador qué nuevo video reproducir.</p>
    <ul>
      <li>Líneas 1-2: El código de implementación del iframe. Tenga en cuenta la cadena de consulta (texto después de la <strong>?</strong> carácter) proporciona la identificación del video que se va a reproducir.</li>
      <li>Línea 5: Defina la función que se llamará cuando el video deba cambiar.</li>
      <li>Línea 6: Utilice JavaScript <code translate="No">getElementsByTagName()</code> método para colocar el <code translate="No">&lt;iframe&gt;</code> etiqueta en una variable. Tenga en cuenta que el método devuelve una matriz de todos los elementos coincidentes en la página y, dado que está utilizando la primera (y única) etiqueta iframe en la página, puede usar el elemento cero de la matriz.</li>
      <li>Línea 7: Crea una cadena de consulta que reemplazará a la anterior. Esto define el nuevo video que se reproducirá.</li>
      <li>Línea 8: Asigna a una variable el <code translate="No">src</code> propiedad de la <code translate="No">iframe</code> etiqueta.</li>
      <li>Línea 9: Extrae la fuente del reproductor, menos la cadena de consulta anterior.</li>
      <li>Línea 10: Crea el nuevo valor para el <code translate="No">src</code> propiedad combinando la fuente del reproductor con la definición de la cadena de consulta del nuevo video.</li>
      <li>Línea 11: Asigna la nueva información de fuente / video al <code translate="No">&lt;iframe&gt;</code> etiqueta <code translate="No">src</code> propiedad.</li>
    </ul>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;iframe src='https://players.brightcove.net/...c_default/index.html?videoId=4341341161001'
    allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;

&lt;script type="text/JavaScript"&gt;
  function changeVideo() {
    var iframeTag = document.getElementsByTagName("iframe")[0],
      newVideo = "?videoId=3742256815001",
      theSrc = iframeTag.src,
      srcWithoutVideo = theSrc.substring( 0, theSrc.indexOf( "?" ) ),
      newSrc = srcWithoutVideo + newVideo;
    iframeTag.src = newSrc;
  }
&lt;/script&gt;  </code></pre>
  </section>
</article>