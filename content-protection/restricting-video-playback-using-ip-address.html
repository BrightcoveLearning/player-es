---
title: Restricción de la reproducción de video mediante la dirección IP

parent: 'Content Protection'
description: 'This topic provides an overview of how IP address restriction can be used to limit video distribution. <aside class="bcls-aside bcls-aside--information">La restricción de la dirección IP solo está disponible para los editores de Video Cloud Enterprise.</aside>'
---

<article class="bcls-article">
  <h1>Restricción de la reproducción de video mediante la dirección IP</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">Resumen</h2>
    <p>Para limitar la reproducción de video solo a espectadores internos, Video&nbsp;Los editores de Cloud Enterprise pueden utilizar la restricción de direcciones IP. Este enfoque evita que todos los jugadores de una cuenta se carguen a menos que el navegador que carga el reproductor utilice una de una lista específica (lista blanca) de direcciones IP permitidas. Esto proporciona un nivel de seguridad que va más allá <a href="https://studio.support.brightcove.com/players/configuring-player-content-restrictions.html#domains">restricción de dominio</a> o <a href="https://studio.support.brightcove.com/players/configuring-player-content-restrictions.html#geofilter">restricción geográfica</a>.</p>
    <p>Cuando configura la restricción de dirección IP, se aplica a todos los jugadores en esa cuenta. Deberá usar una cuenta separada para los reproductores y videos que desea poner a disposición del público.</p>
    <p>Cuando un usuario intenta cargar una página que contiene un reproductor de Video Cloud desde una dirección que no está en la lista blanca, verá un mensaje de error que dice "El video que está intentando ver no se puede ver desde su país o ubicación actual. "</p>
    <aside class="bcls-aside bcls-aside--information">Tenga en cuenta que cuando se establece la restricción de IP, entrará en vigencia cuando se alcance el tiempo de caché del reproductor, que puede ser de hasta dos horas.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="How_to_set_up_IP_address_restriction">Cómo configurar la restricción de direcciones IP</h2>
    <p>Para configurar la restricción de la dirección IP para una de sus cuentas de Video Cloud, comuníquese con <a href="http://support.brightcove.com/en/contact">Soporte de Brightcove</a>. Deberá trabajar con Soporte para identificar o crear una cuenta para este propósito y proporcionar un archivo de texto que contenga su lista blanca de direcciones IP.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Creating_an_IP_address_whitelist">Crear una lista blanca de direcciones IP</h2>
    <p>Para configurar la restricción de dirección IP para una de sus cuentas de Video Cloud, debe proporcionar a Brightcove Support una lista blanca de las direcciones IP que deberían poder cargar reproductores de Video Cloud. La mayoría de las empresas utilizan una o más puertas de enlace a través de las cuales el tráfico corporativo interno llega a Internet externo.&nbsp;Su lista blanca de direcciones IP debe incluir las direcciones IP de todas estas puertas de enlace.</p>
    <p>La lista blanca debe incluir cada dirección IP en una línea separada. También puede incluir un rango de direcciones IP. Por ejemplo:</p>
    <pre>
<code class="language-javascript" translate="No">38.39.23.40
38.39.23.48
38.39.23.50-38.112.23.69
38.39.23.100-38.112.23.199</code></pre>
    <p>Puede utilizar máscaras de subred en <a href="https://en.wikipedia.org/wiki/Dot-decimal_notation">Notación decimal de puntos</a> , como:</p>
    <pre>
<code class="language-javascript" translate="No">38.39.23.50/255.255.255.0</code></pre>
    <p>También puedes usar <a target="_blank" href="http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">Notación de bloque CIDR</a> , como:</p>
    <pre>
<code class="language-javascript" translate="No">38.39.23.50|24</code></pre>
    <p>o</p>
    <pre>
<code class="language-javascript" translate="No">38.39.23.50/24</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Video_Cloud_content">Contenido de Video Cloud</h2>
    <p>Cuando utilice la API de reproducción para recuperar contenido de una cuenta de Video Cloud configurada para restricciones de IP, debe utilizar lo siguiente en lugar de la URL estándar:</p>
    <pre>
<code class="language-javascript" translate="No">https://edge-elb.api.brightcove.com/playback/v1</code></pre>
    <p>Usar <code translate="No">edge-elb.api...</code> vs lo normal <code translate="No">edge.api...</code></p>
    <h3 id="Implementation_details">Detalles de la implementación</h3>
    <p>Cuando se le pide a un Brightcove Player que cargue un video desde una cuenta de Video Cloud, se conecta al catálogo en esta dirección:</p>
    <p><strong>https://edge.api.brightcove.com/playback/v1/</strong>.</p>
    <p>Así es como se comporta esa URL:</p>
    <ul>
      <li>Cuando golpea Edge desde dentro de Norteamérica, golpea Edge directamente y Edge ve la dirección IP del usuario. Puede permitir o denegar el acceso al catálogo según la lista blanca de restricciones de IP. Este es el comportamiento deseado.</li>
      <li>Cuando llega a Edge desde fuera de América del Norte, pasa a través de Cloudfront por razones de CDN de almacenamiento en caché local / equilibrio de carga. Esto causa problemas porque Edge ve la IP de Cloudfront en lugar de la IP del usuario y rechaza todas las solicitudes. Esto se debe a que Cloudfront no está en la lista blanca (y nunca debería estarlo porque cualquiera que use Cloudfront tendría acceso).</li>
    </ul>
    <p>Existe un punto final alternativo para Edge que puede remediar esta situación para los clientes no norteamericanos. El punto final es:</p>
    <p><strong>edge-elb.api.brightcove.com</strong>.</p>
    <p>La desventaja de este enfoque es que introducirá un retraso muy leve en la recuperación del contenido en caché desde fuera de los EE. UU. Porque las solicitudes de catálogo se enviarán a Virginia en los EE. UU. En lugar de a través de la red global de servidores locales de Cloudfront. Es probable que esto apenas se note, pero vale la pena considerarlo y probarlo. El contenido en sí se entregará normalmente, desde servidores locales. Al acceder desde Norteamérica oa través de un proxy norteamericano, no habrá ningún cambio en el rendimiento.</p>
    <p>Si cree que la pequeña demora vale la pena, debe configurar todos los jugadores que necesitan acceder a la cuenta de IP restringida desde fuera de Norteamérica. Puede realizar este cambio en Studio en el <strong>JUGADORES</strong> módulo. Los siguientes pasos le guiarán a través del cambio de configuración:</p>
    <ol class="bcls-tasklist">
      <li>Abre el <strong>Jugadores</strong> módulo y cree un nuevo reproductor o localice el reproductor al que desea realizar el cambio de configuración.</li>
      <li>Haz clic en el enlace del reproductor para abrir las propiedades del reproductor.</li>
      <li>Hacer clic <strong>Editor JSON</strong> en el menú de navegación de la izquierda.</li>
      <li>Localizar el <strong>video_cloud</strong> en el JSON, que tendrá un aspecto similar al siguiente (puede haber más o menos pares de nombre / valor):
        <pre class="line-numbers">
<code class="language-json" translate="No">"video_cloud": {
    "policy_key": "BCpkADaw...ndVx5X"
  },</code></pre>
      </li>
      <li>Después de la última entrada, agregue una coma, luego el siguiente par de nombre / valor:
        <pre class="line-numbers">
<code class="language-json" translate="No">"base_url": "https://edge-elb.api.brightcove.com/playback/v1/"</code></pre>
      </li>
      <li>El editor JSON debería tener un aspecto similar al siguiente:
        <figure class="bcls-figure"><img class="bcls-image" alt="json editor" src="/assets/images/general/json-editor-restrict.png" /></figure>
      </li>
      <li>Guarde y publique el reproductor actualizado.</li>
    </ol>
    <aside class="bcls-aside bcls-aside--warning">los <code translate="No">base_url</code> La configuración SOLO debe usarse con la configuración de restricción de IP.</aside>
  </section>
</article>