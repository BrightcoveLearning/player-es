---
title: Creación de un manifiesto DASH DRM para Brightcove Player

parent: 'DRM &amp; Content Protection'
description: In this topic, you will learn how to create an MPEG-DASH manifest (.MPD file) with DRM protection for Brightcove Player.
---

<article class="bcls-article">
  <h1>Creación de un manifiesto DASH DRM para Brightcove Player</h1>
  <summary>{{ page.description }} </summary>
  <section class="bcls-section">
    <h2 id="Overview">Resumen</h2>
    <p>El manifiesto MPEG-DASH (archivo .MPD) describe un video con representaciones MPEG-DASH cifradas mediante cifrado común (CENC) y es compatible con los módulos de descifrado de contenido (CDM) Playready, Widevine y Marlin. Solo Playready y Widevine son compatibles con el reproductor web de Brightcove, según el navegador que se utilice.</p>
    <h3>Soporte del navegador</h3>
    <p>La reproducción solo funciona en navegadores de escritorio compatibles con Macintosh y Windows.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Tipos de navegador</th>
          <th>Tecnología de reproducción</th>
          <th>Tipo de DRM</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Chrome 34+</td>
          <td>Reproducción nativa de MSE/EME mediante Shaka-Player<sup>*</sup></td>
          <td>Widevine</td>
        </tr>
        <tr>
          <td>MS Edge en Windows 10</td>
          <td>Reproducción nativa de MSE/EME mediante Shaka-Player<sup>*</sup></td>
          <td>Listo para jugar</td>
        </tr>
        <tr>
          <td>Todos los demás navegadores, incluidos Safari, IE y Firefox</td>
          <td>Complemento de Silverlight</td>
          <td>Listo para jugar</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--information"><sup>*</sup>Shaka-Player proporciona soporte DASH. Antes de la versión 4 del complemento Brightcove Player DRM, la tecnología de reproducción utilizada para la compatibilidad con DASH se construyó sobre Dash.js.</aside>
  </section>
  <section class="bcls-section player-only" id="perform_External_DRM_content">
    <h2>Contenido DRM externo</h2>
    <h3>Requisitos para contenido DRM creado fuera de Brightcove Video Cloud</h3>
    <p>Para reproducir contenido de video con protección DRM aplicada usando Brightcove Player, su video debe estar codificado siguiendo estas pautas.</p>
    <ol>
      <li>Debe ser MPEG-DASH Live Profile (no "a pedido", no "hbbtv")</li>
      <li>Todas las representaciones deben tener el mismo intervalo de fotogramas clave y velocidad de fotogramas (para compatibilidad con nuestro complemento Silverlight)</li>
      <li>Debe estar cifrado mediante cifrado común (CENC) y tener habilitada la compatibilidad con Playready y Widevine</li>
      <li>Deben proporcionarse las URL del servidor de licencias de Playready y Widevine. La URL del servidor de licencias de Playready debe incluirse en el archivo de manifiesto (.mpd). La URL del servidor de licencias de Widevine se puede proporcionar en el manifiesto o como parámetro en Javascript.</li>
      <li>El vector de inicialización Playready debe ser de 8 bytes.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_manifest">Manifiesto de muestra</h2>
    <p>A continuación se muestra un ejemplo de manifiesto MPEG-DASH (archivo .MPD) generado por Video Cloud.</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" ?&gt;
&lt;MPD mediaPresentationDuration="PT1M28S" minBufferTime="PT2.00S" profiles="urn:mpeg:dash:profile:isoff-live:2011" type="static" xmlns="urn:mpeg:dash:schema:mpd:2011" xmlns:mspr="urn:microsoft:playready" xmlns:mas="urn:marlin:mas:1-0:services:schemas:mpd"&gt;
   &lt;Period&gt;
      &lt;AdaptationSet mimeType="audio/mp4" segmentAlignment="true" startWithSAP="1"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="43241" id="4324360320001/audio/und" codecs="mp4a.40.5" audioSamplingRate="22050"&gt;
            &lt;AudioChannelConfiguration schemeIdUri="urn:mpeg:dash:23003:3:audio_channel_configuration:2011" value="2"/&gt;
         &lt;/Representation&gt;
      &lt;/AdaptationSet&gt;
      &lt;AdaptationSet mimeType="video/mp4" segmentAlignment="true" startWithSAP="1" scanType="progressive"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="237182" id="4324360320001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="601518" id="4324360321001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="981387" id="4324360323001/video/1" codecs="avc1.42c016" frameRate="30" width="480" height="360"/&gt;
         &lt;Representation bandwidth="1507704" id="4324360324001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2102387" id="4324360325001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2991373" id="4324360326001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
      &lt;/AdaptationSet&gt;
   &lt;/Period&gt;
&lt;/MPD&gt;
</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="License_information">Información de licencia</h2>
    <p>Para crear su propio flujo DASH-DRM que sea compatible con Brightcove Player, su sistema de codificación debe crear un manifiesto similar (MPD) al proporcionado anteriormente que incluya información sobre la licencia DRM. Su MPD puede omitir las secciones de Marlin que no utiliza Brightcove Player en la actualidad.</p>
    <h3>Especificación de la clave de licencia de PlayReady</h3>
    <p>Brightcove Player requiere que la información de la licencia de PlayReady esté incrustada en el MPD como una cadena codificada en base 64. Puede ver el valor en este ejemplo en el <code translate="No">&lt;mspr:pro&gt;</code> etiqueta de arriba. La información de la clave codificada se muestra decodificada a continuación. La información sobre el formato del encabezado PlayReady se puede encontrar aquí: <a href="http://www.microsoft.com/playready/documents/">http://www.microsoft.com/playready/documents/</a>.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"&gt;&lt;DATA&gt;&lt;PROTECTINFO&gt;&lt;KEYLEN&gt;16&lt;/KEYLEN&gt;&lt;ALGID&gt;AESCTR&lt;/ALGID&gt;&lt;/PROTECTINFO&gt;&lt;KID&gt;gK+XXUIk6U+xqvwk7Lb6KA==&lt;/KID&gt;&lt;CHECKSUM&gt;UdkKbIAxnNg=&lt;/CHECKSUM&gt;&lt;LA_URL&gt;https://prlic.brightcove.com/license/3723496277001&lt;/LA_URL&gt;&lt;/DATA&gt;&lt;/WRMHEADER&gt;</code></pre>
    <h3>Especificación de la URL de la licencia de Widevine</h3>
    <p>Observe aquí que la URL del servidor de licencias de Widevine se proporciona en el MPD en esta línea:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;</code></pre>
    <p>Alternativamente, puede proporcionar la URL del servidor de licencias de Widevine como parámetro para el reproductor en JavaScript en la página donde está incrustado. A continuación, se muestra un ejemplo de cómo llamar a Brightcove Player especificando un servidor de licencias con la URL de origen:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.src({
  "src": sourceUrl,
  "type": "application/dash+xml",
  "keySystemOptions": [{
    "name": "com.widevine.alpha",
    "options": {"licenseUrl": licenseServerUrl}
  }]
});</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Preloading">Precarga</h2>
    <p>Hay una serie de configuraciones entre las que puede elegir controlar la precarga de datos de video. Ver el <a href="/general/player-configuration-guide.html#preload">Guía de configuración del reproductor, <strong>precarga</strong> sección</a> para obtener detalles completos. El comportamiento predeterminado es que Brightcove Player precargará los metadatos del video (por ejemplo, el título y la duración), junto con varios segundos de datos de video. Si desea cambiar el comportamiento de la precarga, puede especificar la siguiente opción en la configuración de su reproductor:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">"preload": "none"</code></pre>
    <p>Aquí hay un ejemplo de una configuración de reproductor con esa configuración:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "account_id": "3723496277001",
  "autoadvance": 0,
  "embed_id": "default",
  "player": {
    "template": {
      "name": "single-video-template",
      "version": "1.14.26"
    }
  },
  "player_id": "82f443bc-82f5-4074-bf9c-de2920c89b24",
  "player_name": "DRM Demo",
  <span class="bcls-highlight">"preload": "none"</span>,
  "scripts": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.min.js"
  ],
  "stylesheets": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.css"
  ],
  "video_cloud": {
    "policy_key": "BCpkADawqM2ENcgyE-9inavnwhb7UdI2lOWO-at96gPIdABCVZPuXWJkv6ddgIUTCbe3iyoKKI5hyVkjKkhRve9eOhJ7e5G6433DkB5DS2ilfROKA8hN07KKYt6k6MqCbqvL5N-KGYcYDEFGSP8b5dC",
    "video": null
  }
}</code></pre>
  </section>
</article>