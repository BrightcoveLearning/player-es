---
title: Eventos del jugador
parent: Coding Topics
description: In this topic, you will learn about the various types of events associated with Brightcove Player.
---

<article class="bcls-article">
  <h1>Eventos del jugador</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">Resumen</h2>
    <p>Brightcove Player tiene muchos eventos para que usted controle la reproducción de video. Este tema proporciona una descripción general sobre los diferentes tipos de eventos.</p>
    <p>Puede encontrar una lista completa de eventos de Brightcove Player en el <a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#toc120__anchor">API de eventos / métodos de jugador</a> documento de referencia. Este documento refleja los eventos que forman parte del código real que compone el reproductor.</p>
  </section>
  <section class="bcls-section">
    <h2 id="mediaevents">Eventos de medios</h2>
    <p>La <a href="https://html.spec.whatwg.org/multipage/">Estándar de vida HTML</a> document es un gran recurso para obtener información sobre el desarrollo de HTML y las API necesarias para las aplicaciones web. Este es un documento "vivo" que se mantiene actualizado por el Grupo de Trabajo de Tecnología de Aplicación de Hipertexto Web (WHATWG), que es una comunidad creciente de personas interesadas en la evolución de la web.</p>
    <p>Brightcove Player se ejecuta sobre el marco HTML, lo que desencadena lo siguiente <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#mediaevents">Eventos de medios</a>.</p>
    <p>A continuación, se muestran algunos términos asociados con eventos en este documento:</p>
    <h3>obstruido</h3>
    <p>Un MediaController se considera bloqueado si se ha <a href="//dev.w3.org/html5/spec-preview/media-elements.html#paused-media-controller">pausado</a>. Un elemento multimedia está bloqueado si su controlador es un <a href="//dev.w3.org/html5/spec-preview/media-elements.html#blocked-media-controller">controlador de medios bloqueado</a>.</p>
    <h3>MediaController</h3>
    <p>A <a href="//dev.w3.org/html5/spec-preview/media-elements.html#mediacontroller">MediaController</a> es un objeto que coordina la reproducción de múltiples elementos multimedia.</p>
    <h3>elemento multimedia</h3>
    <p>A <a href="//dev.w3.org/html5/spec-preview/media-elements.html#media-element">elemento multimedia</a> presenta datos de audio, o datos de video y audio, al usuario.</p>
    <h3>esclavizado</h3>
    <p>Por defecto, cada elemento multimedia no tiene <code translate="No">MediaController</code>. Cuando los elementos multimedia están asociados con un <code translate="No">MediaController</code> , se dice que son <a href="//dev.w3.org/html5/spec-preview/media-elements.html#slaved-media-elements">esclavizado</a> al controlador. El controlador modifica la velocidad de reproducción y el volumen de cada uno de los elementos multimedia que le son esclavos. Si uno de los elementos esclavos se detiene inesperadamente, el controlador detendrá los otros elementos esclavos.</p>
  </section>
  <section class="bcls-section">
    <h2 id="bufferingandqosevents">Buffering y eventos de QoS</h2>
    <p>A continuación, se muestra un subconjunto de eventos relacionados con el almacenamiento en búfer y la calidad de servicio (QoS):</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 40%;" scope="col"><strong>Nombre del evento</strong></th>
          <th style="width: 60%;" scope="col"><strong>Descripción</strong></th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-progress">progress</a></code></td>
          <td>Almacenamiento en búfer (carga) de datos de video</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-waiting">waiting</a></code></td>
          <td>Esperando momentáneamente los datos de video solicitados</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-stalled">stalled</a></code></td>
          <td>Buffering estancado</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-error">error</a></code></td>
          <td>Se produjo un error al cargar el video</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-playing">playing</a></code></td>
          <td>La reproducción se reanudó después de una pausa o un retraso en la descarga</td>
        </tr>
        <tr>
          <td><code translate="No"><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-ratechange">ratechange</a></code></td>
          <td>La velocidad de reproducción ha cambiado (puede ser manual o automática)</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--warning">En Edge Windows 10, el <code translate="No">waiting</code> El evento nunca se distribuye cuando hay almacenamiento en búfer.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="startupevents">Eventos de inicio</h2>
    <p>Hay una serie de eventos que ocurren cuando el reproductor se inicializa y se prepara para reproducir un video. Se enumeran aquí en el orden en que se enviarán:</p>
    <ul>
      <li>
        <p><code translate="No">loadstart</code>: Se distribuye cuando se inicializa el reproductor y si se reinicia en el caso de darle una nueva fuente para reproducir.</p>
        <aside class="bcls-aside bcls-aside--tip">Desde el <code translate="No">loadstart</code> evento puede suceder antes de que el reproductor esté listo, es una buena práctica configurar el detector de eventos para este evento antes de llamar al reproductor <code translate="No">ready()</code> función. Consulte el CodePen a continuación.</aside>
      </li>
      <li><code translate="No">loadedmetadata</code>: Se envía cuando el reproductor tiene información inicial de duración y dimensión, en otras palabras, cuando se descarga el primer segmento. Para videos en vivo el <code translate="No">loadedmetadata</code> El evento no se enviará hasta que el usuario haga clic en reproducir. Esto se debe a que los videos en vivo no comienzan a descargar segmentos hasta que el usuario hace clic en reproducir.</li>
      <li><code translate="No">loadeddata</code>: Se envía cuando el reproductor ha descargado datos en la posición de reproducción actual</li>
    </ul>
    <p>El siguiente CodePen muestra los eventos de inicio que se escuchan y distribuyen. Tenga en cuenta que si pasa el mouse sobre CodePen, puede hacer clic en el <strong>REPETICIÓN</strong> botón ubicado en la parte inferior derecha para ver el envío de eventos nuevamente. Si desea experimentar con el código, haga clic en el <strong>Editar en CODEPEN</strong> enlace en el encabezado para pasar al entorno de edición. Puede hacer clic en el <strong>JS</strong> para ver el JavaScript que agrega los oyentes de eventos.</p>
    <p data-height="400" data-theme-id="14832" data-slug-hash="jPrdQm" data-default-tab="result" data-user="bcls" class="codepen">Ver la prisma <a href="http://codepen.io/team/bcls/pen/jPrdQm/">Demostración de eventos de inicio</a> por Brightcove Learning Services (<a href="https://codepen.io/team/rcrooks1969">@bcls</a> ) en <a href="http://codepen.io">CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
    <aside class="bcls-aside bcls-aside--information">Nota: Es posible que en la primera carga de esta página no vea la <code translate="No">loadstart</code> evento. Esto se debe a que ese evento podría enviarse antes de que CodePen se represente por completo en la página. Haga clic en el <strong>REPETICIÓN</strong> y verá los tres eventos enviados.</aside>
    <h3>método ready ()</h3>
    <p>La <code translate="No">ready()</code> El método tiene una doble personalidad en el sentido de que parece un evento, pero lo usas como un método. Este método / evento significa que el jugador está listo para recibir comandos.</p>
    <p>La <code translate="No">ready()</code> El método difiere de los detectores de eventos en que si el <code translate="No">ready</code> evento ya ha sucedido, activará el <code translate="No">ready()</code> método inmediatamente. A menudo verá el método utilizado de la siguiente manera para proporcionar el punto de partida para el desarrollo con Brightcove Player:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function(){
  var myPlayer = this;
});</code></pre>
    <aside class="bcls-aside bcls-aside--tip">Nota: Es importante darse cuenta de que si el reproductor tiene que cambiar las tecnologías de reproducción, digamos de HTML a Flash, para reproducir un video, la <code translate="No">ready</code> Los controladores de eventos de método / evento se volverán a ejecutar una vez que la nueva tecnología de reproducción esté en funcionamiento.</aside>
    <h3>ready () frente a on ('loadedmetadata ', ...)</h3>
    <p>Tenga en cuenta que el uso de <code translate="No">ready()</code> funciona correctamente si desea interactuar con el reproductor, por ejemplo, agregue un complemento mediante programación. Si desea interactuar inmediatamente con el video, por ejemplo, use <code translate="No">play()</code> , el fragmento de código anterior no siempre funcionará correctamente. Un mejor enfoque sería escuchar <code translate="No">loadedmetadata</code> para interactuar con el video, por ejemplo:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  myPlayer.play();
});</code></pre>
    <p>En resumen, para interactuar con el jugador puedes usar esto:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready()</code></pre>
    <p>Si desea interactuar inmediatamente con el video en el reproductor, use esto:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){})</code></pre>
    <aside class="bcls-aside bcls-aside--information">Nota: La razón por la que debes esperar el <code translate="No">loadedmetadata</code> El evento que se enviará es que garantiza que el catálogo haya tenido tiempo de recuperar el video antes de que intente reproducirlo.</aside>
  </section>
  <section id="fullscreenEvents">
    <h2 class="bcls-section">Eventos de pantalla completa</h2>
    <p>A <code translate="No">fullscreenchange</code> El reproductor emite el evento cuando se cambia hacia o desde el modo de pantalla completa. El mismo evento se transmite ya sea que el jugador vaya a pantalla completa o regrese al modo normal. Si es importante que sepa qué sucedió, use el <code translate="No">player.isFullscreen()</code> método para determinar si el reproductor se encuentra actualmente en modo de pantalla completa.</p>
    <p>El Codepen a continuación ilustra cómo hacer esto.</p>
    <p data-height="766" data-theme-id="14832" data-slug-hash="JGEdEd" data-default-tab="result" data-user="bcls" class="codepen">Ver la prisma <a href="http://codepen.io/team/bcls/pen/JGEdEd/">Eventos de pantalla completa de Brightcove Player</a> por Brightcove Learning Services (<a href="http://codepen.io/bcls">@bcls</a> ) en <a href="http://codepen.io">CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script></section>
  <section class="bcls-section">
    <h2 id="adevents">Eventos publicitarios</h2>
    <p>Para incluir bibliotecas de anuncios y funcionalidad en su reproductor, puede utilizar el <a href="/plugins/advertising-ima3-plugin.html">Complemento IMA3</a> o el <a href="/plugins/advertising-freewheel-plugin.html">Complemento FreeWheel</a>. Esto está construido sobre el <a href="https://github.com/videojs/videojs-contrib-ads/blob/master/README.md">marco de anuncios de videojs</a> (videojs-contrib-ads). Ambos complementos publicitarios pueden enviar los eventos publicitarios que se muestran en la siguiente tabla. Cada uno también tiene eventos específicos particulares de la implementación.</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:35%">Evento</th>
          <th style="width:65%">Se envía cuando:</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>solicitud de anuncios</td>
          <td>A petición de datos publicitarios.</td>
        </tr>
        <tr>
          <td>carga de anuncios</td>
          <td>Cuando los datos del anuncio están disponibles tras una solicitud de anuncio.</td>
        </tr>
        <tr>
          <td>ads-ad-started</td>
          <td>Ha empezado a reproducirse un anuncio.</td>
        </tr>
        <tr>
          <td>anuncios ad-finalizado</td>
          <td>Un anuncio ha terminado de reproducirse.</td>
        </tr>
        <tr>
          <td>pausa de anuncios</td>
          <td>Se ha pausado un anuncio.</td>
        </tr>
        <tr>
          <td>reproducción de anuncios</td>
          <td>Un anuncio se reanuda de una pausa.</td>
        </tr>
        <tr>
          <td>anuncios primer cuartil</td>
          <td>El anuncio ha jugado el 25% de su duración total.</td>
        </tr>
        <tr>
          <td>punto medio de anuncios</td>
          <td>El anuncio ha jugado el 50% de su duración total.</td>
        </tr>
        <tr>
          <td>anuncios - tercer cuartil</td>
          <td>El anuncio ha jugado el 75% de su duración total.</td>
        </tr>
        <tr>
          <td>anuncios, haga clic</td>
          <td>Un espectador ha hecho clic en el anuncio de reproducción.</td>
        </tr>
        <tr>
          <td>cambio de volumen de anuncios</td>
          <td>Se ha cambiado el volumen del anuncio que se está reproduciendo.</td>
        </tr>
        <tr>
          <td>anuncios pod-iniciado</td>
          <td>Se ha iniciado el primer anuncio de un pod de anuncios lineal (un grupo de anuncios secuenciado).</td>
        </tr>
        <tr>
          <td>anuncios pod-finalizado</td>
          <td>El último anuncio de un pod de anuncios lineal (un grupo de anuncios secuenciado) ha finalizado.</td>
        </tr>
        <tr>
          <td>anuncios - todos los pods-completados</td>
          <td>Todos los anuncios lineales han terminado de reproducirse.</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="bc-catalog-error" class="bcls-section">
    <h2>evento bc-catalog-error</h2>
    <p>Es posible que el manejo de errores en la <code translate="No">ready()</code> sección normal del bloque de secuencias de comandos pueda causar problemas. Por ejemplo, puede ocurrir que el <code translate="No">bc-catalog-error</code> evento se pueda enviar antes de que el reproductor esté listo y, si escucha el error en la <code translate="No">ready()</code> sección, no podrás manejar el error. Este problema puede producirse cuando se utiliza el filtrado geográfico, un vídeo no se publica, un vídeo está fuera del rango de programación o en otra cuenta. Para una discusión completa y ejemplos de manejo del <code translate="No">bc-catalog-error</code> evento, ver el <a href="/references/player-catalog.html">Catálogo de jugadores</a> documento.</p>
  </section>
  <section id="progresstimeupdate" class="bcls-section">
    <h2>progreso y actualización de tiempo</h2>
    <p>Puede producirse confusión acerca de las diferencias entre <code translate="No">progress</code> y <code translate="No">timeupdate</code> eventos. Brightcove Player se basa en vídeo HTML5 y, en ese estándar, <code translate="No">progress</code> El evento se envía cuando el navegador está descargando datos. La <code translate="No">timeupdate</code> El evento se distribuye cuando la posición de reproducción actual ha cambiado.</p>
    <p>Esto puede resultar confuso para los usuarios de Smart Player de Brightcove, ya que en esa API el <code translate="No">progress</code> el evento hace que <code translate="No">timeupdate</code> hace en Brightcove Player API.</p>
  </section>
  <section id="section-name" class="bcls-section">
    <h2>Precaución al eliminar los oyentes de timeupdate</h2>
    <p>En algunos casos, es posible que desee eliminar un detector de eventos que haya agregado al <code translate="No">timeupdate</code> evento. Un caso de uso se muestra en el <a href="/code-samples/brightcove-player-sample-register-play-after-preview.html">Muestra de jugador de Brightcove: Registrarse para jugar después de la vista previa</a> documento. En esta situación, desea que el reproductor haga una pausa en algún intervalo de tiempo y está utilizando <code translate="No">timeupdate</code> para la verificación de tiempo, luego use una definición de función de controlador de eventos anónima. Solo desea hacer una pausa una vez, por lo que debe eliminar el detector de eventos. NO quieres hacer simplemente:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.off('timeupdate');</code></pre>
    <p>Por supuesto, esto elimina TODOS los oyentes de eventos a <code translate="No">timeupdate</code> , y entre otros problemas, hacer esto evitará que avance el depurador de tiempo. Lo que se debe hacer es crear una función usando la sintaxis de definición de función normal (una declaración de función), luego eliminar SOLO el detector de eventos. El código abreviado se muestra aquí:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No"> // Add the event handler
myPlayer.on('timeupdate', timeupdateHandler);

// Handle the event then remove JUST this event listener on timeupdate
function timeupdateHandler(evt) {
  ...
  myPlayer.off('timeupdate', timeupdateHandler);
}</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="analytics_events">Eventos analíticos</h2>
    <p>Se activa un evento cada vez que se envía una baliza al recopilador de datos de Analytics. Puede escuchar cualquier baliza o balizas específicas.</p>
    <h3>Escuche todas las balizas</h3>
    <p>Puede rastrear todas las balizas analíticas enviadas escuchando el <code translate="No">analytics_request</code> evento:</p>
<pre class="line-numbers"><code class="language-javascript" translate="No">player.on('analytics_request', function(e) {
  videojs.log('sent a(n) ' + e.params.event + ' beacon!', e.params);
});</code></pre>
    <h3>Escuche balizas específicas</h3>
    <p>Puede rastrear balizas de análisis específicas enviadas escuchando el <code translate="No">analytics_request_<span class="bcls-input">{beacon_name}</span></code> evento.</p>
    <p><code translate="No">{beacon_name}</code> es el nombre de cualquiera de los eventos de jugador que se envían al recopilador de datos. Para obtener una lista completa de estos eventos, consulte la <a href="https://apis.support.brightcove.com/data-collection/references/reference.html#tag/Events">Referencia de la API de recopilación de datos</a>.</p>
    <h4>Ejemplo</h4>
<pre class="line-numbers"><code class="language-javascript" translate="No">player.on('analytics_request_video_impression', function(e) {
  videojs.log('sent an impression beacon!', e.params);
});</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="No_support_for_method_chaining">Sin soporte para el encadenamiento de métodos</h2>
    <p>A partir de la versión 6 del método Brightcove Player, el encadenamiento con eventos ya no es compatible. Esto significa que NO PUEDE hacer esto:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on(event, function () {})
.on(event, function () {})
.on(event, function () {})
.on(event, function () {});</code></pre>
  </section>
</article>