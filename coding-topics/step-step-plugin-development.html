---
title: 'Paso a paso: Desarrollo de complementos'
parent: Coding Topics
description: In this topic you will learn via a hands-on introduction about plugin development and use.
---

<article class="bcls-article">
  <h1>Paso a paso: Desarrollo de complementos</h1>
  <summary>{{ page.description }}</summary>
  <section id="developmentapproach" class="bcls-section">
    <h2>Enfoque de desarrollo</h2>
    <p>El JavaScript y CSS que desarrolle para complementos eventualmente deberá almacenarse en una ubicación accesible en Internet, pero se recomienda que durante el desarrollo cree y pruebe localmente. Para hacer esto, realizará lo siguiente:</p>
    <ul>
      <li>Cree un archivo que contenga su código de complemento de JavaScript</li>
      <li>Cree un archivo que contenga su código de complemento CSS (si es necesario)</li>
      <li>Cree un archivo HTML para probar. Utilizar el <code translate="No">embed_in_page</code> implementación para el jugador</li>
      <li>Agregar un <code translate="No">id</code> hacia <code translate="No">&lt;video-js&gt;</code> etiqueta</li>
      <li>Enlace a las páginas de JavaScript y CSS</li>
      <li>Usar una <code translate="No">&lt;script&gt;</code> etiqueta para llamar a la función</li>
      <li>Desarrolle y depure su código</li>
    </ul>
    <p>El resto de este documento lo guía a través de estos pasos para crear e implementar un complemento simple.</p>
  </section>
  <section id="buildthebasics" class="bcls-section">
    <h2>Construye lo básico</h2>
    <p>Para comenzar el proceso de creación de un complemento, debe realizar algunos de los pasos fundamentales de alto nivel mencionados anteriormente.</p>
    <ol class="bcls-tasklist">
      <li>Crea una carpeta llamada <code translate="No">plugin-dev</code> que se puede navegar utilizando un servidor HTTP real. El servidor es necesario para las pruebas de implementación de iframe más adelante en este documento.</li>
      <li>En la carpeta, cree tres archivos con los siguientes nombres:
        <ul>
          <li><strong translate="No">plugin-dev.html</strong> (Inserte los elementos básicos de una página HTML en el archivo)</li>
          <li>plugin-dev.js<strong translate="No"></strong></li>
          <li>plugin-dev.css<strong translate="No"></strong></li>
        </ul>
      </li>
      <li>Usando Studio's <strong translate="No">Jugadores</strong> módulo, crea un nuevo jugador.</li>
      <li class="video-cloud-only">En el <strong translate="No">Medios de comunicación</strong> módulo, seleccione un video y publíquelo con el reproductor recién creado.</li>
      <li class="player-only">Utilizando el <strong translate="No">CONTENIDO DE VIDEO</strong> , asocie un video con el reproductor, luego guarde y publique el reproductor.</li>
      <li class="video-cloud-only">Copia el <strong translate="No">Avanzado</strong> codificar y pegar en el cuerpo del <code translate="No">plugin-dev.html</code> página.</li>
      <li class="player-only">Desde el <strong translate="No">Insertar código y URL&gt; Reproductor publicado</strong> menú, copie el <strong translate="No">Código de inserción avanzado</strong> codificar y pegar en el cuerpo del <code translate="No">plugin-dev.html</code> página.</li>
      <li>Agregar un <code translate="No">id</code> atribuir a la <code translate="No">&lt;video-js&gt;</code> etiqueta con un valor de <code translate="No">player</code>.</li>
      <li>Verifique que su página HTML sea similar a la siguiente <span class="player-only">(Los clientes de Brightcove Player no tendrán <code translate="No">data-video-id</code> propiedad)</span>:
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Quick Start Plugin Dev&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;video-js id="player"
    data-video-id="4607746980001"
    data-account="1507807800001"
    data-player="Bk6LLayNQ"
    data-embed="default"
    class="video-js" controls&gt;&lt;/video&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/Bk6LLayNQ_default/index.min.js"&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </li>
      <li>Navegue por la página para asegurarse de que su video se esté reproduciendo.</li>
    </ol>
  </section>
  <section id="javascript" class="bcls-section">
    <h2>Crear JavaScript</h2>
    <p>A continuación, creará y probará el código JavaScript para crear una superposición para el video.</p>
    <ol class="bcls-tasklist">
      <li>Abre el archivo <code translate="No">plugin-dev.js</code> y pegue el siguiente código JavaScript:
        <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginDev', function() {
  var player = this,
  overlay = document.createElement('p');
  overlay.className = 'vjs-overlay';
  overlay.innerHTML = "Becoming a plugin developer";
  player.el().appendChild(overlay);
});</code></pre>
        <aside class="bcls-aside bcls-aside--information">Nota: para la versión 5.xy los reproductores anteriores, debe utilizar <code translate="No">videojs.plugin()</code> en lugar de <code translate="No">videojs.registerPlugin()</code></aside>
      </li>
      <li>Compruebe su comprensión de cada línea insertada:
        <ul>
          <li>Las líneas 1 y 7 son la sintaxis estándar para comenzar y finalizar un nuevo complemento de reproductor. En este caso, el nombre del complemento es <code translate="No">pluginDev</code>.</li>
          <li>La línea 2 es una forma estándar de tener una forma de controlar al jugador. Esto es necesario para llamar a los métodos del reproductor, lo que hará más tarde.</li>
          <li>La línea 3 crea un elemento de párrafo en el documento y lo asigna al <code translate="No">overlay</code> variable.</li>
          <li>La línea 4 asigna una clase a la superposición que se utilizará más adelante junto con CSS.</li>
          <li>La línea 5 agrega texto al elemento de párrafo.</li>
          <li>La línea 6 usa el <code translate="No">el()</code> método del jugador para recuperar el elemento DOM del jugador, luego agrega el nuevo elemento de párrafo a ese DOM.</li>
        </ul>
        <aside class="bcls-aside bcls-aside--information">Nota: Se requiere el punto y coma al final del código JavaScript del complemento (línea 7 arriba).</aside>
      </li>
      <li>En el archivo HTML, añade el siguiente código justo debajo de las <code translate="No">&lt;script&gt;</code> etiquetas existentes. Este código incluye el archivo JavaScript y luego llama al método definido en ese JavaScript.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="plugin-dev.js"&gt;&lt;/script&gt;
&lt;script&gt;videojs.getPlayer('myPlayerID').pluginDev();&lt;/script&gt;</code></pre>
      </li>
      <li>Vuelva a navegar por la página HTML y verá que nada visible ha cambiado. El problema es que la superposición está ahí, pero no visible. Cambiará esto más tarde.</li>
      <li>Para verificar que la superposición esté presente, use las herramientas de desarrollo de su navegador. En el <em>Elementos</em> sección, compruebe el jugador <code translate="No">&lt;div&gt;</code> elemento, y verá el elemento de párrafo recién insertado, como se muestra aquí:
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-overlay-in-elements" src="/assets/images/coding-topics/sbs-plugin-quick-start-overlay-in-elements.png" /></figure>
      </li>
    </ol>
  </section>
  <section id="styletheplugin" class="bcls-section">
    <h2>Estilo del complemento</h2>
    <p>Sabe que la superposición ahora es parte del reproductor, pero no está visible. A continuación, aplicará estilo a la superposición para que se vuelva visible. En esta sección del documento, utilizará un CSS muy simple para asegurarse de que la superposición sea visible.</p>
    <ol class="bcls-tasklist">
      <li>Abre el archivo <code translate="No">plugin-dev.css</code> y pegar en los siguientes estilos:
        <pre class="line-numbers">
<code class="language-javascript" translate="No">.vjs-overlay {
    background-color: #333333;
    color: white;
    position: absolute;
    margin-top: 100px;
    margin-left: 20px;
}</code></pre>
      </li>
      <li>En el archivo HTML, agregue el siguiente código justo debajo del existente <code translate="No">&lt;link&gt;</code> etiqueta. Este código se vincula a su archivo CSS recién creado.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;link href="plugin-dev.css" rel="stylesheet"&gt;</code></pre>
      </li>
      <li>Examine la página HTML y verá que la superposición ahora es visible.
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-overlay-showing" src="/assets/images/coding-topics/sbs-plugin-quick-start-overlay-showing.png" /></figure>
      </li>
    </ol>
  </section>
  <section id="passdatatoplugin" class="bcls-section">
    <h2>Pasar datos al complemento</h2>
    <p>A menudo ocurrirá que desea cambiar el comportamiento de su complemento en el momento de la inicialización. Esto es posible pasando datos al complemento usando el <code translate="No">options</code> propiedad. En este ejemplo, pasará el texto que se mostrará en la superposición.</p>
    <ol class="bcls-tasklist">
      <li>Abra la página HTML y modifique el <code translate="No">&lt;script&gt;</code> etiquetas por lo que una variable llamada <code translate="No">options</code> se crea y se le asigna un objeto con un par clave-valor de <em>"overlayText": "Estos datos se proporcionan en la inicialización"</em>. Además, pase el <code translate="No">options</code> variable como argumento al llamar a la <code translate="No">pluginDev()</code> método. Los cambios deberían aparecer de la siguiente manera:
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="plugin-dev-copy.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  <span class="bcls-highlight">var options = {"overlayText": "This data supplied at initialization"};</span>
&lt;/script&gt;
<span class="bcls-highlight">&lt;script&gt;videojs.getPlayer('myPlayerID').pluginDev(options);&lt;/script&gt;</span></code></pre>
      </li>
      <li>Ahora necesita modificar el JavaScript del complemento para usar los datos pasados a la función. La línea 110 muestra la función que acepta los datos como parámetro, y la línea 114 usa los datos del objeto.
        <pre class="line-numbers">
<code class="language-javascript" translate="No"><span class="bcls-highlight">videojs.registerPlugin('pluginDev', function(options) {</span>
  var player = this,
  overlay = document.createElement('p');
  overlay.className = 'vjs-overlay';
  <span class="bcls-highlight">overlay.innerHTML = options.overlayText;</span>
  player.el().appendChild(overlay);
});</code></pre>
      </li>
      <li>Navegue por la página HTML y verá el nuevo texto que se está utilizando.
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-options-showing" src="/assets/images/coding-topics/sbs-plugin-quick-start-options-showing.png" /></figure>
      </li>
    </ol>
    <aside class="bcls-aside bcls-aside--warning">Nota: El proceso que se muestra en esta sección del documento, que incluye y llama al complemento a través de JavaScript, tiene fines de desarrollo y es útil para la configuración inicial y las pruebas, pero no se considera una práctica recomendada. La mejor práctica es incluir el complemento como parte de la configuración de su reproductor Studio (como se muestra en la siguiente sección) incluso si está utilizando la implementación embed_in_page.</aside>
  </section>
  <section id="deploytheplugin" class="bcls-section">
    <h2>Implementar el complemento</h2>
    <p>Una vez que tenga el complemento, el CSS y el reproductor funcionando correctamente, debe implementar los activos para un uso adecuado. A continuación, se muestra una descripción general de los pasos necesarios para la implementación:</p>
    <ul>
      <li>Copie / mueva los archivos JavaScript y CSS a su ubicación remota</li>
      <li>Utilice Studio para agregar la configuración del complemento al reproductor.</li>
      <li>Cree un archivo HTML para probar y use la implementación de iframe para el reproductor</li>
      <li>Prueba de anomalías</li>
    </ul>
    <p>Ahora se le guiará a través de estos pasos.</p>
    <ol class="bcls-tasklist">
      <li>Mueva los archivos JavaScript y CSS de su complemento a una ubicación accesible en Internet de su elección. <aside class="bcls-aside bcls-aside--information">Si lo desea, puede utilizar los archivos en la ubicación que se muestra a continuación en el ejemplo. También puede utilizar el <a href="https://apis.support.brightcove.com/delivery-system/">API del sistema de entrega</a> para almacenar los archivos en su propio repositorio.</aside>
      </li>
      <li>En la carpeta en la que está trabajando, cree otro archivo llamado <code translate="No">plugin-dev-iframe.html</code>.</li>
      <li>Utilice Studio's <strong translate="No">Jugadores</strong> módulo para editar el reproductor que creó anteriormente.</li>
      <li>Haz clic en <strong>Plugins</strong> en el menú de navegación izquierdo.</li>
      <li>Siguiente clic <strong>Agregar un complemento&gt; Complemento personalizado</strong>.</li>
      <li>Para el nombre del <strong>complemento,</strong> introduzca <code translate="No">pluginDev</code>.</li>
      <li>Para el <strong>JavaScript</strong> URL, ingrese (o su URL):
        <pre>
 <code class="language-json" translate="No">https://solutions.brightcove.com/bcls/brightcove-player/plugins/plugin-dev.js</code></pre>
      </li>
      <li>Para el <strong>CSS</strong> URL, ingrese (o su URL):
        <pre>
 <code class="language-json" translate="No">https://solutions.brightcove.com/bcls/brightcove-player/plugins/plugin-dev.css</code></pre>
      </li>
      <li>Ingrese las opciones de configuración en el <strong>Opciones (JSON)</strong> caja de texto.
        <pre class="line-numbers">
 <code class="language-json" translate="No">{"overlayText": "This data is supplied at initialization"}</code></pre>
      </li>
      <li>Su cuadro de diálogo de configuración debería tener un aspecto similar al siguiente:
        <figure class="bcls-figure"><img class="bcls-image" alt="Plugins dialog" src="/assets/images/coding-topics/sbs-plugin-plugins-dialog.png" /></figure>
      </li>
      <li>Haz clic en <strong>Guardar</strong>.</li>
      <li>Para publicar el reproductor, haga clic en <strong>Publicar e insertar &gt; Publicar cambios</strong>.</li>
      <li>Para cerrar el cuadro de diálogo abierto, haga clic en <strong>Cerrar</strong>.</li>
      <li class="video-cloud-only">En el <strong translate="No">Medios de comunicación</strong> módulo, seleccione un video y publíquelo con el reproductor recientemente actualizado y publicado.</li>
      <li class="video-cloud-only">Copia el <strong translate="No">Estándar</strong> codificar y pegar en el cuerpo del <code translate="No">plugin-dev-iframe.html</code> página. Tu página debería aparecer de forma similar a la siguiente:</li>
      <li class="player-only">Desde el <strong translate="No">Insertar código y URL&gt; Reproductor publicado</strong> menú, copie el <strong translate="No">Código de inserción estándar</strong> codificar y pegar en el cuerpo del <code translate="No">plugin-dev-iframe.html</code> página. Tu página debería aparecer de forma similar a la siguiente:
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Quick Start Plugin Dev - iframe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;iframe src='https://players.brightcove.net/1507807800001/Bk6LLayNQ_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </li>
      <li>Navegue por la página HTML y debería ver que el complemento funciona correctamente con el iframe.</li>
    </ol>
  </section>
  <section id="3rdparty" class="bcls-section">
    <h2>Bibliotecas de terceros</h2>
    <p>Si su complemento tiene dependencias en bibliotecas de terceros, por ejemplo, jQuery, debe incluirlas de una de estas dos formas:</p>
    <ul>
      <li>Agregue la biblioteca como otro archivo JavaScript en el <strong translate="No">Complementos</strong> Sección de <strong translate="No">Jugadores</strong> módulo en <span class="video-cloud-only">Video Cloud</span> Estudio.</li>
      <li>Agregue varias entradas en el <strong translate="No">guiones</strong> sección de la configuración del reproductor en una declaración curl.</li>
    </ul>
    <p>ASEGÚRESE de poner las bibliotecas de las que depende su complemento antes de la entrada de JavaScript de su complemento en los dos escenarios enumerados anteriormente. El orden de entrada SI importa.</p>
  </section>
</article>