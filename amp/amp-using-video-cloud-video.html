---
title: AMP usando un video de Video Cloud
parent: amp
description: In this topic, you will learn how Accelerated Mobile Pages (AMP) can be used with Brightcove Player.
---

<article class="bcls-article">
    <h1>AMP usando un video de Video Cloud</h1>
    <summary>{{ page.description }}</summary>
    <section class="bcls-section">
        <aside class="bcls-aside bcls-aside--warning">Este documento utiliza AMP con Brightcove Player versión 6 y un video de Video Cloud. Si no es cliente de Video Cloud, consulte <a href="/amp/amp-using-external-video.html">AMP usando un video externo</a>.</aside>
        <h2 id="Overview">Resumen</h2>
        <p>Accelerated Mobile Pages es un proyecto de Google que tiene como objetivo permitir «la creación de sitios web y anuncios que sean constantemente rápidos, hermosos y de alto rendimiento en todos los dispositivos y plataformas de distribución. « Puede utilizar Brightcove Player con AMP porque el proyecto incluye un <code translate="No">amp-brightcove</code> componente que permite a los editores incrustar reproductores de Brightcove en documentos HTML de AMP.</p>
    </section>
    <section class="bcls-section">
        <h2 id="Sample">Muestra</h2>
        <p>A continuación se muestra una página HTML de AMP de ejemplo que incluye un reproductor de Brightcove. El reproductor funciona normalmente, por lo que el HTML es la parte interesante de este ejemplo. El código HTML se examina más adelante en este documento.</p>
        <p class="codepen" data-height="330" data-theme-id="34967" data-default-tab="html,result" data-user="rcrooks1969" data-slug-hash="ddKwre" style="height: 330px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="AMP Example"><span>Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/ddKwre/"> Ejemplo de AMP</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</span></p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
        <aside class="bcls-aside bcls-aside--warning">Tenga en cuenta que, debido a la forma en que funciona AMP, debe tener en cuenta cuidadosamente sus limitaciones antes de usarlas. Por ejemplo:
            <ul>
                <li>AMP tiene reglas muy estrictas sobre qué HTML puede y no se puede utilizar en una página. Los detalles al respecto se pueden ver en la especificación HTML de <a href="https://www.ampproject.org/docs/reference/spec">AMP</a>.</li>
                <li>Brightcove Analytics no notificará correctamente la página de referencia de las páginas AMP; en su lugar, <code translate="No">referrer_domain</code> quedará en blanco y se <code translate="No">source_type</code> grabará como <code translate="No">direct</code>.</li>
                <li>Pocos de los atributos utilizados con la implementación avanzada (in-page) de Brightcove Player son válidos con <code translate="No">&lt;amp-brightcove ..&gt;</code>. Comprobar el <a href="https://www.ampproject.org/docs/reference/spec">Especificación HTML de AMP</a> para aquellos que se pueden utilizar.</li>
                <li>AMP no funcionará con reproductores con restricciones de dominio.</li>
            </ul>
        </aside>
    </section>
    <section class="bcls-section">
        <h2 id="Player_configuration">Configuración del reproductor</h2>
        <p>Brightcove proporciona un complemento que querrá cargar para mejorar el uso de AMP con Brightcove Player. El complemento agrega soporte para la API de interfaz de video de AMP que AMP requiere&nbsp;para controlar el reproductor dentro del documento AMP. También permite algunos&nbsp;características avanzadas:</p>
        <ul>
            <li><strong>Integración con amp-analytics</strong>: Permite el seguimiento de las vistas de análisis de terceros en relación con el dominio de páginas AMP.</li>
            <li><strong>Integración con amp-bind</strong>: La reproducción se puede controlar mediante otros elementos de la página AMP.</li>
        </ul>
        <p>Es posible que los reproductores sin el complemento no se comporten como se esperaba en un documento AMP.</p>
        <h3><strong>Instalación de plugins</strong></h3>
        <aside class="bcls-aside bcls-aside--warning">DEBES instalar el plugin. En el pasado, AMP funcionaba sin agregar el plugin. Esto ya no es cierto.</aside>
        <p>Al igual que con todos los complementos de Brightcove Player, necesitas el nombre y la URL del plugin para el JavaScript del plugin, que se proporcionan aquí (no es necesario ningún archivo CSS para usarlo):</p>
        <h4>Nombre del plugin</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">ampSupport</code></pre>
        <h4>URL JavaScript</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code></pre>
        <p>Para implementar el complemento AMP, agregará el nombre de la función del complemento y la URL al JavaScript del complemento:</p>
        <ol class="bcls-tasklist">
            <li>En Studio, abra el <strong>JUGADORES</strong> módulo y cree un nuevo reproductor o localice el reproductor al que desea agregar el complemento.</li>
            <li>Haz clic en el enlace del reproductor para abrir las propiedades del reproductor.</li>
            <li>Haz clic en <strong>Plugins</strong> en el menú de navegación izquierdo.</li>
            <li>Siguiente clic <strong>Complementos</strong> de las tres opciones.
                <figure class="bcls-figure"><img class="bcls-image" alt="Select Plugin" src="/assets/images/amp/amp-vc-players-plugin-options.png" /></figure>
            </li>
            <li>Desde el <strong>Agregar un complemento</strong> Seleccione <strong>Complemento personalizado</strong>.</li>
            <li>Para el nombre del <strong>complemento,</strong> introduzca <code translate="No">ampSupport</code>.</li>
            <li>Para el <strong>JavaScript</strong> URL, ingrese:
                <pre>
  <code class="language-json" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code></pre>
            </li>
            <li>No es necesario que ingrese ningún CSS ni opciones para este complemento.
                <figure class="bcls-figure"><img class="bcls-image" alt="Install plugin" src="/assets/images/amp/amp-vc-studio-install-plugin.png" /></figure>
            </li>
            <li>Haz clic en <strong>Guardar</strong>.</li>
            <li>Para publicar el reproductor, haga clic en <strong>Publicar e insertar &gt; Publicar cambios</strong>.</li>
            <li>Para cerrar el cuadro de diálogo abierto, haga clic en <strong>Cerrar</strong>.</li>
        </ol>
    </section>
    <section class="bcls-section">
        <h2 id="Resources_from_AMP">Recursos de AMP</h2>
        <p>El proyecto AMP desarrolló un <code translate="No">amp-brightcove</code> componente especial que muestra Brightcove Player. El componente se detalla en el documento <a href="https://www.ampproject.org/docs/reference/components/amp-brightcove">amp-brightcove.</a></p>
        <p>AMP proporciona un ejemplo de <code translate="No">amp-brightcove</code> implementación con detalles en los siguientes documentos:</p>
        <ul>
            <!-- 2 links below broken - couldn't find an replacements, but leaving it in place in case someone else can -->
            <!-- <li><a href="https://ampbyexample.com/components/amp-brightcove/">amp-brightcove</a></li> -->
            <li><a href="https://github.com/ampproject/amp-by-example/blob/master/src/20_Components/amp-brightcove.html">amp por ejemplo</a></li>
            <!-- <li><a href="https://ampbyexample.com/playground/#url=https%3A%2F%2Fampbyexample.com%2Fcomponents%2Famp-brightcove%2Fsource%2F">AMP Playground</a></li> -->
        </ul>
    </section>
    <section class="bcls-section">
        <h2 id="Code_examination">Examen de código</h2>
        <p>El código del ejemplo de CodePen anterior se muestra a continuación. AMP proporciona una explicación completa del código en los documentos vinculados anteriormente. En la siguiente lista hay algunos trucos/trampas que debe tener en cuenta:</p>
        <ul>
            <li>Línea 20: NO embellezca el código. El CSS de la caldera es necesario según lo suministrado por AMP.</li>
            <li>Línea 35: los <code translate="No">width</code> y <code translate="No">height</code> Los atributos determinan la relación de aspecto del reproductor incrustado en diseños receptivos.</li>
        </ul>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">&lt;!--
    ## Introduction

    The `amp-brightcove` component allows embedding a Brightcove
    [Video Cloud](https://www.brightcove.com/en/online-video-platform) or
    [Perform](https://www.brightcove.com/en/perform) player.
  --&gt;
  &lt;!-- --&gt;
  &lt;!doctype html&gt;
  &lt;html ⚡&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;amp-brightcove&lt;/title&gt;
    &lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;
    &lt;!-- ## Setup --&gt;
    &lt;!-- Import the Brightcove component in the header. --&gt;
    &lt;script async custom-element="amp-brightcove" src="https://cdn.ampproject.org/v0/amp-brightcove-0.1.js"&gt;&lt;/script&gt;
    &lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;
    &lt;link rel="canonical" href="https://ampbyexample.com/components/amp-brightcove/"&gt;
    &lt;style amp-boilerplate&gt;body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}&lt;/style&gt;&lt;noscript&gt;&lt;style amp-boilerplate&gt;body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}&lt;/style&gt;&lt;/noscript&gt;

  &lt;/head&gt;
  &lt;body&gt;

    &lt;!-- ## Basic Usage --&gt;
    &lt;!--
      A responsive brightcove video. The required data is `data-account` and `data-video-id`. Other
      supported parameters are `data-player-id`, `data-embed` and `data-playlist-id`.
    --&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;

  &lt;/body&gt;
  &lt;/html&gt;</code></pre>
    </section>
    <section class="bcls-section">
        <h2 id="Features">Características</h2>
        <p>Aunque se discute en la documentación de AMP, aquí se destacan algunas características que son de especial importancia:</p>
        <!-- These are features that are common to both Video Cloud and external videos -->
        <!-- THIS SECTION CAN BE ADDED TO THEN COPIED TO SIMILAR SECTION IN EXTERNAL VIDEO FEATURES SECTION -->

        <h3 id="Custom_parameters">Parámetros personalizados</h3>
        <p>Es posible que quieras pasar información adicional a tu reproductor para que tus complementos puedan acceder. Puede hacerlo añadiendo atributos adicionales en el <code translate="No">amp-brightcove</code> elemento al que se debe nombrar <code translate="No">data-param-*</code>, donde <code translate="No">*</code> es el nombre de su propiedad.</p>
        <p>Los parámetros se pasan como nombres de atributos con carcasa de camello anexados a la URL del reproductor. Las claves y los valores están codificados por URL. Por ejemplo:</p>
        <ul>
            <li><code translate="No">data-param-language="de"</code> se convierte <code translate="No">&amp;language=de</code></li>
            <li><code translate="No">data-param-ad-vars="key:val;key2:val2"</code> se convierte <code translate="No">&amp;adVars=key%3Aval%3Bkey2%3Aval2</code></li>
        </ul>
        <h3 id="dock">muelle (imagen en imagen)</h3>
        <p>La <code translate="No">dock</code> El atributo "acoplará" el reproductor cuando se desplazaría fuera de la vista. El reproductor se hace más pequeño y se mueve cerca de la parte superior derecha de la página web. Tenga en cuenta que los estándares HTML se refieren a esta función como <strong>imagen en imagen</strong>. A continuación, se muestra una captura de pantalla de un reproductor acoplado:</p>
        <figure class="bcls-figure"><img class="bcls-image" alt="dock" src="/assets/images/amp/amp-vc-amp-dock.png" /></figure>
        <p>Para implementar esta función, debe hacer lo siguiente:</p>
        <ol>
            <li>Incluya una secuencia de comandos que contenga el código de la función de acoplamiento, como se muestra en el siguiente fragmento de código en la línea 2.</li>
            <li>Añade el <code translate="No">dock</code> atribuir a la <code translate="No">&lt;amp-brightcove&gt;</code> etiqueta, como se muestra en la línea 13.</li>
        </ol>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">...
      <span class="bcls-highlight">&lt;script async custom-element="amp-video-docking" src="https://cdn.ampproject.org/v0/amp-video-docking-0.1.js"&gt;&lt;/script&gt;</span>
  &lt;/head&gt;
  &lt;body&gt;

  ...
      &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"
      <span class="bcls-highlight">dock</span>&gt;
    &lt;/amp-brightcove&gt;
    ...</code></pre>
        <h3>Soporte para referentes externos</h3>
        <p>Brightcove Player v6.25.0+ admite la configuración de un referente arbitrario en un iframe. El componente AMP ahora admite pasar por su propio referente al reproductor, añadiendo un <code translate="No">referrer="EXTERNAL_REFERRER"</code> atributo su amp-brightcove embed.</p>
        <p>EXTERNAL_REFERRER es la macro propia de AMP; consulte <a href="https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer">https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer</a> para obtener más información.</p>
        <h3>Análisis AMP</h3>
        <p>Un <strong>amp-analytics</strong> El componente se puede utilizar en un documento AMP para realizar un seguimiento de los datos en cualquier análisis arbitrario. Si los editores desean incluir eventos de vídeo, ahora pueden hacerlo.</p>
        <p>El documento de AMP sobre la sintaxis de AMP Analytics (que es engorroso) está aquí: <a href="https://www.ampproject.org/docs/reference/components/amp-analytics">https://www.ampproject.org/docs/reference/components/amp-analytics</a>. Y, en concreto, análisis de vídeo: <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md">https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md</a>.</p>
        <p>Hay un ejemplo disponible, rastreando a <strong>example.com para</strong> que veas las balizas como errores en la pestaña de red: <a href="http://solutions.brightcove.com/bclifford/ampexamples/analytics.html">http://solutions.brightcove.com/bclifford/ampexamples/analytics.html</a>.</p>
        <h3>Enlazar AMP</h3>
        <p>AMP Bind es la API de AMP para interactuar entre componentes. A nivel básico, te permite tener algo externo al reproductor para controlar la reproducción. Por ejemplo, el siguiente código reproduciría un vídeo, donde <code translate="No">myPlayer</code> es el <code translate="No">id</code> del reproductor amp-brightcove.</p>
        <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;button on="tap:myPlayer.play"&gt;Play&lt;/button&gt;</code></pre>
        <p>AMP no confía en los eventos de vídeo, por lo que actualmente no puedes hacer algo más útil, como actuar en un extremo de vídeo. Un ejemplo de esto está disponible aquí: <a href="http://solutions.brightcove.com/bclifford/ampexamples/bind.html">http://solutions.brightcove.com/bclifford/ampexamples/bind.html</a>.</p>
        <!-- END OF COMMON FEATURES -->
        <!-- These are features unique to Video Cloud videos and NOT shared with external videos -->

<!--         <h3>Advertising</h3>
        <p>Advertising, including prerolls, works in players used in AMP. The ad plugin and its configuration just needs to be included in the player's configuration. If you need to include article-specific values in your ad server calls, you can pass custom data through to a player plugin as described later in this document.</p>
        <p>AMP is very strict in what can be added to a valid AMP page, as detailed in the <a href="/amp/amp-using-video-cloud-video.html">AMP Using a Video Cloud Video</a> document. For example, you CANNOT use the standard practice of adding an <code translate="No">id</code> to the <code translate="No">amp-brightcove</code> tag then use a <code translate="No">script</code> block to configure, for instance, the IMA3 plugin. To reiterate, advertising must be implemented in the player's configuration, either using Studio or the Player Management API.</p>
        <p>If you wish to use ad configuration URLs that utilize an ad macro such as <code translate="No">{pageVariable.<span class="bcls-highlight">adId</span>}</code>, you must alter the player's configuration. You can use a custom parameter like:</p>
        <pre class="line-numbers">
  <code class="language-html" translate="No">data-param-ad-id="preonlybumper"</code></pre>
        <p>This does not make the value automatically available to the ad macro <code translate="No">{pageVariable.adId}</code>. To make the <code translate="No">ad-id/adId</code> property available to the ad URL, you must use Brightcove Player's <a href="/general/player-configuration-guide.html#query_string_to_window">query_string_to_window</a> configuration option. This option controls the population of the global namespace (window) variables from query string parameters. To add all query parameters to the global namespace, add the following to your player configuration:
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "target": "queryStringParams"
}</code></pre>
            <p>Note the <code translate="no">queryStringsParams</code> name is the "variable" in which the parameters will be stored, and you can change the name as you choose.</p>
            <p>If for some reason you prefer to only assign limited parameters to the global namespace you can do so. For instance, to make only the <code class="language-html" translate="No">data-param-<span class="bcls-highlight">ad-id</span>="..."</code> available to the plugin, you add the following to the player configuration:</p>
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "globals": [
    "adId"
  ]
}</code></pre>
            <p>For specific instructions on updating a player configuration see <a href="https://apis.support.brightcove.com/player-management/references/reference.html#operation/UpdatePlayerConfiguration">Player Configurations - Update a Player Configuration</a> from the Player Management API reference.</p>
 -->            <h3>Diseñando al jugador</h3>
            <p>Si desea darle estilo al reproductor, debe usar una sintaxis especial para hacerlo. Por ejemplo, si desea establecer el tamaño del reproductor, debe crear un <code translate="No">style</code> bloquear como se muestra y rodear el reproductor con un <code translate="No">div</code> , como se muestra aquí:</p>
            <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;style <span class="bcls-highlight">amp-custom</span>&gt;
    .player-container {
      width: 640px;
      height: 360px;
    }
  &lt;/style&gt;&lt;/code&gt;&lt;/pre&gt;

  ...

  &lt;div class="player-container"&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;
  &lt;/div&gt;</code></pre>
            <p>Puede añadir una sola <code translate="No">style</code> etiqueta, pero debe incluir el <code translate="No">amp-custom</code> atributo.</p>
    </section>

    <section class="bcls-section">
        <h2 id="Error_suppression">Supresión de errores para bots</h2>
        <p>Cuando un bot que no es compatible con AMP navega por una página que contiene el reproductor de video AMP, se genera un error de video fallido. Esto puede dañar el ranking SEO. Puedes usar el <code translate="No">suppressNotSupportedError</code> en la configuración JSON de Brightcove Player para evitar que esto ocurra. Agregue lo siguiente para suprimir estos errores falsos:</p>
        <pre class="line-numbers"><code class="language-json" translate="No">"suppress_not_supported_error": true</code></pre>
        <aside class="bcls-aside bcls-aside--warning">Para que esto funcione, debe estar en Brightcove Player versión 6.38.4 o posterior.</aside>
    </section>

</article>